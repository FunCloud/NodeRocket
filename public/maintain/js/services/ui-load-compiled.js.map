{"version":3,"sources":["ui-load.js"],"names":[],"mappings":"AAAA;;;;;;;;;;AAUA,QAAQ,MAAR,CAAe,SAAf,EAA0B,EAA1B,EACE,OADF,CACU,QADV,EACoB,CAAC,WAAD,EAAc,IAAd,EAAoB,UAApB,EAAgC,UAAU,SAAV,EAAqB,EAArB,EAAyB,QAAzB,EAAmC;;AAErF,KAAI,SAAS,EAAb;AACA,KAAI,UAAU,KAAd;AACA,KAAI,WAAW,GAAG,KAAH,EAAf;;;;;;;AAOA,MAAK,IAAL,GAAY,UAAU,IAAV,EAAgB;AAC3B,SAAO,QAAQ,OAAR,CAAgB,IAAhB,IAAwB,IAAxB,GAA+B,KAAK,KAAL,CAAW,KAAX,CAAtC;AACA,MAAI,OAAO,IAAX;AACA,MAAG,CAAC,OAAJ,EAAY;AACX,aAAU,SAAS,OAAnB;AACA;AACE,UAAQ,OAAR,CAAgB,IAAhB,EAAsB,UAAS,GAAT,EAAc;AACnC,aAAU,QAAQ,IAAR,CAAc,YAAU;AACjC,WAAO,IAAI,OAAJ,CAAY,MAAZ,KAAsB,CAAtB,GAA0B,KAAK,OAAL,CAAa,GAAb,CAA1B,GAA8C,KAAK,UAAL,CAAgB,GAAhB,CAArD;AACA,IAFS,CAAV;AAGA,GAJD;AAKA,WAAS,OAAT;AACA,SAAO,OAAP;AACH,EAbD;;;;;;;AAoBA,MAAK,UAAL,GAAkB,UAAU,GAAV,EAAe;AAChC,MAAG,OAAO,GAAP,CAAH,EAAgB,OAAO,OAAO,GAAP,EAAY,OAAnB;;AAEhB,MAAI,WAAW,GAAG,KAAH,EAAf;AACA,MAAI,SAAS,UAAU,CAAV,EAAa,aAAb,CAA2B,QAA3B,CAAb;AACA,SAAO,GAAP,GAAa,GAAb;AACA,SAAO,MAAP,GAAgB,UAAU,CAAV,EAAa;AAC5B,YAAS,YAAY;AACpB,aAAS,OAAT,CAAiB,CAAjB;AACA,IAFD;AAGA,GAJD;AAKA,SAAO,OAAP,GAAiB,UAAU,CAAV,EAAa;AAC7B,YAAS,YAAY;AACpB,aAAS,MAAT,CAAgB,CAAhB;AACA,IAFD;AAGA,GAJD;AAKA,YAAU,CAAV,EAAa,IAAb,CAAkB,WAAlB,CAA8B,MAA9B;AACA,SAAO,GAAP,IAAc,QAAd;;AAEA,SAAO,SAAS,OAAhB;AACA,EApBD;;;;;;;AA2BA,MAAK,OAAL,GAAe,UAAU,IAAV,EAAgB;AAC9B,MAAG,OAAO,IAAP,CAAH,EAAiB,OAAO,OAAO,IAAP,EAAa,OAApB;;AAEjB,MAAI,WAAW,GAAG,KAAH,EAAf;AACA,MAAI,QAAQ,UAAU,CAAV,EAAa,aAAb,CAA2B,MAA3B,CAAZ;AACA,QAAM,GAAN,GAAY,YAAZ;AACA,QAAM,IAAN,GAAa,UAAb;AACA,QAAM,IAAN,GAAa,IAAb;AACA,QAAM,MAAN,GAAe,UAAU,CAAV,EAAa;AAC3B,YAAS,YAAY;AACpB,aAAS,OAAT,CAAiB,CAAjB;AACA,IAFD;AAGA,GAJD;AAKA,QAAM,OAAN,GAAgB,UAAU,CAAV,EAAa;AAC5B,YAAS,YAAY;AACpB,aAAS,MAAT,CAAgB,CAAhB;AACA,IAFD;AAGA,GAJD;AAKA,YAAU,CAAV,EAAa,IAAb,CAAkB,WAAlB,CAA8B,KAA9B;AACA,SAAO,IAAP,IAAe,QAAf;;AAEA,SAAO,SAAS,OAAhB;AACA,EAtBD;AAuBD,CAjFmB,CADpB","file":"ui-load-compiled.js","sourcesContent":["'use strict';\r\n\r\n/**\r\n * 0.1.1\r\n * Deferred load js/css file, used for ui-jq.js and Lazy Loading.\r\n * \r\n * @ flatfull.com All Rights Reserved.\r\n * Author url: http://themeforest.net/user/flatfull\r\n */\r\n\r\nangular.module('ui.load', [])\r\n\t.service('uiLoad', ['$document', '$q', '$timeout', function ($document, $q, $timeout) {\r\n\r\n\t\tvar loaded = [];\r\n\t\tvar promise = false;\r\n\t\tvar deferred = $q.defer();\r\n\r\n\t\t/**\r\n\t\t * Chain loads the given sources\r\n\t\t * @param srcs array, script or css\r\n\t\t * @returns {*} Promise that will be resolved once the sources has been loaded.\r\n\t\t */\r\n\t\tthis.load = function (srcs) {\r\n\t\t\tsrcs = angular.isArray(srcs) ? srcs : srcs.split(/\\s+/);\r\n\t\t\tvar self = this;\r\n\t\t\tif(!promise){\r\n\t\t\t\tpromise = deferred.promise;\r\n\t\t\t}\r\n      angular.forEach(srcs, function(src) {\r\n      \tpromise = promise.then( function(){\r\n      \t\treturn src.indexOf('.css') >=0 ? self.loadCSS(src) : self.loadScript(src);\r\n      \t} );\r\n      });\r\n      deferred.resolve();\r\n      return promise;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Dynamically loads the given script\r\n\t\t * @param src The url of the script to load dynamically\r\n\t\t * @returns {*} Promise that will be resolved once the script has been loaded.\r\n\t\t */\r\n\t\tthis.loadScript = function (src) {\r\n\t\t\tif(loaded[src]) return loaded[src].promise;\r\n\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\tvar script = $document[0].createElement('script');\r\n\t\t\tscript.src = src;\r\n\t\t\tscript.onload = function (e) {\r\n\t\t\t\t$timeout(function () {\r\n\t\t\t\t\tdeferred.resolve(e);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tscript.onerror = function (e) {\r\n\t\t\t\t$timeout(function () {\r\n\t\t\t\t\tdeferred.reject(e);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t$document[0].body.appendChild(script);\r\n\t\t\tloaded[src] = deferred;\r\n\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Dynamically loads the given CSS file\r\n\t\t * @param href The url of the CSS to load dynamically\r\n\t\t * @returns {*} Promise that will be resolved once the CSS file has been loaded.\r\n\t\t */\r\n\t\tthis.loadCSS = function (href) {\r\n\t\t\tif(loaded[href]) return loaded[href].promise;\r\n\r\n\t\t\tvar deferred = $q.defer();\r\n\t\t\tvar style = $document[0].createElement('link');\r\n\t\t\tstyle.rel = 'stylesheet';\r\n\t\t\tstyle.type = 'text/css';\r\n\t\t\tstyle.href = href;\r\n\t\t\tstyle.onload = function (e) {\r\n\t\t\t\t$timeout(function () {\r\n\t\t\t\t\tdeferred.resolve(e);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tstyle.onerror = function (e) {\r\n\t\t\t\t$timeout(function () {\r\n\t\t\t\t\tdeferred.reject(e);\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t$document[0].head.appendChild(style);\r\n\t\t\tloaded[href] = deferred;\r\n\r\n\t\t\treturn deferred.promise;\r\n\t\t};\r\n}]);"]}