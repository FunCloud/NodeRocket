{"version":3,"sources":["skycons.js"],"names":[],"mappings":"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","file":"skycons-compiled.js","sourcesContent":["(function(global) {\r\n  \"use strict\";\r\n\r\n  /* Set up a RequestAnimationFrame shim so we can animate efficiently FOR\r\n   * GREAT JUSTICE. */\r\n  var requestInterval, cancelInterval;\r\n\r\n  (function() {\r\n    var raf = global.requestAnimationFrame       ||\r\n              global.webkitRequestAnimationFrame ||\r\n              global.mozRequestAnimationFrame    ||\r\n              global.oRequestAnimationFrame      ||\r\n              global.msRequestAnimationFrame     ,\r\n        caf = global.cancelAnimationFrame        ||\r\n              global.webkitCancelAnimationFrame  ||\r\n              global.mozCancelAnimationFrame     ||\r\n              global.oCancelAnimationFrame       ||\r\n              global.msCancelAnimationFrame      ;\r\n\r\n    if(raf && caf) {\r\n      requestInterval = function(fn, delay) {\r\n        var handle = {value: null};\r\n\r\n        function loop() {\r\n          handle.value = raf(loop);\r\n          fn();\r\n        }\r\n\r\n        loop();\r\n        return handle;\r\n      };\r\n\r\n      cancelInterval = function(handle) {\r\n        caf(handle.value);\r\n      };\r\n    }\r\n\r\n    else {\r\n      requestInterval = setInterval;\r\n      cancelInterval = clearInterval;\r\n    }\r\n  }());\r\n\r\n  /* Catmull-rom spline stuffs. */\r\n  /*\r\n  function upsample(n, spline) {\r\n    var polyline = [],\r\n        len = spline.length,\r\n        bx  = spline[0],\r\n        by  = spline[1],\r\n        cx  = spline[2],\r\n        cy  = spline[3],\r\n        dx  = spline[4],\r\n        dy  = spline[5],\r\n        i, j, ax, ay, px, qx, rx, sx, py, qy, ry, sy, t;\r\n\r\n    for(i = 6; i !== spline.length; i += 2) {\r\n      ax = bx;\r\n      bx = cx;\r\n      cx = dx;\r\n      dx = spline[i    ];\r\n      px = -0.5 * ax + 1.5 * bx - 1.5 * cx + 0.5 * dx;\r\n      qx =        ax - 2.5 * bx + 2.0 * cx - 0.5 * dx;\r\n      rx = -0.5 * ax            + 0.5 * cx           ;\r\n      sx =                   bx                      ;\r\n\r\n      ay = by;\r\n      by = cy;\r\n      cy = dy;\r\n      dy = spline[i + 1];\r\n      py = -0.5 * ay + 1.5 * by - 1.5 * cy + 0.5 * dy;\r\n      qy =        ay - 2.5 * by + 2.0 * cy - 0.5 * dy;\r\n      ry = -0.5 * ay            + 0.5 * cy           ;\r\n      sy =                   by                      ;\r\n\r\n      for(j = 0; j !== n; ++j) {\r\n        t = j / n;\r\n\r\n        polyline.push(\r\n          ((px * t + qx) * t + rx) * t + sx,\r\n          ((py * t + qy) * t + ry) * t + sy\r\n        );\r\n      }\r\n    }\r\n\r\n    polyline.push(\r\n      px + qx + rx + sx,\r\n      py + qy + ry + sy\r\n    );\r\n\r\n    return polyline;\r\n  }\r\n\r\n  function downsample(n, polyline) {\r\n    var len = 0,\r\n        i, dx, dy;\r\n\r\n    for(i = 2; i !== polyline.length; i += 2) {\r\n      dx = polyline[i    ] - polyline[i - 2];\r\n      dy = polyline[i + 1] - polyline[i - 1];\r\n      len += Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n    len /= n;\r\n\r\n    var small = [],\r\n        target = len,\r\n        min = 0,\r\n        max, t;\r\n\r\n    small.push(polyline[0], polyline[1]);\r\n\r\n    for(i = 2; i !== polyline.length; i += 2) {\r\n      dx = polyline[i    ] - polyline[i - 2];\r\n      dy = polyline[i + 1] - polyline[i - 1];\r\n      max = min + Math.sqrt(dx * dx + dy * dy);\r\n\r\n      if(max > target) {\r\n        t = (target - min) / (max - min);\r\n\r\n        small.push(\r\n          polyline[i - 2] + dx * t,\r\n          polyline[i - 1] + dy * t\r\n        );\r\n\r\n        target += len;\r\n      }\r\n\r\n      min = max;\r\n    }\r\n\r\n    small.push(polyline[polyline.length - 2], polyline[polyline.length - 1]);\r\n\r\n    return small;\r\n  }\r\n  */\r\n\r\n  /* Define skycon things. */\r\n  /* FIXME: I'm *really really* sorry that this code is so gross. Really, I am.\r\n   * I'll try to clean it up eventually! Promise! */\r\n  var KEYFRAME = 500,\r\n      STROKE = 0.08,\r\n      TAU = 2.0 * Math.PI,\r\n      TWO_OVER_SQRT_2 = 2.0 / Math.sqrt(2);\r\n\r\n  function circle(ctx, x, y, r) {\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, r, 0, TAU, false);\r\n    ctx.fill();\r\n  }\r\n\r\n  function line(ctx, ax, ay, bx, by) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(ax, ay);\r\n    ctx.lineTo(bx, by);\r\n    ctx.stroke();\r\n  }\r\n\r\n  function puff(ctx, t, cx, cy, rx, ry, rmin, rmax) {\r\n    var c = Math.cos(t * TAU),\r\n        s = Math.sin(t * TAU);\r\n\r\n    rmax -= rmin;\r\n\r\n    circle(\r\n      ctx,\r\n      cx - s * rx,\r\n      cy + c * ry + rmax * 0.5,\r\n      rmin + (1 - c * 0.5) * rmax\r\n    );\r\n  }\r\n\r\n  function puffs(ctx, t, cx, cy, rx, ry, rmin, rmax) {\r\n    var i;\r\n\r\n    for(i = 5; i--; )\r\n      puff(ctx, t + i / 5, cx, cy, rx, ry, rmin, rmax);\r\n  }\r\n\r\n  function cloud(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 30000;\r\n\r\n    var a = cw * 0.21,\r\n        b = cw * 0.12,\r\n        c = cw * 0.24,\r\n        d = cw * 0.28;\r\n\r\n    ctx.fillStyle = color;\r\n    puffs(ctx, t, cx, cy, a, b, c, d);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    puffs(ctx, t, cx, cy, a, b, c - s, d - s);\r\n    ctx.globalCompositeOperation = 'source-over';\r\n  }\r\n\r\n  function sun(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 120000;\r\n\r\n    var a = cw * 0.25 - s * 0.5,\r\n        b = cw * 0.32 + s * 0.5,\r\n        c = cw * 0.50 - s * 0.5,\r\n        i, p, cos, sin;\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = s;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(cx, cy, a, 0, TAU, false);\r\n    ctx.stroke();\r\n\r\n    for(i = 8; i--; ) {\r\n      p = (t + i / 8) * TAU;\r\n      cos = Math.cos(p);\r\n      sin = Math.sin(p);\r\n      line(ctx, cx + cos * b, cy + sin * b, cx + cos * c, cy + sin * c);\r\n    }\r\n  }\r\n\r\n  function moon(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 15000;\r\n\r\n    var a = cw * 0.29 - s * 0.5,\r\n        b = cw * 0.05,\r\n        c = Math.cos(t * TAU),\r\n        p = c * TAU / -16;\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = s;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    cx += c * b;\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(cx, cy, a, p + TAU / 8, p + TAU * 7 / 8, false);\r\n    ctx.arc(cx + Math.cos(p) * a * TWO_OVER_SQRT_2, cy + Math.sin(p) * a * TWO_OVER_SQRT_2, a, p + TAU * 5 / 8, p + TAU * 3 / 8, true);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n  }\r\n\r\n  function rain(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 1350;\r\n\r\n    var a = cw * 0.16,\r\n        b = TAU * 11 / 12,\r\n        c = TAU *  7 / 12,\r\n        i, p, x, y;\r\n\r\n    ctx.fillStyle = color;\r\n\r\n    for(i = 4; i--; ) {\r\n      p = (t + i / 4) % 1;\r\n      x = cx + ((i - 1.5) / 1.5) * (i === 1 || i === 2 ? -1 : 1) * a;\r\n      y = cy + p * p * cw;\r\n      ctx.beginPath();\r\n      ctx.moveTo(x, y - s * 1.5);\r\n      ctx.arc(x, y, s * 0.75, b, c, false);\r\n      ctx.fill();\r\n    }\r\n  }\r\n\r\n  function sleet(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 750;\r\n\r\n    var a = cw * 0.1875,\r\n        b = TAU * 11 / 12,\r\n        c = TAU *  7 / 12,\r\n        i, p, x, y;\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = s * 0.5;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    for(i = 4; i--; ) {\r\n      p = (t + i / 4) % 1;\r\n      x = Math.floor(cx + ((i - 1.5) / 1.5) * (i === 1 || i === 2 ? -1 : 1) * a) + 0.5;\r\n      y = cy + p * cw;\r\n      line(ctx, x, y - s * 1.5, x, y + s * 1.5);\r\n    }\r\n  }\r\n\r\n  function snow(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 3000;\r\n\r\n    var a  = cw * 0.16,\r\n        b  = s * 0.75,\r\n        u  = t * TAU * 0.7,\r\n        ux = Math.cos(u) * b,\r\n        uy = Math.sin(u) * b,\r\n        v  = u + TAU / 3,\r\n        vx = Math.cos(v) * b,\r\n        vy = Math.sin(v) * b,\r\n        w  = u + TAU * 2 / 3,\r\n        wx = Math.cos(w) * b,\r\n        wy = Math.sin(w) * b,\r\n        i, p, x, y;\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = s * 0.5;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    for(i = 4; i--; ) {\r\n      p = (t + i / 4) % 1;\r\n      x = cx + Math.sin((p + i / 4) * TAU) * a;\r\n      y = cy + p * cw;\r\n\r\n      line(ctx, x - ux, y - uy, x + ux, y + uy);\r\n      line(ctx, x - vx, y - vy, x + vx, y + vy);\r\n      line(ctx, x - wx, y - wy, x + wx, y + wy);\r\n    }\r\n  }\r\n\r\n  function fogbank(ctx, t, cx, cy, cw, s, color) {\r\n    t /= 30000;\r\n\r\n    var a = cw * 0.21,\r\n        b = cw * 0.06,\r\n        c = cw * 0.21,\r\n        d = cw * 0.28;\r\n\r\n    ctx.fillStyle = color;\r\n    puffs(ctx, t, cx, cy, a, b, c, d);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    puffs(ctx, t, cx, cy, a, b, c - s, d - s);\r\n    ctx.globalCompositeOperation = 'source-over';\r\n  }\r\n\r\n  /*\r\n  var WIND_PATHS = [\r\n        downsample(63, upsample(8, [\r\n          -1.00, -0.28,\r\n          -0.75, -0.18,\r\n          -0.50,  0.12,\r\n          -0.20,  0.12,\r\n          -0.04, -0.04,\r\n          -0.07, -0.18,\r\n          -0.19, -0.18,\r\n          -0.23, -0.05,\r\n          -0.12,  0.11,\r\n           0.02,  0.16,\r\n           0.20,  0.15,\r\n           0.50,  0.07,\r\n           0.75,  0.18,\r\n           1.00,  0.28\r\n        ])),\r\n        downsample(31, upsample(16, [\r\n          -1.00, -0.10,\r\n          -0.75,  0.00,\r\n          -0.50,  0.10,\r\n          -0.25,  0.14,\r\n           0.00,  0.10,\r\n           0.25,  0.00,\r\n           0.50, -0.10,\r\n           0.75, -0.14,\r\n           1.00, -0.10\r\n        ]))\r\n      ];\r\n  */\r\n\r\n  var WIND_PATHS = [\r\n        [\r\n          -0.7500, -0.1800, -0.7219, -0.1527, -0.6971, -0.1225,\r\n          -0.6739, -0.0910, -0.6516, -0.0588, -0.6298, -0.0262,\r\n          -0.6083,  0.0065, -0.5868,  0.0396, -0.5643,  0.0731,\r\n          -0.5372,  0.1041, -0.5033,  0.1259, -0.4662,  0.1406,\r\n          -0.4275,  0.1493, -0.3881,  0.1530, -0.3487,  0.1526,\r\n          -0.3095,  0.1488, -0.2708,  0.1421, -0.2319,  0.1342,\r\n          -0.1943,  0.1217, -0.1600,  0.1025, -0.1290,  0.0785,\r\n          -0.1012,  0.0509, -0.0764,  0.0206, -0.0547, -0.0120,\r\n          -0.0378, -0.0472, -0.0324, -0.0857, -0.0389, -0.1241,\r\n          -0.0546, -0.1599, -0.0814, -0.1876, -0.1193, -0.1964,\r\n          -0.1582, -0.1935, -0.1931, -0.1769, -0.2157, -0.1453,\r\n          -0.2290, -0.1085, -0.2327, -0.0697, -0.2240, -0.0317,\r\n          -0.2064,  0.0033, -0.1853,  0.0362, -0.1613,  0.0672,\r\n          -0.1350,  0.0961, -0.1051,  0.1213, -0.0706,  0.1397,\r\n          -0.0332,  0.1512,  0.0053,  0.1580,  0.0442,  0.1624,\r\n           0.0833,  0.1636,  0.1224,  0.1615,  0.1613,  0.1565,\r\n           0.1999,  0.1500,  0.2378,  0.1402,  0.2749,  0.1279,\r\n           0.3118,  0.1147,  0.3487,  0.1015,  0.3858,  0.0892,\r\n           0.4236,  0.0787,  0.4621,  0.0715,  0.5012,  0.0702,\r\n           0.5398,  0.0766,  0.5768,  0.0890,  0.6123,  0.1055,\r\n           0.6466,  0.1244,  0.6805,  0.1440,  0.7147,  0.1630,\r\n           0.7500,  0.1800\r\n        ],\r\n        [\r\n          -0.7500,  0.0000, -0.7033,  0.0195, -0.6569,  0.0399,\r\n          -0.6104,  0.0600, -0.5634,  0.0789, -0.5155,  0.0954,\r\n          -0.4667,  0.1089, -0.4174,  0.1206, -0.3676,  0.1299,\r\n          -0.3174,  0.1365, -0.2669,  0.1398, -0.2162,  0.1391,\r\n          -0.1658,  0.1347, -0.1157,  0.1271, -0.0661,  0.1169,\r\n          -0.0170,  0.1046,  0.0316,  0.0903,  0.0791,  0.0728,\r\n           0.1259,  0.0534,  0.1723,  0.0331,  0.2188,  0.0129,\r\n           0.2656, -0.0064,  0.3122, -0.0263,  0.3586, -0.0466,\r\n           0.4052, -0.0665,  0.4525, -0.0847,  0.5007, -0.1002,\r\n           0.5497, -0.1130,  0.5991, -0.1240,  0.6491, -0.1325,\r\n           0.6994, -0.1380,  0.7500, -0.1400\r\n        ]\r\n      ],\r\n      WIND_OFFSETS = [\r\n        {start: 0.36, end: 0.11},\r\n        {start: 0.56, end: 0.16}\r\n      ];\r\n\r\n  function leaf(ctx, t, x, y, cw, s, color) {\r\n    var a = cw / 8,\r\n        b = a / 3,\r\n        c = 2 * b,\r\n        d = (t % 1) * TAU,\r\n        e = Math.cos(d),\r\n        f = Math.sin(d);\r\n\r\n    ctx.fillStyle = color;\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = s;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(x        , y        , a, d          , d + Math.PI, false);\r\n    ctx.arc(x - b * e, y - b * f, c, d + Math.PI, d          , false);\r\n    ctx.arc(x + c * e, y + c * f, b, d + Math.PI, d          , true );\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.fill();\r\n    ctx.globalCompositeOperation = 'source-over';\r\n    ctx.stroke();\r\n  }\r\n\r\n  function swoosh(ctx, t, cx, cy, cw, s, index, total, color) {\r\n    t /= 2500;\r\n\r\n    var path = WIND_PATHS[index],\r\n        a = (t + index - WIND_OFFSETS[index].start) % total,\r\n        c = (t + index - WIND_OFFSETS[index].end  ) % total,\r\n        e = (t + index                            ) % total,\r\n        b, d, f, i;\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = s;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    if(a < 1) {\r\n      ctx.beginPath();\r\n\r\n      a *= path.length / 2 - 1;\r\n      b  = Math.floor(a);\r\n      a -= b;\r\n      b *= 2;\r\n      b += 2;\r\n\r\n      ctx.moveTo(\r\n        cx + (path[b - 2] * (1 - a) + path[b    ] * a) * cw,\r\n        cy + (path[b - 1] * (1 - a) + path[b + 1] * a) * cw\r\n      );\r\n\r\n      if(c < 1) {\r\n        c *= path.length / 2 - 1;\r\n        d  = Math.floor(c);\r\n        c -= d;\r\n        d *= 2;\r\n        d += 2;\r\n\r\n        for(i = b; i !== d; i += 2)\r\n          ctx.lineTo(cx + path[i] * cw, cy + path[i + 1] * cw);\r\n\r\n        ctx.lineTo(\r\n          cx + (path[d - 2] * (1 - c) + path[d    ] * c) * cw,\r\n          cy + (path[d - 1] * (1 - c) + path[d + 1] * c) * cw\r\n        );\r\n      }\r\n\r\n      else\r\n        for(i = b; i !== path.length; i += 2)\r\n          ctx.lineTo(cx + path[i] * cw, cy + path[i + 1] * cw);\r\n\r\n      ctx.stroke();\r\n    }\r\n\r\n    else if(c < 1) {\r\n      ctx.beginPath();\r\n\r\n      c *= path.length / 2 - 1;\r\n      d  = Math.floor(c);\r\n      c -= d;\r\n      d *= 2;\r\n      d += 2;\r\n\r\n      ctx.moveTo(cx + path[0] * cw, cy + path[1] * cw);\r\n\r\n      for(i = 2; i !== d; i += 2)\r\n        ctx.lineTo(cx + path[i] * cw, cy + path[i + 1] * cw);\r\n\r\n      ctx.lineTo(\r\n        cx + (path[d - 2] * (1 - c) + path[d    ] * c) * cw,\r\n        cy + (path[d - 1] * (1 - c) + path[d + 1] * c) * cw\r\n      );\r\n\r\n      ctx.stroke();\r\n    }\r\n\r\n    if(e < 1) {\r\n      e *= path.length / 2 - 1;\r\n      f  = Math.floor(e);\r\n      e -= f;\r\n      f *= 2;\r\n      f += 2;\r\n\r\n      leaf(\r\n        ctx,\r\n        t,\r\n        cx + (path[f - 2] * (1 - e) + path[f    ] * e) * cw,\r\n        cy + (path[f - 1] * (1 - e) + path[f + 1] * e) * cw,\r\n        cw,\r\n        s,\r\n        color\r\n      );\r\n    }\r\n  }\r\n\r\n  var Skycons = function(opts) {\r\n        this.list        = [];\r\n        this.interval    = null;\r\n        this.color       = opts && opts.color ? opts.color : \"black\";\r\n        this.resizeClear = !!(opts && opts.resizeClear);\r\n      };\r\n\r\n  Skycons.CLEAR_DAY = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    sun(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.CLEAR_NIGHT = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    moon(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.PARTLY_CLOUDY_DAY = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    sun(ctx, t, w * 0.625, h * 0.375, s * 0.75, s * STROKE, color);\r\n    cloud(ctx, t, w * 0.375, h * 0.625, s * 0.75, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.PARTLY_CLOUDY_NIGHT = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    moon(ctx, t, w * 0.667, h * 0.375, s * 0.75, s * STROKE, color);\r\n    cloud(ctx, t, w * 0.375, h * 0.625, s * 0.75, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.CLOUDY = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    cloud(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.RAIN = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    rain(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\r\n    cloud(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.SLEET = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    sleet(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\r\n    cloud(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.SNOW = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    snow(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\r\n    cloud(ctx, t, w * 0.5, h * 0.37, s * 0.9, s * STROKE, color);\r\n  };\r\n\r\n  Skycons.WIND = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h);\r\n\r\n    swoosh(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, 0, 2, color);\r\n    swoosh(ctx, t, w * 0.5, h * 0.5, s, s * STROKE, 1, 2, color);\r\n  };\r\n\r\n  Skycons.FOG = function(ctx, t, color) {\r\n    var w = ctx.canvas.width,\r\n        h = ctx.canvas.height,\r\n        s = Math.min(w, h),\r\n        k = s * STROKE;\r\n\r\n    fogbank(ctx, t, w * 0.5, h * 0.32, s * 0.75, k, color);\r\n\r\n    t /= 5000;\r\n\r\n    var a = Math.cos((t       ) * TAU) * s * 0.02,\r\n        b = Math.cos((t + 0.25) * TAU) * s * 0.02,\r\n        c = Math.cos((t + 0.50) * TAU) * s * 0.02,\r\n        d = Math.cos((t + 0.75) * TAU) * s * 0.02,\r\n        n = h * 0.936,\r\n        e = Math.floor(n - k * 0.5) + 0.5,\r\n        f = Math.floor(n - k * 2.5) + 0.5;\r\n\r\n    ctx.strokeStyle = color;\r\n    ctx.lineWidth = k;\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n\r\n    line(ctx, a + w * 0.2 + k * 0.5, e, b + w * 0.8 - k * 0.5, e);\r\n    line(ctx, c + w * 0.2 + k * 0.5, f, d + w * 0.8 - k * 0.5, f);\r\n  };\r\n\r\n  Skycons.prototype = {\r\n    _determineDrawingFunction: function(draw) {\r\n      if(typeof draw === \"string\")\r\n        draw = Skycons[draw.toUpperCase().replace(/-/g, \"_\")] || null;\r\n\r\n      return draw;\r\n    },\r\n    add: function(el, draw) {\r\n      var obj;\r\n\r\n      if(typeof el === \"string\")\r\n        el = document.getElementById(el);\r\n\r\n      // Does nothing if canvas name doesn't exists\r\n      if(el === null)\r\n        return;\r\n\r\n      draw = this._determineDrawingFunction(draw);\r\n\r\n      // Does nothing if the draw function isn't actually a function\r\n      if(typeof draw !== \"function\")\r\n        return;\r\n\r\n      obj = {\r\n        element: el,\r\n        context: el.getContext(\"2d\"),\r\n        drawing: draw\r\n      };\r\n\r\n      this.list.push(obj);\r\n      this.draw(obj, KEYFRAME);\r\n    },\r\n    set: function(el, draw) {\r\n      var i;\r\n\r\n      if(typeof el === \"string\")\r\n        el = document.getElementById(el);\r\n\r\n      for(i = this.list.length; i--; )\r\n        if(this.list[i].element === el) {\r\n          this.list[i].drawing = this._determineDrawingFunction(draw);\r\n          this.draw(this.list[i], KEYFRAME);\r\n          return;\r\n        }\r\n\r\n      this.add(el, draw);\r\n    },\r\n    remove: function(el) {\r\n      var i;\r\n\r\n      if(typeof el === \"string\")\r\n        el = document.getElementById(el);\r\n\r\n      for(i = this.list.length; i--; )\r\n        if(this.list[i].element === el) {\r\n          this.list.splice(i, 1);\r\n          return;\r\n        }\r\n    },\r\n    draw: function(obj, time) {\r\n      var canvas = obj.context.canvas;\r\n\r\n      if(this.resizeClear)\r\n        canvas.width = canvas.width;\r\n\r\n      else\r\n        obj.context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n      obj.drawing(obj.context, time, this.color);\r\n    },\r\n    play: function() {\r\n      var self = this;\r\n\r\n      this.pause();\r\n      this.interval = requestInterval(function() {\r\n        var now = Date.now(),\r\n            i;\r\n\r\n        for(i = self.list.length; i--; )\r\n          self.draw(self.list[i], now);\r\n      }, 1000 / 60);\r\n    },\r\n    pause: function() {\r\n      var i;\r\n\r\n      if(this.interval) {\r\n        cancelInterval(this.interval);\r\n        this.interval = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  global.Skycons = Skycons;\r\n}(this));\r\n"]}