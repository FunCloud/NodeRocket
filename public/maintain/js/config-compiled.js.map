{"version":3,"sources":["config.js"],"names":[],"mappings":";;AAEA,IAAI,MACJ,QAAQ,MAAR,CAAe,KAAf,EACG,MADH,CAEI,CAAS,qBAAT,EAAgC,kBAAhC,EAAoD,iBAApD,EAAuE,UAAvE,EACA,UAAU,mBAAV,EAAiC,gBAAjC,EAAqD,eAArD,EAAwE,QAAxE,EAAkF;;;AAG9E,QAAI,UAAJ,GAAiB,oBAAoB,QAArC;AACA,QAAI,SAAJ,GAAiB,iBAAiB,SAAlC;AACA,QAAI,MAAJ,GAAiB,gBAAgB,QAAjC;AACA,QAAI,OAAJ,GAAiB,SAAS,OAA1B;AACA,QAAI,OAAJ,GAAiB,SAAS,OAA1B;AACA,QAAI,QAAJ,GAAiB,SAAS,QAA1B;AACA,QAAI,KAAJ,GAAiB,SAAS,KAA1B;AACH,CAXD,CAFJ,EAeG,MAfH,CAeU,CAAC,oBAAD,EAAuB,UAAS,kBAAT,EAA4B;;;;AAIzD,uBAAmB,oBAAnB,CAAwC;AACtC,gBAAQ,OAD8B;AAEtC,gBAAQ;AAF8B,KAAxC;;AAKA,uBAAmB,iBAAnB,CAAqC,IAArC;;AAEA,uBAAmB,eAAnB;AACD,CAZO,CAfV,CADA;;AA8BA,IAAI,MAAJ,CAAW,UAAS,aAAT,EAAwB;;AAEhC,kBAAc,QAAd,CAAuB,gBAAvB,GAA0C,UAAS,IAAT,EAAc;AACvD,YAAI,SAAS,SAAb,EAAwB;AAChB,mBAAO,IAAP;AACH;AACD,eAAO,EAAE,KAAF,CAAQ,IAAR,EAAa,IAAb,CAAP;AACJ,KALD;;AAOD,kBAAc,YAAd,CAA2B,IAA3B,CAAgC,YAAW;AACvC,YAAI,cAAc;AACd,uBAAW,UAAS,MAAT,EAAiB;AACxB,oBAAI,MAAI,OAAO,GAAf;AACA,oBAAI,IAAI,OAAL,IAAe,IAAI,OAAJ,CAAY,SAAZ,IAAuB,CAAzC,EAA2C;AACvC,2BAAO,GAAP,GAAW,KAAG,GAAd;AACH;;AAED,uBAAO,OAAP,CAAe,kBAAf,IAAmC,SAAnC;AACA,uBAAO,OAAP,CAAe,cAAf,IAA+B,kDAA/B;;AAEA,uBAAO,MAAP,C;AACH,aAXa;AAYd,wBAAY,UAAS,QAAT,EAAmB;AAC3B,oBAAI,SAAO,SAAS,IAApB;AACA,oBAAG,OAAO,OAAP,KAAiB,KAApB,EAA0B;AACzB,wBAAG,OAAO,OAAP,KAAiB,kBAApB,EAAuC;AACtC,8BAAM,aAAN;AACA,qBAFD,MAEK;AACJ,8BAAM,OAAO,OAAb;AACA;;;;;;;;;;AASI;;AAEN,uBAAO,QAAP,C;AACH,aA/Ba;AAgCd,4BAAgB,UAAS,SAAT,EAAoB;;AAEhC,uBAAO,QAAP,C;;;AAGH,aArCa;AAsCd,6BAAiB,UAAS,SAAT,EAAoB;;AAEjC,uBAAO,SAAP,C;;;AAGH;AA3Ca,SAAlB;AA6CA,eAAO,WAAP;AACH,KA/CD;AAgDD,CAzDD","file":"config-compiled.js","sourcesContent":["// config\n\nvar app =  \nangular.module('app')\n  .config(\n    [        '$controllerProvider', '$compileProvider', '$filterProvider', '$provide',\n    function ($controllerProvider,   $compileProvider,   $filterProvider,   $provide) {\n        \n        // lazy controller, directive and service\n        app.controller = $controllerProvider.register;\n        app.directive  = $compileProvider.directive;\n        app.filter     = $filterProvider.register;\n        app.factory    = $provide.factory;\n        app.service    = $provide.service;\n        app.constant   = $provide.constant;\n        app.value      = $provide.value;\n    }\n  ])\n  .config(['$translateProvider', function($translateProvider){\n    // Register a loader for the static files\n    // So, the module will search missing translation tables under the specified urls.\n    // Those urls are [prefix][langKey][suffix].\n    $translateProvider.useStaticFilesLoader({\n      prefix: 'l10n/',\n      suffix: '.js'\n    });\n    // Tell the module what language to use by default\n    $translateProvider.preferredLanguage('en');\n    // Tell the module to store the language in the local storage\n    $translateProvider.useLocalStorage();\n  }]);\n\napp.config(function($httpProvider) {\n\t\n\t  $httpProvider.defaults.transformRequest = function(data){\n\t\t  if (data === undefined) {\n\t           return data;\n\t       }\n\t       return $.param(data,true);\n\t  };\n\t\n  $httpProvider.interceptors.push(function() {\n      var interceptor = {\n          'request': function(config) {\n              var url=config.url;\n              if((url.indexOf)&&url.indexOf('service')>0){\n                  config.url=''+url;\n              }\n              \n              config.headers[\"X-Requested-With\"]=\"angular\";\n              config.headers[\"Content-Type\"]=\"application/x-www-form-urlencoded; charset=UTF-8\";\n              // 成功的请求方法\n              return config; // 或者 $q.when(config);\n          },\n          'response': function(response) {\n              var result=response.data;\n              if(result.success===false){\n              \tif(result.message===\"user.login.error\"){\n              \t\talert(\"用户名或密码错误!!!\");\n              \t}else{\n              \t\talert(result.message);\n              \t}\n              \t\n/*\n * if(result.message==\"system.isNotLogin\"||result.message==\"system.isOtherLogin\"){\n * if(document.location.href.indexOf(\"/access/signin\")>0){ return response; }\n * if(!window.messageShow){ window.messageShow=true; }\n * document.location.href=baseUrl; }else{ alert(result.message);\n *  // var deferred = $q.defer(); // var promise=deferred.promise;\n *  }\n */                }\n              // 响应成功\n              return response; // 或者 $q.when(config);\n          },\n          'requestError': function(rejection) {\n              // 请求发生了错误，如果能从错误中恢复，可以返回一个新的请求或promise\n              return response; // 或新的promise\n              // 或者，可以通过返回一个rejection来阻止下一步\n              // return $q.reject(rejection);\n          },\n          'responseError': function(rejection) {\n              // 请求发生了错误，如果能从错误中恢复，可以返回一个新的响应或promise\n              return rejection; // 或新的promise\n              // 或者，可以通过返回一个rejection来阻止下一步\n              // return $q.reject(rejection);\n          }\n      };\n      return interceptor;\n  });\n});"]}