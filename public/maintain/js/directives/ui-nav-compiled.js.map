{"version":3,"sources":["ui-nav.js"],"names":[],"mappings":"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","file":"ui-nav-compiled.js","sourcesContent":["angular.module('app')\r\n  .directive('uiNav', ['$timeout', function($timeout) {\r\n    return {\r\n      restrict: 'AC',\r\n      link: function(scope, el, attr) {\r\n        var _window = $(window), \r\n        _mb = 768, \r\n        wrap = $('.app-aside'), \r\n        next, \r\n        backdrop = '.dropdown-backdrop';\r\n        // unfolded\r\n        el.on('click', 'a', function(e) {\r\n          next && next.trigger('mouseleave.nav');\r\n          var _this = $(this);\r\n          _this.parent().siblings( \".active\" ).toggleClass('active');\r\n          _this.next().is('ul') &&  _this.parent().toggleClass('active') &&  e.preventDefault();\r\n          // mobile\r\n          _this.next().is('ul') || ( ( _window.width() < _mb ) && $('.app-aside').removeClass('show off-screen') );\r\n        });\r\n\r\n        // folded & fixed\r\n        el.on('mouseenter', 'a', function(e){\r\n          next && next.trigger('mouseleave.nav');\r\n          $('> .nav', wrap).remove();\r\n          if ( !$('.app-aside-fixed.app-aside-folded').length || ( _window.width() < _mb ) || $('.app-aside-dock').length) return;\r\n          var _this = $(e.target)\r\n          , top\r\n          , w_h = $(window).height()\r\n          , offset = 50\r\n          , min = 150;\r\n\r\n          !_this.is('a') && (_this = _this.closest('a'));\r\n          if( _this.next().is('ul') ){\r\n             next = _this.next();\r\n          }else{\r\n            return;\r\n          }\r\n         \r\n          _this.parent().addClass('active');\r\n          top = _this.parent().position().top + offset;\r\n          next.css('top', top);\r\n          if( top + next.height() > w_h ){\r\n            next.css('bottom', 0);\r\n          }\r\n          if(top + min > w_h){\r\n            next.css('bottom', w_h - top - offset).css('top', 'auto');\r\n          }\r\n          next.appendTo(wrap);\r\n\r\n          next.on('mouseleave.nav', function(e){\r\n            $(backdrop).remove();\r\n            next.appendTo(_this.parent());\r\n            next.off('mouseleave.nav').css('top', 'auto').css('bottom', 'auto');\r\n            _this.parent().removeClass('active');\r\n          });\r\n\r\n          $('.smart').length && $('<div class=\"dropdown-backdrop\"/>').insertAfter('.app-aside').on('click', function(next){\r\n            next && next.trigger('mouseleave.nav');\r\n          });\r\n\r\n        });\r\n\r\n        wrap.on('mouseleave', function(e){\r\n          next && next.trigger('mouseleave.nav');\r\n          $('> .nav', wrap).remove();\r\n        });\r\n      }\r\n    };\r\n  }]);"]}