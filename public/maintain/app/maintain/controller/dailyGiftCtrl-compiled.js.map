{"version":3,"sources":["dailyGiftCtrl.js"],"names":[],"mappings":"AAAA,IAAI,UAAJ,CAAe,eAAf,EAAgC,UAAS,UAAT,EAAoB,MAApB,EAA2B,KAA3B,EAAiC,MAAjC,EAAwC,YAAxC,EAAqD,SAArD,EAA+D,MAA/D,EAAuE;AACtG,QAAO,MAAP,GAAgB,EAAC,SAAQ,EAAT,EAAhB;AACA,QAAO,SAAP,GAAmB,EAAnB;AACA,QAAO,QAAP,GAAgB,MAAhB;AACA,QAAO,SAAP,GAAmB,OAAnB;;AAEA,QAAO,IAAP,GAAc,YAAW;AACxB,MAAI,gBAAgB,OAAO,IAAP,CAAY;AAC/B,gBAAc,iDADiB;AAE/B,eAAa,kBAFkB;AAG/B,SAAO,IAHwB;AAI/B,YAAU;AACT,UAAO,YAAW;AACjB,YAAO,EAAP;AACA;AAHQ;AAJqB,GAAZ,CAApB;;AAWA,gBAAc,MAAd,CAAqB,IAArB,CAA0B,UAAS,YAAT,EAAuB;AAChD,UAAO,MAAP,CAAc,KAAd,GAAsB,IAAI,IAAJ,EAAtB;AACA,GAFD,EAEG,YAAW,CACb,CAHD;AAIA,EAhBD;AAiBA,CAvBD;;AA4BA,IAAI,UAAJ,CAAe,kBAAf,EAAmC,UAAS,MAAT,EAAiB,cAAjB,EAAiC,KAAjC,EAAwC,IAAxC,EAA6C,MAA7C,EACjC,IADiC,EAC3B;AACP,QAAO,MAAP,GAAgB,EAAC,YAAW,EAAZ,EAAhB;AACA,QAAO,SAAP,GAAmB,EAAnB;AACA,QAAO,SAAP,GAAmB,EAAnB;AACA,QAAO,IAAP,GAAc,UAAS,WAAT,EAAqB;AAClC,SAAO,MAAP;AACA,UAAQ,IAAR,CAAa,OAAO,SAApB;AACA,MAAG,CAAC,OAAO,SAAP,CAAiB,WAArB,EAAiC;AAChC,SAAM,KAAN,CAAY,OAAZ;AACA;AACA;AACD,MAAG,YAAY,MAAZ,IAAoB,CAAvB,EAAyB;AACxB,SAAM,KAAN,CAAY,WAAZ;AACA;AACA;AACD,MAAI,MAAM,EAAV;AACA,OAAI,IAAI,IAAG,CAAX,EAAa,IAAE,YAAY,MAA3B,EAAkC,GAAlC,EAAsC;AACrC,OAAI,SAAS,YAAY,CAAZ,CAAb;AACA,OAAI,YAAY,EAAhB;AACA,aAAU,QAAV,GAAqB,OAAO,QAA5B;AACA,aAAU,KAAV,GAAkB,OAAO,SAAP,CAAiB,KAAnC;AACA,aAAU,OAAV,GAAoB,OAAO,OAA3B;AACA,aAAU,MAAV,GAAmB,OAAO,MAA1B;AACA,aAAU,WAAV,GAAwB,OAAO,SAAP,CAAiB,WAAjB,CAA6B,QAA7B,CAAsC,YAAtC,CAAxB;AACA,OAAI,IAAJ,CAAS,SAAT;AACA;AACD,QAAM,IAAN,CAAW,oCAAX,EAAgD,EAAC,OAAM,KAAK,SAAL,CAAe,GAAf,CAAP,EAAhD,EAA6E,OAA7E,CAAqF,UAAS,IAAT,EAAc;AAClG,OAAG,KAAK,OAAR,EAAgB;AACf,mBAAe,KAAf,CAAqB,CAArB;AACA;AACD,GAJD;AAKA,EA3BD;AA4BA,CAjCD","file":"dailyGiftCtrl-compiled.js","sourcesContent":["app.controller('dailyGiftCtrl', function($rootScope,$scope,$http,$state,$stateParams,$location,$modal) {\r\n\t$scope.search = {\"TITLE\":''};\r\n\t$scope.resultArr = [];\r\n\t$scope.SYS_TRUE='TRUE';\r\n\t$scope.SYS_FALSE = 'FALSE';\r\n\t\r\n\t$scope.open = function() {\r\n\t\tvar modalInstance = $modal.open({\r\n\t\t\ttemplateUrl : 'app/maintain/html/popup/personSelectDialog.html',\r\n\t\t\tcontroller : \"personSelectCtrl\",\r\n\t\t\tsize : \"lg\",\r\n\t\t\tresolve : {\r\n\t\t\t\titem : function() {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmodalInstance.result.then(function(selectedItem) {\r\n\t\t\t$scope.search.flush = new UUID();\r\n\t\t}, function() {\r\n\t\t});\r\n\t};\r\n});\t \r\n\r\n\r\n\r\n\r\napp.controller('personSelectCtrl', function($scope, $modalInstance, $http, item,$modal,\r\n\t\t$sce) {\r\n\t$scope.search = {\"NICKNAME\":''};\r\n\t$scope.resultArr = [];\r\n\t$scope.dailyGift = {};\r\n\t$scope.save = function(selectedArr){\r\n\t\t$scope.$apply();\r\n\t\tconsole.info($scope.resultArr)\r\n\t\tif(!$scope.dailyGift.CREATE_TIME){\r\n\t\t\tallen.alert(\"请设置时间\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(selectedArr.length==0){\r\n\t\t\tallen.alert(\"请选择获得礼品的人\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar arr = [];\r\n\t\tfor(var i =0;i<selectedArr.length;i++){\r\n\t\t\tvar curObj = selectedArr[i];\r\n\t\t\tvar insertObj = {};\r\n\t\t\tinsertObj.NICKNAME = curObj.NICKNAME;\r\n\t\t\tinsertObj.PHONE = curObj.USER_INFO.PHONE;\r\n\t\t\tinsertObj.USER_ID = curObj.USER_ID;\r\n\t\t\tinsertObj.OPENID = curObj.OPENID;\r\n\t\t\tinsertObj.CREATE_TIME = $scope.dailyGift.CREATE_TIME.parseStr(\"YYYY-MM-DD\");\r\n\t\t\tarr.push(insertObj);\r\n\t\t}\r\n\t\t$http.post('/service/daily-gift!saveMoreEntity',{\"arr\":JSON.stringify(arr)}).success(function(data){\r\n\t\t\tif(data.success){\r\n\t\t\t\t$modalInstance.close(1);\r\n\t\t\t}  \r\n\t\t});\r\n\t}\r\n});\r\n"]}