{"version":3,"sources":["codemirror.js"],"names":[],"mappings":"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","file":"codemirror-compiled.js","sourcesContent":["// CodeMirror version 2.2\r\n//\r\n// All functions that need access to the editor's state live inside\r\n// the CodeMirror function. Below that, at the bottom of the file,\r\n// some utilities are defined.\r\n\r\n// CodeMirror is the only global var we claim\r\nvar CodeMirror = (function() {\r\n    // This is the function that produces an editor instance. It's\r\n    // closure is used to store the editor state.\r\n    function CodeMirror(place, givenOptions) {\r\n        // Determine effective options based on given values and defaults.\r\n        var options = {}, defaults = CodeMirror.defaults;\r\n        for (var opt in defaults)\r\n            if (defaults.hasOwnProperty(opt))\r\n                options[opt] = (givenOptions && givenOptions.hasOwnProperty(opt) ? givenOptions : defaults)[opt];\r\n\r\n        var targetDocument = options[\"document\"];\r\n        // The element in which the editor lives.\r\n        var wrapper = targetDocument.createElement(\"div\");\r\n        wrapper.className = \"CodeMirror\" + (options.lineWrapping ? \" CodeMirror-wrap\" : \"\");\r\n        // This mess creates the base DOM structure for the editor.\r\n        wrapper.innerHTML =\r\n            '<div style=\"overflow: hidden; position: relative; width: 3px; height: 0px;\">' + // Wraps and hides input textarea\r\n                '<textarea style=\"position: absolute; padding: 0; width: 1px;\" wrap=\"off\" ' +\r\n                'autocorrect=\"off\" autocapitalize=\"off\"></textarea></div>' +\r\n                '<div class=\"CodeMirror-scroll\" tabindex=\"-1\">' +\r\n                '<div style=\"position: relative\">' + // Set to the height of the text, causes scrolling\r\n                '<div style=\"position: relative\">' + // Moved around its parent to cover visible view\r\n                '<div class=\"CodeMirror-gutter\"><div class=\"CodeMirror-gutter-text\"></div></div>' +\r\n                // Provides positioning relative to (visible) text origin\r\n                '<div class=\"CodeMirror-lines\"><div style=\"position: relative\">' +\r\n                '<div style=\"position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden\"></div>' +\r\n                '<pre class=\"CodeMirror-cursor\">&#160;</pre>' + // Absolutely positioned blinky cursor\r\n                '<div></div>' + // This DIV contains the actual code\r\n                '</div></div></div></div></div>';\r\n        if (place.appendChild) place.appendChild(wrapper); else place(wrapper);\r\n        // I've never seen more elegant code in my life.\r\n        var inputDiv = wrapper.firstChild, input = inputDiv.firstChild,\r\n            scroller = wrapper.lastChild, code = scroller.firstChild,\r\n            mover = code.firstChild, gutter = mover.firstChild, gutterText = gutter.firstChild,\r\n            lineSpace = gutter.nextSibling.firstChild, measure = lineSpace.firstChild,\r\n            cursor = measure.nextSibling, lineDiv = cursor.nextSibling;\r\n        themeChanged();\r\n        // Needed to hide big blue blinking cursor on Mobile Safari\r\n        if (/AppleWebKit/.test(navigator.userAgent) && /Mobile\\/\\w+/.test(navigator.userAgent)) input.style.width = \"0px\";\r\n        if (!webkit) lineSpace.draggable = true;\r\n        if (options.tabindex != null) input.tabIndex = options.tabindex;\r\n        if (!options.gutter && !options.lineNumbers) gutter.style.display = \"none\";\r\n\r\n        // Check for problem with IE innerHTML not working when we have a\r\n        // P (or similar) parent node.\r\n        try { stringWidth(\"x\"); }\r\n        catch (e) {\r\n            if (e.message.match(/runtime/i))\r\n                e = new Error(\"A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)\");\r\n            throw e;\r\n        }\r\n\r\n        // Delayed object wrap timeouts, making sure only one is active. blinker holds an interval.\r\n        var poll = new Delayed(), highlight = new Delayed(), blinker;\r\n\r\n        // mode holds a mode API object. doc is the tree of Line objects,\r\n        // work an array of lines that should be parsed, and history the\r\n        // undo history (instance of History constructor).\r\n        var mode, doc = new BranchChunk([new LeafChunk([new Line(\"\")])]), work, focused;\r\n        loadMode();\r\n        // The selection. These are always maintained to point at valid\r\n        // positions. Inverted is used to remember that the user is\r\n        // selecting bottom-to-top.\r\n        var sel = {from: {line: 0, ch: 0}, to: {line: 0, ch: 0}, inverted: false};\r\n        // Selection-related flags. shiftSelecting obviously tracks\r\n        // whether the user is holding shift.\r\n        var shiftSelecting, lastClick, lastDoubleClick, draggingText, overwrite = false;\r\n        // Variables used by startOperation/endOperation to track what\r\n        // happened during the operation.\r\n        var updateInput, userSelChange, changes, textChanged, selectionChanged, leaveInputAlone,\r\n            gutterDirty, callbacks;\r\n        // Current visible range (may be bigger than the view window).\r\n        var displayOffset = 0, showingFrom = 0, showingTo = 0, lastSizeC = 0;\r\n        // bracketHighlighted is used to remember that a backet has been\r\n        // marked.\r\n        var bracketHighlighted;\r\n        // Tracks the maximum line length so that the horizontal scrollbar\r\n        // can be kept static when scrolling.\r\n        var maxLine = \"\", maxWidth, tabText = computeTabText();\r\n\r\n        // Initialize the content.\r\n        operation(function(){setValue(options.value || \"\"); updateInput = false;})();\r\n        var history = new History();\r\n\r\n        // Register our event handlers.\r\n        connect(scroller, \"mousedown\", operation(onMouseDown));\r\n        connect(scroller, \"dblclick\", operation(onDoubleClick));\r\n        connect(lineSpace, \"dragstart\", onDragStart);\r\n        connect(lineSpace, \"selectstart\", e_preventDefault);\r\n        // Gecko browsers fire contextmenu *after* opening the menu, at\r\n        // which point we can't mess with it anymore. Context menu is\r\n        // handled in onMouseDown for Gecko.\r\n        if (!gecko) connect(scroller, \"contextmenu\", onContextMenu);\r\n        connect(scroller, \"scroll\", function() {\r\n            updateDisplay([]);\r\n            if (options.fixedGutter) gutter.style.left = scroller.scrollLeft + \"px\";\r\n            if (options.onScroll) options.onScroll(instance);\r\n        });\r\n        connect(window, \"resize\", function() {updateDisplay(true);});\r\n        connect(input, \"keyup\", operation(onKeyUp));\r\n        connect(input, \"input\", fastPoll);\r\n        connect(input, \"keydown\", operation(onKeyDown));\r\n        connect(input, \"keypress\", operation(onKeyPress));\r\n        connect(input, \"focus\", onFocus);\r\n        connect(input, \"blur\", onBlur);\r\n\r\n        connect(scroller, \"dragenter\", e_stop);\r\n        connect(scroller, \"dragover\", e_stop);\r\n        connect(scroller, \"drop\", operation(onDrop));\r\n        connect(scroller, \"paste\", function(){focusInput(); fastPoll();});\r\n        connect(input, \"paste\", fastPoll);\r\n        connect(input, \"cut\", operation(function(){replaceSelection(\"\");}));\r\n\r\n        // IE throws unspecified error in certain cases, when\r\n        // trying to access activeElement before onload\r\n        var hasFocus; try { hasFocus = (targetDocument.activeElement == input); } catch(e) { }\r\n        if (hasFocus) setTimeout(onFocus, 20);\r\n        else onBlur();\r\n\r\n        function isLine(l) {return l >= 0 && l < doc.size;}\r\n        // The instance object that we'll return. Mostly calls out to\r\n        // local functions in the CodeMirror function. Some do some extra\r\n        // range checking and/or clipping. operation is used to wrap the\r\n        // call so that changes it makes are tracked, and the display is\r\n        // updated afterwards.\r\n        var instance = wrapper.CodeMirror = {\r\n            getValue: getValue,\r\n            setValue: operation(setValue),\r\n            getSelection: getSelection,\r\n            replaceSelection: operation(replaceSelection),\r\n            focus: function(){focusInput(); onFocus(); fastPoll();},\r\n            setOption: function(option, value) {\r\n                var oldVal = options[option];\r\n                options[option] = value;\r\n                if (option == \"mode\" || option == \"indentUnit\") loadMode();\r\n                else if (option == \"readOnly\" && value) {onBlur(); input.blur();}\r\n                else if (option == \"theme\") themeChanged();\r\n                else if (option == \"lineWrapping\" && oldVal != value) operation(wrappingChanged)();\r\n                else if (option == \"tabSize\") operation(tabsChanged)();\r\n                if (option == \"lineNumbers\" || option == \"gutter\" || option == \"firstLineNumber\" || option == \"theme\")\r\n                    operation(gutterChanged)();\r\n            },\r\n            getOption: function(option) {return options[option];},\r\n            undo: operation(undo),\r\n            redo: operation(redo),\r\n            indentLine: operation(function(n, dir) {\r\n                if (isLine(n)) indentLine(n, dir == null ? \"smart\" : dir ? \"add\" : \"subtract\");\r\n            }),\r\n            indentSelection: operation(indentSelected),\r\n            historySize: function() {return {undo: history.done.length, redo: history.undone.length};},\r\n            clearHistory: function() {history = new History();},\r\n            matchBrackets: operation(function(){matchBrackets(true);}),\r\n            getTokenAt: operation(function(pos) {\r\n                pos = clipPos(pos);\r\n                return getLine(pos.line).getTokenAt(mode, getStateBefore(pos.line), pos.ch);\r\n            }),\r\n            getStateAfter: function(line) {\r\n                line = clipLine(line == null ? doc.size - 1: line);\r\n                return getStateBefore(line + 1);\r\n            },\r\n            cursorCoords: function(start){\r\n                if (start == null) start = sel.inverted;\r\n                return pageCoords(start ? sel.from : sel.to);\r\n            },\r\n            charCoords: function(pos){return pageCoords(clipPos(pos));},\r\n            coordsChar: function(coords) {\r\n                var off = eltOffset(lineSpace);\r\n                return coordsChar(coords.x - off.left, coords.y - off.top);\r\n            },\r\n            markText: operation(markText),\r\n            setBookmark: setBookmark,\r\n            setMarker: operation(addGutterMarker),\r\n            clearMarker: operation(removeGutterMarker),\r\n            setLineClass: operation(setLineClass),\r\n            hideLine: operation(function(h) {return setLineHidden(h, true);}),\r\n            showLine: operation(function(h) {return setLineHidden(h, false);}),\r\n            onDeleteLine: function(line, f) {\r\n                if (typeof line == \"number\") {\r\n                    if (!isLine(line)) return null;\r\n                    line = getLine(line);\r\n                }\r\n                (line.handlers || (line.handlers = [])).push(f);\r\n                return line;\r\n            },\r\n            lineInfo: lineInfo,\r\n            addWidget: function(pos, node, scroll, vert, horiz) {\r\n                pos = localCoords(clipPos(pos));\r\n                var top = pos.yBot, left = pos.x;\r\n                node.style.position = \"absolute\";\r\n                code.appendChild(node);\r\n                if (vert == \"over\") top = pos.y;\r\n                else if (vert == \"near\") {\r\n                    var vspace = Math.max(scroller.offsetHeight, doc.height * textHeight()),\r\n                        hspace = Math.max(code.clientWidth, lineSpace.clientWidth) - paddingLeft();\r\n                    if (pos.yBot + node.offsetHeight > vspace && pos.y > node.offsetHeight)\r\n                        top = pos.y - node.offsetHeight;\r\n                    if (left + node.offsetWidth > hspace)\r\n                        left = hspace - node.offsetWidth;\r\n                }\r\n                node.style.top = (top + paddingTop()) + \"px\";\r\n                node.style.left = node.style.right = \"\";\r\n                if (horiz == \"right\") {\r\n                    left = code.clientWidth - node.offsetWidth;\r\n                    node.style.right = \"0px\";\r\n                } else {\r\n                    if (horiz == \"left\") left = 0;\r\n                    else if (horiz == \"middle\") left = (code.clientWidth - node.offsetWidth) / 2;\r\n                    node.style.left = (left + paddingLeft()) + \"px\";\r\n                }\r\n                if (scroll)\r\n                    scrollIntoView(left, top, left + node.offsetWidth, top + node.offsetHeight);\r\n            },\r\n\r\n            lineCount: function() {return doc.size;},\r\n            clipPos: clipPos,\r\n            getCursor: function(start) {\r\n                if (start == null) start = sel.inverted;\r\n                return copyPos(start ? sel.from : sel.to);\r\n            },\r\n            somethingSelected: function() {return !posEq(sel.from, sel.to);},\r\n            setCursor: operation(function(line, ch, user) {\r\n                if (ch == null && typeof line.line == \"number\") setCursor(line.line, line.ch, user);\r\n                else setCursor(line, ch, user);\r\n            }),\r\n            setSelection: operation(function(from, to, user) {\r\n                (user ? setSelectionUser : setSelection)(clipPos(from), clipPos(to || from));\r\n            }),\r\n            getLine: function(line) {if (isLine(line)) return getLine(line).text;},\r\n            getLineHandle: function(line) {if (isLine(line)) return getLine(line);},\r\n            setLine: operation(function(line, text) {\r\n                if (isLine(line)) replaceRange(text, {line: line, ch: 0}, {line: line, ch: getLine(line).text.length});\r\n            }),\r\n            removeLine: operation(function(line) {\r\n                if (isLine(line)) replaceRange(\"\", {line: line, ch: 0}, clipPos({line: line+1, ch: 0}));\r\n            }),\r\n            replaceRange: operation(replaceRange),\r\n            getRange: function(from, to) {return getRange(clipPos(from), clipPos(to));},\r\n\r\n            execCommand: function(cmd) {return commands[cmd](instance);},\r\n            // Stuff used by commands, probably not much use to outside code.\r\n            moveH: operation(moveH),\r\n            deleteH: operation(deleteH),\r\n            moveV: operation(moveV),\r\n            toggleOverwrite: function() {overwrite = !overwrite;},\r\n\r\n            posFromIndex: function(off) {\r\n                var lineNo = 0, ch;\r\n                doc.iter(0, doc.size, function(line) {\r\n                    var sz = line.text.length + 1;\r\n                    if (sz > off) { ch = off; return true; }\r\n                    off -= sz;\r\n                    ++lineNo;\r\n                });\r\n                return clipPos({line: lineNo, ch: ch});\r\n            },\r\n            indexFromPos: function (coords) {\r\n                if (coords.line < 0 || coords.ch < 0) return 0;\r\n                var index = coords.ch;\r\n                doc.iter(0, coords.line, function (line) {\r\n                    index += line.text.length + 1;\r\n                });\r\n                return index;\r\n            },\r\n\r\n            operation: function(f){return operation(f)();},\r\n            refresh: function(){updateDisplay(true);},\r\n            getInputField: function(){return input;},\r\n            getWrapperElement: function(){return wrapper;},\r\n            getScrollerElement: function(){return scroller;},\r\n            getGutterElement: function(){return gutter;}\r\n        };\r\n\r\n        function getLine(n) { return getLineAt(doc, n); }\r\n        function updateLineHeight(line, height) {\r\n            gutterDirty = true;\r\n            var diff = height - line.height;\r\n            for (var n = line; n; n = n.parent) n.height += diff;\r\n        }\r\n\r\n        function setValue(code) {\r\n            var top = {line: 0, ch: 0};\r\n            updateLines(top, {line: doc.size - 1, ch: getLine(doc.size-1).text.length},\r\n                splitLines(code), top, top);\r\n            updateInput = true;\r\n        }\r\n        function getValue(code) {\r\n            var text = [];\r\n            doc.iter(0, doc.size, function(line) { text.push(line.text); });\r\n            return text.join(\"\\n\");\r\n        }\r\n\r\n        function onMouseDown(e) {\r\n            setShift(e.shiftKey);\r\n            // Check whether this is a click in a widget\r\n            for (var n = e_target(e); n != wrapper; n = n.parentNode)\r\n                if (n.parentNode == code && n != mover) return;\r\n\r\n            // See if this is a click in the gutter\r\n            for (var n = e_target(e); n != wrapper; n = n.parentNode)\r\n                if (n.parentNode == gutterText) {\r\n                    if (options.onGutterClick)\r\n                        options.onGutterClick(instance, indexOf(gutterText.childNodes, n) + showingFrom, e);\r\n                    return e_preventDefault(e);\r\n                }\r\n\r\n            var start = posFromMouse(e);\r\n\r\n            switch (e_button(e)) {\r\n                case 3:\r\n                    if (gecko && !mac) onContextMenu(e);\r\n                    return;\r\n                case 2:\r\n                    if (start) setCursor(start.line, start.ch, true);\r\n                    return;\r\n            }\r\n            // For button 1, if it was clicked inside the editor\r\n            // (posFromMouse returning non-null), we have to adjust the\r\n            // selection.\r\n            if (!start) {if (e_target(e) == scroller) e_preventDefault(e); return;}\r\n\r\n            if (!focused) onFocus();\r\n\r\n            var now = +new Date;\r\n            if (lastDoubleClick && lastDoubleClick.time > now - 400 && posEq(lastDoubleClick.pos, start)) {\r\n                e_preventDefault(e);\r\n                setTimeout(focusInput, 20);\r\n                return selectLine(start.line);\r\n            } else if (lastClick && lastClick.time > now - 400 && posEq(lastClick.pos, start)) {\r\n                lastDoubleClick = {time: now, pos: start};\r\n                e_preventDefault(e);\r\n                return selectWordAt(start);\r\n            } else { lastClick = {time: now, pos: start}; }\r\n\r\n            var last = start, going;\r\n            if (dragAndDrop && !posEq(sel.from, sel.to) &&\r\n                !posLess(start, sel.from) && !posLess(sel.to, start)) {\r\n                // Let the drag handler handle this.\r\n                if (webkit) lineSpace.draggable = true;\r\n                var up = connect(targetDocument, \"mouseup\", operation(function(e2) {\r\n                    if (webkit) lineSpace.draggable = false;\r\n                    draggingText = false;\r\n                    up();\r\n                    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\r\n                        e_preventDefault(e2);\r\n                        setCursor(start.line, start.ch, true);\r\n                        focusInput();\r\n                    }\r\n                }), true);\r\n                draggingText = true;\r\n                return;\r\n            }\r\n            e_preventDefault(e);\r\n            setCursor(start.line, start.ch, true);\r\n\r\n            function extend(e) {\r\n                var cur = posFromMouse(e, true);\r\n                if (cur && !posEq(cur, last)) {\r\n                    if (!focused) onFocus();\r\n                    last = cur;\r\n                    setSelectionUser(start, cur);\r\n                    updateInput = false;\r\n                    var visible = visibleLines();\r\n                    if (cur.line >= visible.to || cur.line < visible.from)\r\n                        going = setTimeout(operation(function(){extend(e);}), 150);\r\n                }\r\n            }\r\n\r\n            var move = connect(targetDocument, \"mousemove\", operation(function(e) {\r\n                clearTimeout(going);\r\n                e_preventDefault(e);\r\n                extend(e);\r\n            }), true);\r\n            var up = connect(targetDocument, \"mouseup\", operation(function(e) {\r\n                clearTimeout(going);\r\n                var cur = posFromMouse(e);\r\n                if (cur) setSelectionUser(start, cur);\r\n                e_preventDefault(e);\r\n                focusInput();\r\n                updateInput = true;\r\n                move(); up();\r\n            }), true);\r\n        }\r\n        function onDoubleClick(e) {\r\n            for (var n = e_target(e); n != wrapper; n = n.parentNode)\r\n                if (n.parentNode == gutterText) return e_preventDefault(e);\r\n            var start = posFromMouse(e);\r\n            if (!start) return;\r\n            lastDoubleClick = {time: +new Date, pos: start};\r\n            e_preventDefault(e);\r\n            selectWordAt(start);\r\n        }\r\n        function onDrop(e) {\r\n            e.preventDefault();\r\n            var pos = posFromMouse(e, true), files = e.dataTransfer.files;\r\n            if (!pos || options.readOnly) return;\r\n            if (files && files.length && window.FileReader && window.File) {\r\n                function loadFile(file, i) {\r\n                    var reader = new FileReader;\r\n                    reader.onload = function() {\r\n                        text[i] = reader.result;\r\n                        if (++read == n) {\r\n                            pos = clipPos(pos);\r\n                            operation(function() {\r\n                                var end = replaceRange(text.join(\"\"), pos, pos);\r\n                                setSelectionUser(pos, end);\r\n                            })();\r\n                        }\r\n                    };\r\n                    reader.readAsText(file);\r\n                }\r\n                var n = files.length, text = Array(n), read = 0;\r\n                for (var i = 0; i < n; ++i) loadFile(files[i], i);\r\n            }\r\n            else {\r\n                try {\r\n                    var text = e.dataTransfer.getData(\"Text\");\r\n                    if (text) {\r\n                        var end = replaceRange(text, pos, pos);\r\n                        var curFrom = sel.from, curTo = sel.to;\r\n                        setSelectionUser(pos, end);\r\n                        if (draggingText) replaceRange(\"\", curFrom, curTo);\r\n                        focusInput();\r\n                    }\r\n                }\r\n                catch(e){}\r\n            }\r\n        }\r\n        function onDragStart(e) {\r\n            var txt = getSelection();\r\n            // This will reset escapeElement\r\n            htmlEscape(txt);\r\n            e.dataTransfer.setDragImage(escapeElement, 0, 0);\r\n            e.dataTransfer.setData(\"Text\", txt);\r\n        }\r\n        function handleKeyBinding(e) {\r\n            var name = keyNames[e.keyCode], next = keyMap[options.keyMap].auto, bound, dropShift;\r\n            if (name == null || e.altGraphKey) {\r\n                if (next) options.keyMap = next;\r\n                return null;\r\n            }\r\n            if (e.altKey) name = \"Alt-\" + name;\r\n            if (e.ctrlKey) name = \"Ctrl-\" + name;\r\n            if (e.metaKey) name = \"Cmd-\" + name;\r\n            if (e.shiftKey && (bound = lookupKey(\"Shift-\" + name, options.extraKeys, options.keyMap))) {\r\n                dropShift = true;\r\n            } else {\r\n                bound = lookupKey(name, options.extraKeys, options.keyMap);\r\n            }\r\n            if (typeof bound == \"string\") {\r\n                if (commands.propertyIsEnumerable(bound)) bound = commands[bound];\r\n                else bound = null;\r\n            }\r\n            if (next && (bound || !isModifierKey(e))) options.keyMap = next;\r\n            if (!bound) return false;\r\n            if (dropShift) {\r\n                var prevShift = shiftSelecting;\r\n                shiftSelecting = null;\r\n                bound(instance);\r\n                shiftSelecting = prevShift;\r\n            } else bound(instance);\r\n            e_preventDefault(e);\r\n            return true;\r\n        }\r\n        var lastStoppedKey = null;\r\n        function onKeyDown(e) {\r\n            if (!focused) onFocus();\r\n            var code = e.keyCode;\r\n            // IE does strange things with escape.\r\n            if (ie && code == 27) { e.returnValue = false; }\r\n            setShift(code == 16 || e.shiftKey);\r\n            // First give onKeyEvent option a chance to handle this.\r\n            if (options.onKeyEvent && options.onKeyEvent(instance, addStop(e))) return;\r\n            var handled = handleKeyBinding(e);\r\n            if (window.opera) {\r\n                lastStoppedKey = handled ? e.keyCode : null;\r\n                // Opera has no cut event... we try to at least catch the key combo\r\n                if (!handled && (mac ? e.metaKey : e.ctrlKey) && e.keyCode == 88)\r\n                    replaceSelection(\"\");\r\n            }\r\n        }\r\n        function onKeyPress(e) {\r\n            if (window.opera && e.keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}\r\n            if (options.onKeyEvent && options.onKeyEvent(instance, addStop(e))) return;\r\n            if (window.opera && !e.which && handleKeyBinding(e)) return;\r\n            if (options.electricChars && mode.electricChars) {\r\n                var ch = String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode);\r\n                if (mode.electricChars.indexOf(ch) > -1)\r\n                    setTimeout(operation(function() {indentLine(sel.to.line, \"smart\");}), 75);\r\n            }\r\n            fastPoll();\r\n        }\r\n        function onKeyUp(e) {\r\n            if (options.onKeyEvent && options.onKeyEvent(instance, addStop(e))) return;\r\n            if (e.keyCode == 16) shiftSelecting = null;\r\n        }\r\n\r\n        function onFocus() {\r\n            if (options.readOnly) return;\r\n            if (!focused) {\r\n                if (options.onFocus) options.onFocus(instance);\r\n                focused = true;\r\n                if (wrapper.className.search(/\\bCodeMirror-focused\\b/) == -1)\r\n                    wrapper.className += \" CodeMirror-focused\";\r\n                if (!leaveInputAlone) resetInput(true);\r\n            }\r\n            slowPoll();\r\n            restartBlink();\r\n        }\r\n        function onBlur() {\r\n            if (focused) {\r\n                if (options.onBlur) options.onBlur(instance);\r\n                focused = false;\r\n                wrapper.className = wrapper.className.replace(\" CodeMirror-focused\", \"\");\r\n            }\r\n            clearInterval(blinker);\r\n            setTimeout(function() {if (!focused) shiftSelecting = null;}, 150);\r\n        }\r\n\r\n        // Replace the range from from to to by the strings in newText.\r\n        // Afterwards, set the selection to selFrom, selTo.\r\n        function updateLines(from, to, newText, selFrom, selTo) {\r\n            if (history) {\r\n                var old = [];\r\n                doc.iter(from.line, to.line + 1, function(line) { old.push(line.text); });\r\n                history.addChange(from.line, newText.length, old);\r\n                while (history.done.length > options.undoDepth) history.done.shift();\r\n            }\r\n            updateLinesNoUndo(from, to, newText, selFrom, selTo);\r\n        }\r\n        function unredoHelper(from, to) {\r\n            var change = from.pop();\r\n            if (change) {\r\n                var replaced = [], end = change.start + change.added;\r\n                doc.iter(change.start, end, function(line) { replaced.push(line.text); });\r\n                to.push({start: change.start, added: change.old.length, old: replaced});\r\n                var pos = clipPos({line: change.start + change.old.length - 1,\r\n                    ch: editEnd(replaced[replaced.length-1], change.old[change.old.length-1])});\r\n                updateLinesNoUndo({line: change.start, ch: 0}, {line: end - 1, ch: getLine(end-1).text.length}, change.old, pos, pos);\r\n                updateInput = true;\r\n            }\r\n        }\r\n        function undo() {unredoHelper(history.done, history.undone);}\r\n        function redo() {unredoHelper(history.undone, history.done);}\r\n\r\n        function updateLinesNoUndo(from, to, newText, selFrom, selTo) {\r\n            var recomputeMaxLength = false, maxLineLength = maxLine.length;\r\n            if (!options.lineWrapping)\r\n                doc.iter(from.line, to.line, function(line) {\r\n                    if (line.text.length == maxLineLength) {recomputeMaxLength = true; return true;}\r\n                });\r\n            if (from.line != to.line || newText.length > 1) gutterDirty = true;\r\n\r\n            var nlines = to.line - from.line, firstLine = getLine(from.line), lastLine = getLine(to.line);\r\n            // First adjust the line structure, taking some care to leave highlighting intact.\r\n            if (from.ch == 0 && to.ch == 0 && newText[newText.length - 1] == \"\") {\r\n                // This is a whole-line replace. Treated specially to make\r\n                // sure line objects move the way they are supposed to.\r\n                var added = [], prevLine = null;\r\n                if (from.line) {\r\n                    prevLine = getLine(from.line - 1);\r\n                    prevLine.fixMarkEnds(lastLine);\r\n                } else lastLine.fixMarkStarts();\r\n                for (var i = 0, e = newText.length - 1; i < e; ++i)\r\n                    added.push(Line.inheritMarks(newText[i], prevLine));\r\n                if (nlines) doc.remove(from.line, nlines, callbacks);\r\n                if (added.length) doc.insert(from.line, added);\r\n            } else if (firstLine == lastLine) {\r\n                if (newText.length == 1)\r\n                    firstLine.replace(from.ch, to.ch, newText[0]);\r\n                else {\r\n                    lastLine = firstLine.split(to.ch, newText[newText.length-1]);\r\n                    firstLine.replace(from.ch, null, newText[0]);\r\n                    firstLine.fixMarkEnds(lastLine);\r\n                    var added = [];\r\n                    for (var i = 1, e = newText.length - 1; i < e; ++i)\r\n                        added.push(Line.inheritMarks(newText[i], firstLine));\r\n                    added.push(lastLine);\r\n                    doc.insert(from.line + 1, added);\r\n                }\r\n            } else if (newText.length == 1) {\r\n                firstLine.replace(from.ch, null, newText[0]);\r\n                lastLine.replace(null, to.ch, \"\");\r\n                firstLine.append(lastLine);\r\n                doc.remove(from.line + 1, nlines, callbacks);\r\n            } else {\r\n                var added = [];\r\n                firstLine.replace(from.ch, null, newText[0]);\r\n                lastLine.replace(null, to.ch, newText[newText.length-1]);\r\n                firstLine.fixMarkEnds(lastLine);\r\n                for (var i = 1, e = newText.length - 1; i < e; ++i)\r\n                    added.push(Line.inheritMarks(newText[i], firstLine));\r\n                if (nlines > 1) doc.remove(from.line + 1, nlines - 1, callbacks);\r\n                doc.insert(from.line + 1, added);\r\n            }\r\n            if (options.lineWrapping) {\r\n                var perLine = scroller.clientWidth / charWidth() - 3;\r\n                doc.iter(from.line, from.line + newText.length, function(line) {\r\n                    if (line.hidden) return;\r\n                    var guess = Math.ceil(line.text.length / perLine) || 1;\r\n                    if (guess != line.height) updateLineHeight(line, guess);\r\n                });\r\n            } else {\r\n                doc.iter(from.line, i + newText.length, function(line) {\r\n                    var l = line.text;\r\n                    if (l.length > maxLineLength) {\r\n                        maxLine = l; maxLineLength = l.length; maxWidth = null;\r\n                        recomputeMaxLength = false;\r\n                    }\r\n                });\r\n                if (recomputeMaxLength) {\r\n                    maxLineLength = 0; maxLine = \"\"; maxWidth = null;\r\n                    doc.iter(0, doc.size, function(line) {\r\n                        var l = line.text;\r\n                        if (l.length > maxLineLength) {\r\n                            maxLineLength = l.length; maxLine = l;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Add these lines to the work array, so that they will be\r\n            // highlighted. Adjust work lines if lines were added/removed.\r\n            var newWork = [], lendiff = newText.length - nlines - 1;\r\n            for (var i = 0, l = work.length; i < l; ++i) {\r\n                var task = work[i];\r\n                if (task < from.line) newWork.push(task);\r\n                else if (task > to.line) newWork.push(task + lendiff);\r\n            }\r\n            var hlEnd = from.line + Math.min(newText.length, 500);\r\n            highlightLines(from.line, hlEnd);\r\n            newWork.push(hlEnd);\r\n            work = newWork;\r\n            startWorker(100);\r\n            // Remember that these lines changed, for updating the display\r\n            changes.push({from: from.line, to: to.line + 1, diff: lendiff});\r\n            var changeObj = {from: from, to: to, text: newText};\r\n            if (textChanged) {\r\n                for (var cur = textChanged; cur.next; cur = cur.next) {}\r\n                cur.next = changeObj;\r\n            } else textChanged = changeObj;\r\n\r\n            // Update the selection\r\n            function updateLine(n) {return n <= Math.min(to.line, to.line + lendiff) ? n : n + lendiff;}\r\n            setSelection(selFrom, selTo, updateLine(sel.from.line), updateLine(sel.to.line));\r\n\r\n            // Make sure the scroll-size div has the correct height.\r\n            code.style.height = (doc.height * textHeight() + 2 * paddingTop()) + \"px\";\r\n        }\r\n\r\n        function replaceRange(code, from, to) {\r\n            from = clipPos(from);\r\n            if (!to) to = from; else to = clipPos(to);\r\n            code = splitLines(code);\r\n            function adjustPos(pos) {\r\n                if (posLess(pos, from)) return pos;\r\n                if (!posLess(to, pos)) return end;\r\n                var line = pos.line + code.length - (to.line - from.line) - 1;\r\n                var ch = pos.ch;\r\n                if (pos.line == to.line)\r\n                    ch += code[code.length-1].length - (to.ch - (to.line == from.line ? from.ch : 0));\r\n                return {line: line, ch: ch};\r\n            }\r\n            var end;\r\n            replaceRange1(code, from, to, function(end1) {\r\n                end = end1;\r\n                return {from: adjustPos(sel.from), to: adjustPos(sel.to)};\r\n            });\r\n            return end;\r\n        }\r\n        function replaceSelection(code, collapse) {\r\n            replaceRange1(splitLines(code), sel.from, sel.to, function(end) {\r\n                if (collapse == \"end\") return {from: end, to: end};\r\n                else if (collapse == \"start\") return {from: sel.from, to: sel.from};\r\n                else return {from: sel.from, to: end};\r\n            });\r\n        }\r\n        function replaceRange1(code, from, to, computeSel) {\r\n            var endch = code.length == 1 ? code[0].length + from.ch : code[code.length-1].length;\r\n            var newSel = computeSel({line: from.line + code.length - 1, ch: endch});\r\n            updateLines(from, to, code, newSel.from, newSel.to);\r\n        }\r\n\r\n        function getRange(from, to) {\r\n            var l1 = from.line, l2 = to.line;\r\n            if (l1 == l2) return getLine(l1).text.slice(from.ch, to.ch);\r\n            var code = [getLine(l1).text.slice(from.ch)];\r\n            doc.iter(l1 + 1, l2, function(line) { code.push(line.text); });\r\n            code.push(getLine(l2).text.slice(0, to.ch));\r\n            return code.join(\"\\n\");\r\n        }\r\n        function getSelection() {\r\n            return getRange(sel.from, sel.to);\r\n        }\r\n\r\n        var pollingFast = false; // Ensures slowPoll doesn't cancel fastPoll\r\n        function slowPoll() {\r\n            if (pollingFast) return;\r\n            poll.set(options.pollInterval, function() {\r\n                startOperation();\r\n                readInput();\r\n                if (focused) slowPoll();\r\n                endOperation();\r\n            });\r\n        }\r\n        function fastPoll() {\r\n            var missed = false;\r\n            pollingFast = true;\r\n            function p() {\r\n                startOperation();\r\n                var changed = readInput();\r\n                if (!changed && !missed) {missed = true; poll.set(60, p);}\r\n                else {pollingFast = false; slowPoll();}\r\n                endOperation();\r\n            }\r\n            poll.set(20, p);\r\n        }\r\n\r\n        // Previnput is a hack to work with IME. If we reset the textarea\r\n        // on every change, that breaks IME. So we look for changes\r\n        // compared to the previous content instead. (Modern browsers have\r\n        // events that indicate IME taking place, but these are not widely\r\n        // supported or compatible enough yet to rely on.)\r\n        var prevInput = \"\";\r\n        function readInput() {\r\n            if (leaveInputAlone || !focused || hasSelection(input)) return false;\r\n            var text = input.value;\r\n            if (text == prevInput) return false;\r\n            shiftSelecting = null;\r\n            var same = 0, l = Math.min(prevInput.length, text.length);\r\n            while (same < l && prevInput[same] == text[same]) ++same;\r\n            if (same < prevInput.length)\r\n                sel.from = {line: sel.from.line, ch: sel.from.ch - (prevInput.length - same)};\r\n            else if (overwrite && posEq(sel.from, sel.to))\r\n                sel.to = {line: sel.to.line, ch: Math.min(getLine(sel.to.line).text.length, sel.to.ch + (text.length - same))};\r\n            replaceSelection(text.slice(same), \"end\");\r\n            prevInput = text;\r\n            return true;\r\n        }\r\n        function resetInput(user) {\r\n            if (!posEq(sel.from, sel.to)) {\r\n                prevInput = \"\";\r\n                input.value = getSelection();\r\n                input.select();\r\n            } else if (user) prevInput = input.value = \"\";\r\n        }\r\n\r\n        function focusInput() {\r\n            if (!options.readOnly) input.focus();\r\n        }\r\n\r\n        function scrollEditorIntoView() {\r\n            if (!cursor.getBoundingClientRect) return;\r\n            var rect = cursor.getBoundingClientRect();\r\n            // IE returns bogus coordinates when the instance sits inside of an iframe and the cursor is hidden\r\n            if (ie && rect.top == rect.bottom) return;\r\n            var winH = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);\r\n            if (rect.top < 0 || rect.bottom > winH) cursor.scrollIntoView();\r\n        }\r\n        function scrollCursorIntoView() {\r\n            var cursor = localCoords(sel.inverted ? sel.from : sel.to);\r\n            var x = options.lineWrapping ? Math.min(cursor.x, lineSpace.offsetWidth) : cursor.x;\r\n            return scrollIntoView(x, cursor.y, x, cursor.yBot);\r\n        }\r\n        function scrollIntoView(x1, y1, x2, y2) {\r\n            var pl = paddingLeft(), pt = paddingTop(), lh = textHeight();\r\n            y1 += pt; y2 += pt; x1 += pl; x2 += pl;\r\n            var screen = scroller.clientHeight, screentop = scroller.scrollTop, scrolled = false, result = true;\r\n            if (y1 < screentop) {scroller.scrollTop = Math.max(0, y1 - 2*lh); scrolled = true;}\r\n            else if (y2 > screentop + screen) {scroller.scrollTop = y2 + lh - screen; scrolled = true;}\r\n\r\n            var screenw = scroller.clientWidth, screenleft = scroller.scrollLeft;\r\n            var gutterw = options.fixedGutter ? gutter.clientWidth : 0;\r\n            if (x1 < screenleft + gutterw) {\r\n                if (x1 < 50) x1 = 0;\r\n                scroller.scrollLeft = Math.max(0, x1 - 10 - gutterw);\r\n                scrolled = true;\r\n            }\r\n            else if (x2 > screenw + screenleft - 3) {\r\n                scroller.scrollLeft = x2 + 10 - screenw;\r\n                scrolled = true;\r\n                if (x2 > code.clientWidth) result = false;\r\n            }\r\n            if (scrolled && options.onScroll) options.onScroll(instance);\r\n            return result;\r\n        }\r\n\r\n        function visibleLines() {\r\n            var lh = textHeight(), top = scroller.scrollTop - paddingTop();\r\n            var from_height = Math.max(0, Math.floor(top / lh));\r\n            var to_height = Math.ceil((top + scroller.clientHeight) / lh);\r\n            return {from: lineAtHeight(doc, from_height),\r\n                to: lineAtHeight(doc, to_height)};\r\n        }\r\n        // Uses a set of changes plus the current scroll position to\r\n        // determine which DOM updates have to be made, and makes the\r\n        // updates.\r\n        function updateDisplay(changes, suppressCallback) {\r\n            if (!scroller.clientWidth) {\r\n                showingFrom = showingTo = displayOffset = 0;\r\n                return;\r\n            }\r\n            // Compute the new visible window\r\n            var visible = visibleLines();\r\n            // Bail out if the visible area is already rendered and nothing changed.\r\n            if (changes !== true && changes.length == 0 && visible.from >= showingFrom && visible.to <= showingTo) return;\r\n            var from = Math.max(visible.from - 100, 0), to = Math.min(doc.size, visible.to + 100);\r\n            if (showingFrom < from && from - showingFrom < 20) from = showingFrom;\r\n            if (showingTo > to && showingTo - to < 20) to = Math.min(doc.size, showingTo);\r\n\r\n            // Create a range of theoretically intact lines, and punch holes\r\n            // in that using the change info.\r\n            var intact = changes === true ? [] :\r\n                computeIntact([{from: showingFrom, to: showingTo, domStart: 0}], changes);\r\n            // Clip off the parts that won't be visible\r\n            var intactLines = 0;\r\n            for (var i = 0; i < intact.length; ++i) {\r\n                var range = intact[i];\r\n                if (range.from < from) {range.domStart += (from - range.from); range.from = from;}\r\n                if (range.to > to) range.to = to;\r\n                if (range.from >= range.to) intact.splice(i--, 1);\r\n                else intactLines += range.to - range.from;\r\n            }\r\n            if (intactLines == to - from) return;\r\n            intact.sort(function(a, b) {return a.domStart - b.domStart;});\r\n\r\n            var th = textHeight(), gutterDisplay = gutter.style.display;\r\n            lineDiv.style.display = gutter.style.display = \"none\";\r\n            patchDisplay(from, to, intact);\r\n            lineDiv.style.display = \"\";\r\n\r\n            // Position the mover div to align with the lines it's supposed\r\n            // to be showing (which will cover the visible display)\r\n            var different = from != showingFrom || to != showingTo || lastSizeC != scroller.clientHeight + th;\r\n            // This is just a bogus formula that detects when the editor is\r\n            // resized or the font size changes.\r\n            if (different) lastSizeC = scroller.clientHeight + th;\r\n            showingFrom = from; showingTo = to;\r\n            displayOffset = heightAtLine(doc, from);\r\n            mover.style.top = (displayOffset * th) + \"px\";\r\n            code.style.height = (doc.height * th + 2 * paddingTop()) + \"px\";\r\n\r\n            // Since this is all rather error prone, it is honoured with the\r\n            // only assertion in the whole file.\r\n            if (lineDiv.childNodes.length != showingTo - showingFrom)\r\n                throw new Error(\"BAD PATCH! \" + JSON.stringify(intact) + \" size=\" + (showingTo - showingFrom) +\r\n                    \" nodes=\" + lineDiv.childNodes.length);\r\n\r\n            if (options.lineWrapping) {\r\n                maxWidth = scroller.clientWidth;\r\n                var curNode = lineDiv.firstChild;\r\n                doc.iter(showingFrom, showingTo, function(line) {\r\n                    if (!line.hidden) {\r\n                        var height = Math.round(curNode.offsetHeight / th) || 1;\r\n                        if (line.height != height) {updateLineHeight(line, height); gutterDirty = true;}\r\n                    }\r\n                    curNode = curNode.nextSibling;\r\n                });\r\n            } else {\r\n                if (maxWidth == null) maxWidth = stringWidth(maxLine);\r\n                if (maxWidth > scroller.clientWidth) {\r\n                    lineSpace.style.width = maxWidth + \"px\";\r\n                    // Needed to prevent odd wrapping/hiding of widgets placed in here.\r\n                    code.style.width = \"\";\r\n                    code.style.width = scroller.scrollWidth + \"px\";\r\n                } else {\r\n                    lineSpace.style.width = code.style.width = \"\";\r\n                }\r\n            }\r\n            gutter.style.display = gutterDisplay;\r\n            if (different || gutterDirty) updateGutter();\r\n            updateCursor();\r\n            if (!suppressCallback && options.onUpdate) options.onUpdate(instance);\r\n            return true;\r\n        }\r\n\r\n        function computeIntact(intact, changes) {\r\n            for (var i = 0, l = changes.length || 0; i < l; ++i) {\r\n                var change = changes[i], intact2 = [], diff = change.diff || 0;\r\n                for (var j = 0, l2 = intact.length; j < l2; ++j) {\r\n                    var range = intact[j];\r\n                    if (change.to <= range.from && change.diff)\r\n                        intact2.push({from: range.from + diff, to: range.to + diff,\r\n                            domStart: range.domStart});\r\n                    else if (change.to <= range.from || change.from >= range.to)\r\n                        intact2.push(range);\r\n                    else {\r\n                        if (change.from > range.from)\r\n                            intact2.push({from: range.from, to: change.from, domStart: range.domStart});\r\n                        if (change.to < range.to)\r\n                            intact2.push({from: change.to + diff, to: range.to + diff,\r\n                                domStart: range.domStart + (change.to - range.from)});\r\n                    }\r\n                }\r\n                intact = intact2;\r\n            }\r\n            return intact;\r\n        }\r\n\r\n        function patchDisplay(from, to, intact) {\r\n            // The first pass removes the DOM nodes that aren't intact.\r\n            if (!intact.length) lineDiv.innerHTML = \"\";\r\n            else {\r\n                function killNode(node) {\r\n                    var tmp = node.nextSibling;\r\n                    node.parentNode.removeChild(node);\r\n                    return tmp;\r\n                }\r\n                var domPos = 0, curNode = lineDiv.firstChild, n;\r\n                for (var i = 0; i < intact.length; ++i) {\r\n                    var cur = intact[i];\r\n                    while (cur.domStart > domPos) {curNode = killNode(curNode); domPos++;}\r\n                    for (var j = 0, e = cur.to - cur.from; j < e; ++j) {curNode = curNode.nextSibling; domPos++;}\r\n                }\r\n                while (curNode) curNode = killNode(curNode);\r\n            }\r\n            // This pass fills in the lines that actually changed.\r\n            var nextIntact = intact.shift(), curNode = lineDiv.firstChild, j = from;\r\n            var sfrom = sel.from.line, sto = sel.to.line, inSel = sfrom < from && sto >= from;\r\n            var scratch = targetDocument.createElement(\"div\"), newElt;\r\n            doc.iter(from, to, function(line) {\r\n                var ch1 = null, ch2 = null;\r\n                if (inSel) {\r\n                    ch1 = 0;\r\n                    if (sto == j) {inSel = false; ch2 = sel.to.ch;}\r\n                } else if (sfrom == j) {\r\n                    if (sto == j) {ch1 = sel.from.ch; ch2 = sel.to.ch;}\r\n                    else {inSel = true; ch1 = sel.from.ch;}\r\n                }\r\n                if (nextIntact && nextIntact.to == j) nextIntact = intact.shift();\r\n                if (!nextIntact || nextIntact.from > j) {\r\n                    if (line.hidden) scratch.innerHTML = \"<pre></pre>\";\r\n                    else scratch.innerHTML = line.getHTML(ch1, ch2, true, tabText);\r\n                    lineDiv.insertBefore(scratch.firstChild, curNode);\r\n                } else {\r\n                    curNode = curNode.nextSibling;\r\n                }\r\n                ++j;\r\n            });\r\n        }\r\n\r\n        function updateGutter() {\r\n            if (!options.gutter && !options.lineNumbers) return;\r\n            var hText = mover.offsetHeight, hEditor = scroller.clientHeight;\r\n            gutter.style.height = (hText - hEditor < 2 ? hEditor : hText) + \"px\";\r\n            var html = [], i = showingFrom;\r\n            doc.iter(showingFrom, Math.max(showingTo, showingFrom + 1), function(line) {\r\n                if (line.hidden) {\r\n                    html.push(\"<pre></pre>\");\r\n                } else {\r\n                    var marker = line.gutterMarker;\r\n                    var text = options.lineNumbers ? i + options.firstLineNumber : null;\r\n                    if (marker && marker.text)\r\n                        text = marker.text.replace(\"%N%\", text != null ? text : \"\");\r\n                    else if (text == null)\r\n                        text = \"\\u00a0\";\r\n                    html.push((marker && marker.style ? '<pre class=\"' + marker.style + '\">' : \"<pre>\"), text);\r\n                    for (var j = 1; j < line.height; ++j) html.push(\"<br/>&#160;\");\r\n                    html.push(\"</pre>\");\r\n                }\r\n                ++i;\r\n            });\r\n            gutter.style.display = \"none\";\r\n            gutterText.innerHTML = html.join(\"\");\r\n            var minwidth = String(doc.size).length, firstNode = gutterText.firstChild, val = eltText(firstNode), pad = \"\";\r\n            while (val.length + pad.length < minwidth) pad += \"\\u00a0\";\r\n            if (pad) firstNode.insertBefore(targetDocument.createTextNode(pad), firstNode.firstChild);\r\n            gutter.style.display = \"\";\r\n            lineSpace.style.marginLeft = gutter.offsetWidth + \"px\";\r\n            gutterDirty = false;\r\n        }\r\n        function updateCursor() {\r\n            var head = sel.inverted ? sel.from : sel.to, lh = textHeight();\r\n            var pos = localCoords(head, true);\r\n            var wrapOff = eltOffset(wrapper), lineOff = eltOffset(lineDiv);\r\n            inputDiv.style.top = (pos.y + lineOff.top - wrapOff.top) + \"px\";\r\n            inputDiv.style.left = (pos.x + lineOff.left - wrapOff.left) + \"px\";\r\n            if (posEq(sel.from, sel.to)) {\r\n                cursor.style.top = pos.y + \"px\";\r\n                cursor.style.left = (options.lineWrapping ? Math.min(pos.x, lineSpace.offsetWidth) : pos.x) + \"px\";\r\n                cursor.style.display = \"\";\r\n            }\r\n            else cursor.style.display = \"none\";\r\n        }\r\n\r\n        function setShift(val) {\r\n            if (val) shiftSelecting = shiftSelecting || (sel.inverted ? sel.to : sel.from);\r\n            else shiftSelecting = null;\r\n        }\r\n        function setSelectionUser(from, to) {\r\n            var sh = shiftSelecting && clipPos(shiftSelecting);\r\n            if (sh) {\r\n                if (posLess(sh, from)) from = sh;\r\n                else if (posLess(to, sh)) to = sh;\r\n            }\r\n            setSelection(from, to);\r\n            userSelChange = true;\r\n        }\r\n        // Update the selection. Last two args are only used by\r\n        // updateLines, since they have to be expressed in the line\r\n        // numbers before the update.\r\n        function setSelection(from, to, oldFrom, oldTo) {\r\n            goalColumn = null;\r\n            if (oldFrom == null) {oldFrom = sel.from.line; oldTo = sel.to.line;}\r\n            if (posEq(sel.from, from) && posEq(sel.to, to)) return;\r\n            if (posLess(to, from)) {var tmp = to; to = from; from = tmp;}\r\n\r\n            // Skip over hidden lines.\r\n            if (from.line != oldFrom) from = skipHidden(from, oldFrom, sel.from.ch);\r\n            if (to.line != oldTo) to = skipHidden(to, oldTo, sel.to.ch);\r\n\r\n            if (posEq(from, to)) sel.inverted = false;\r\n            else if (posEq(from, sel.to)) sel.inverted = false;\r\n            else if (posEq(to, sel.from)) sel.inverted = true;\r\n\r\n            // Some ugly logic used to only mark the lines that actually did\r\n            // see a change in selection as changed, rather than the whole\r\n            // selected range.\r\n            if (posEq(from, to)) {\r\n                if (!posEq(sel.from, sel.to))\r\n                    changes.push({from: oldFrom, to: oldTo + 1});\r\n            }\r\n            else if (posEq(sel.from, sel.to)) {\r\n                changes.push({from: from.line, to: to.line + 1});\r\n            }\r\n            else {\r\n                if (!posEq(from, sel.from)) {\r\n                    if (from.line < oldFrom)\r\n                        changes.push({from: from.line, to: Math.min(to.line, oldFrom) + 1});\r\n                    else\r\n                        changes.push({from: oldFrom, to: Math.min(oldTo, from.line) + 1});\r\n                }\r\n                if (!posEq(to, sel.to)) {\r\n                    if (to.line < oldTo)\r\n                        changes.push({from: Math.max(oldFrom, from.line), to: oldTo + 1});\r\n                    else\r\n                        changes.push({from: Math.max(from.line, oldTo), to: to.line + 1});\r\n                }\r\n            }\r\n            sel.from = from; sel.to = to;\r\n            selectionChanged = true;\r\n        }\r\n        function skipHidden(pos, oldLine, oldCh) {\r\n            function getNonHidden(dir) {\r\n                var lNo = pos.line + dir, end = dir == 1 ? doc.size : -1;\r\n                while (lNo != end) {\r\n                    var line = getLine(lNo);\r\n                    if (!line.hidden) {\r\n                        var ch = pos.ch;\r\n                        if (ch > oldCh || ch > line.text.length) ch = line.text.length;\r\n                        return {line: lNo, ch: ch};\r\n                    }\r\n                    lNo += dir;\r\n                }\r\n            }\r\n            var line = getLine(pos.line);\r\n            if (!line.hidden) return pos;\r\n            if (pos.line >= oldLine) return getNonHidden(1) || getNonHidden(-1);\r\n            else return getNonHidden(-1) || getNonHidden(1);\r\n        }\r\n        function setCursor(line, ch, user) {\r\n            var pos = clipPos({line: line, ch: ch || 0});\r\n            (user ? setSelectionUser : setSelection)(pos, pos);\r\n        }\r\n\r\n        function clipLine(n) {return Math.max(0, Math.min(n, doc.size-1));}\r\n        function clipPos(pos) {\r\n            if (pos.line < 0) return {line: 0, ch: 0};\r\n            if (pos.line >= doc.size) return {line: doc.size-1, ch: getLine(doc.size-1).text.length};\r\n            var ch = pos.ch, linelen = getLine(pos.line).text.length;\r\n            if (ch == null || ch > linelen) return {line: pos.line, ch: linelen};\r\n            else if (ch < 0) return {line: pos.line, ch: 0};\r\n            else return pos;\r\n        }\r\n\r\n        function findPosH(dir, unit) {\r\n            var end = sel.inverted ? sel.from : sel.to, line = end.line, ch = end.ch;\r\n            var lineObj = getLine(line);\r\n            function findNextLine() {\r\n                for (var l = line + dir, e = dir < 0 ? -1 : doc.size; l != e; l += dir) {\r\n                    var lo = getLine(l);\r\n                    if (!lo.hidden) { line = l; lineObj = lo; return true; }\r\n                }\r\n            }\r\n            function moveOnce(boundToLine) {\r\n                if (ch == (dir < 0 ? 0 : lineObj.text.length)) {\r\n                    if (!boundToLine && findNextLine()) ch = dir < 0 ? lineObj.text.length : 0;\r\n                    else return false;\r\n                } else ch += dir;\r\n                return true;\r\n            }\r\n            if (unit == \"char\") moveOnce();\r\n            else if (unit == \"column\") moveOnce(true);\r\n            else if (unit == \"word\") {\r\n                var sawWord = false;\r\n                for (;;) {\r\n                    if (dir < 0) if (!moveOnce()) break;\r\n                    if (isWordChar(lineObj.text.charAt(ch))) sawWord = true;\r\n                    else if (sawWord) {if (dir < 0) {dir = 1; moveOnce();} break;}\r\n                    if (dir > 0) if (!moveOnce()) break;\r\n                }\r\n            }\r\n            return {line: line, ch: ch};\r\n        }\r\n        function moveH(dir, unit) {\r\n            var pos = dir < 0 ? sel.from : sel.to;\r\n            if (shiftSelecting || posEq(sel.from, sel.to)) pos = findPosH(dir, unit);\r\n            setCursor(pos.line, pos.ch, true);\r\n        }\r\n        function deleteH(dir, unit) {\r\n            if (!posEq(sel.from, sel.to)) replaceRange(\"\", sel.from, sel.to);\r\n            else if (dir < 0) replaceRange(\"\", findPosH(dir, unit), sel.to);\r\n            else replaceRange(\"\", sel.from, findPosH(dir, unit));\r\n            userSelChange = true;\r\n        }\r\n        var goalColumn = null;\r\n        function moveV(dir, unit) {\r\n            var dist = 0, pos = localCoords(sel.inverted ? sel.from : sel.to, true);\r\n            if (goalColumn != null) pos.x = goalColumn;\r\n            if (unit == \"page\") dist = scroller.clientHeight;\r\n            else if (unit == \"line\") dist = textHeight();\r\n            var target = coordsChar(pos.x, pos.y + dist * dir + 2);\r\n            setCursor(target.line, target.ch, true);\r\n            goalColumn = pos.x;\r\n        }\r\n\r\n        function selectWordAt(pos) {\r\n            var line = getLine(pos.line).text;\r\n            var start = pos.ch, end = pos.ch;\r\n            while (start > 0 && isWordChar(line.charAt(start - 1))) --start;\r\n            while (end < line.length && isWordChar(line.charAt(end))) ++end;\r\n            setSelectionUser({line: pos.line, ch: start}, {line: pos.line, ch: end});\r\n        }\r\n        function selectLine(line) {\r\n            setSelectionUser({line: line, ch: 0}, {line: line, ch: getLine(line).text.length});\r\n        }\r\n        function indentSelected(mode) {\r\n            if (posEq(sel.from, sel.to)) return indentLine(sel.from.line, mode);\r\n            var e = sel.to.line - (sel.to.ch ? 0 : 1);\r\n            for (var i = sel.from.line; i <= e; ++i) indentLine(i, mode);\r\n        }\r\n\r\n        function indentLine(n, how) {\r\n            if (!how) how = \"add\";\r\n            if (how == \"smart\") {\r\n                if (!mode.indent) how = \"prev\";\r\n                else var state = getStateBefore(n);\r\n            }\r\n\r\n            var line = getLine(n), curSpace = line.indentation(options.tabSize),\r\n                curSpaceString = line.text.match(/^\\s*/)[0], indentation;\r\n            if (how == \"prev\") {\r\n                if (n) indentation = getLine(n-1).indentation(options.tabSize);\r\n                else indentation = 0;\r\n            }\r\n            else if (how == \"smart\") indentation = mode.indent(state, line.text.slice(curSpaceString.length), line.text);\r\n            else if (how == \"add\") indentation = curSpace + options.indentUnit;\r\n            else if (how == \"subtract\") indentation = curSpace - options.indentUnit;\r\n            indentation = Math.max(0, indentation);\r\n            var diff = indentation - curSpace;\r\n\r\n            if (!diff) {\r\n                if (sel.from.line != n && sel.to.line != n) return;\r\n                var indentString = curSpaceString;\r\n            }\r\n            else {\r\n                var indentString = \"\", pos = 0;\r\n                if (options.indentWithTabs)\r\n                    for (var i = Math.floor(indentation / options.tabSize); i; --i) {pos += options.tabSize; indentString += \"\\t\";}\r\n                while (pos < indentation) {++pos; indentString += \" \";}\r\n            }\r\n\r\n            replaceRange(indentString, {line: n, ch: 0}, {line: n, ch: curSpaceString.length});\r\n        }\r\n\r\n        function loadMode() {\r\n            mode = CodeMirror.getMode(options, options.mode);\r\n            doc.iter(0, doc.size, function(line) { line.stateAfter = null; });\r\n            work = [0];\r\n            startWorker();\r\n        }\r\n        function gutterChanged() {\r\n            var visible = options.gutter || options.lineNumbers;\r\n            gutter.style.display = visible ? \"\" : \"none\";\r\n            if (visible) gutterDirty = true;\r\n            else lineDiv.parentNode.style.marginLeft = 0;\r\n        }\r\n        function wrappingChanged(from, to) {\r\n            if (options.lineWrapping) {\r\n                wrapper.className += \" CodeMirror-wrap\";\r\n                var perLine = scroller.clientWidth / charWidth() - 3;\r\n                doc.iter(0, doc.size, function(line) {\r\n                    if (line.hidden) return;\r\n                    var guess = Math.ceil(line.text.length / perLine) || 1;\r\n                    if (guess != 1) updateLineHeight(line, guess);\r\n                });\r\n                lineSpace.style.width = code.style.width = \"\";\r\n            } else {\r\n                wrapper.className = wrapper.className.replace(\" CodeMirror-wrap\", \"\");\r\n                maxWidth = null; maxLine = \"\";\r\n                doc.iter(0, doc.size, function(line) {\r\n                    if (line.height != 1 && !line.hidden) updateLineHeight(line, 1);\r\n                    if (line.text.length > maxLine.length) maxLine = line.text;\r\n                });\r\n            }\r\n            changes.push({from: 0, to: doc.size});\r\n        }\r\n        function computeTabText() {\r\n            for (var str = '<span class=\"cm-tab\">', i = 0; i < options.tabSize; ++i) str += \" \";\r\n            return str + \"</span>\";\r\n        }\r\n        function tabsChanged() {\r\n            tabText = computeTabText();\r\n            updateDisplay(true);\r\n        }\r\n        function themeChanged() {\r\n            scroller.className = scroller.className.replace(/\\s*cm-s-\\w+/g, \"\") +\r\n                options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\r\n        }\r\n\r\n        function TextMarker() { this.set = []; }\r\n        TextMarker.prototype.clear = operation(function() {\r\n            var min = Infinity, max = -Infinity;\r\n            for (var i = 0, e = this.set.length; i < e; ++i) {\r\n                var line = this.set[i], mk = line.marked;\r\n                if (!mk || !line.parent) continue;\r\n                var lineN = lineNo(line);\r\n                min = Math.min(min, lineN); max = Math.max(max, lineN);\r\n                for (var j = 0; j < mk.length; ++j)\r\n                    if (mk[j].set == this.set) mk.splice(j--, 1);\r\n            }\r\n            if (min != Infinity)\r\n                changes.push({from: min, to: max + 1});\r\n        });\r\n        TextMarker.prototype.find = function() {\r\n            var from, to;\r\n            for (var i = 0, e = this.set.length; i < e; ++i) {\r\n                var line = this.set[i], mk = line.marked;\r\n                for (var j = 0; j < mk.length; ++j) {\r\n                    var mark = mk[j];\r\n                    if (mark.set == this.set) {\r\n                        if (mark.from != null || mark.to != null) {\r\n                            var found = lineNo(line);\r\n                            if (found != null) {\r\n                                if (mark.from != null) from = {line: found, ch: mark.from};\r\n                                if (mark.to != null) to = {line: found, ch: mark.to};\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return {from: from, to: to};\r\n        };\r\n\r\n        function markText(from, to, className) {\r\n            from = clipPos(from); to = clipPos(to);\r\n            var tm = new TextMarker();\r\n            function add(line, from, to, className) {\r\n                getLine(line).addMark(new MarkedText(from, to, className, tm.set));\r\n            }\r\n            if (from.line == to.line) add(from.line, from.ch, to.ch, className);\r\n            else {\r\n                add(from.line, from.ch, null, className);\r\n                for (var i = from.line + 1, e = to.line; i < e; ++i)\r\n                    add(i, null, null, className);\r\n                add(to.line, null, to.ch, className);\r\n            }\r\n            changes.push({from: from.line, to: to.line + 1});\r\n            return tm;\r\n        }\r\n\r\n        function setBookmark(pos) {\r\n            pos = clipPos(pos);\r\n            var bm = new Bookmark(pos.ch);\r\n            getLine(pos.line).addMark(bm);\r\n            return bm;\r\n        }\r\n\r\n        function addGutterMarker(line, text, className) {\r\n            if (typeof line == \"number\") line = getLine(clipLine(line));\r\n            line.gutterMarker = {text: text, style: className};\r\n            gutterDirty = true;\r\n            return line;\r\n        }\r\n        function removeGutterMarker(line) {\r\n            if (typeof line == \"number\") line = getLine(clipLine(line));\r\n            line.gutterMarker = null;\r\n            gutterDirty = true;\r\n        }\r\n\r\n        function changeLine(handle, op) {\r\n            var no = handle, line = handle;\r\n            if (typeof handle == \"number\") line = getLine(clipLine(handle));\r\n            else no = lineNo(handle);\r\n            if (no == null) return null;\r\n            if (op(line, no)) changes.push({from: no, to: no + 1});\r\n            else return null;\r\n            return line;\r\n        }\r\n        function setLineClass(handle, className) {\r\n            return changeLine(handle, function(line) {\r\n                if (line.className != className) {\r\n                    line.className = className;\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n        function setLineHidden(handle, hidden) {\r\n            return changeLine(handle, function(line, no) {\r\n                if (line.hidden != hidden) {\r\n                    line.hidden = hidden;\r\n                    updateLineHeight(line, hidden ? 0 : 1);\r\n                    if (hidden && (sel.from.line == no || sel.to.line == no))\r\n                        setSelection(skipHidden(sel.from, sel.from.line, sel.from.ch),\r\n                            skipHidden(sel.to, sel.to.line, sel.to.ch));\r\n                    return (gutterDirty = true);\r\n                }\r\n            });\r\n        }\r\n\r\n        function lineInfo(line) {\r\n            if (typeof line == \"number\") {\r\n                if (!isLine(line)) return null;\r\n                var n = line;\r\n                line = getLine(line);\r\n                if (!line) return null;\r\n            }\r\n            else {\r\n                var n = lineNo(line);\r\n                if (n == null) return null;\r\n            }\r\n            var marker = line.gutterMarker;\r\n            return {line: n, handle: line, text: line.text, markerText: marker && marker.text,\r\n                markerClass: marker && marker.style, lineClass: line.className};\r\n        }\r\n\r\n        function stringWidth(str) {\r\n            measure.innerHTML = \"<pre><span>x</span></pre>\";\r\n            measure.firstChild.firstChild.firstChild.nodeValue = str;\r\n            return measure.firstChild.firstChild.offsetWidth || 10;\r\n        }\r\n        // These are used to go from pixel positions to character\r\n        // positions, taking varying character widths into account.\r\n        function charFromX(line, x) {\r\n            if (x <= 0) return 0;\r\n            var lineObj = getLine(line), text = lineObj.text;\r\n            function getX(len) {\r\n                measure.innerHTML = \"<pre><span>\" + lineObj.getHTML(null, null, false, tabText, len) + \"</span></pre>\";\r\n                return measure.firstChild.firstChild.offsetWidth;\r\n            }\r\n            var from = 0, fromX = 0, to = text.length, toX;\r\n            // Guess a suitable upper bound for our search.\r\n            var estimated = Math.min(to, Math.ceil(x / charWidth()));\r\n            for (;;) {\r\n                var estX = getX(estimated);\r\n                if (estX <= x && estimated < to) estimated = Math.min(to, Math.ceil(estimated * 1.2));\r\n                else {toX = estX; to = estimated; break;}\r\n            }\r\n            if (x > toX) return to;\r\n            // Try to guess a suitable lower bound as well.\r\n            estimated = Math.floor(to * 0.8); estX = getX(estimated);\r\n            if (estX < x) {from = estimated; fromX = estX;}\r\n            // Do a binary search between these bounds.\r\n            for (;;) {\r\n                if (to - from <= 1) return (toX - x > x - fromX) ? from : to;\r\n                var middle = Math.ceil((from + to) / 2), middleX = getX(middle);\r\n                if (middleX > x) {to = middle; toX = middleX;}\r\n                else {from = middle; fromX = middleX;}\r\n            }\r\n        }\r\n\r\n        var tempId = Math.floor(Math.random() * 0xffffff).toString(16);\r\n        function measureLine(line, ch) {\r\n            var extra = \"\";\r\n            // Include extra text at the end to make sure the measured line is wrapped in the right way.\r\n            if (options.lineWrapping) {\r\n                var end = line.text.indexOf(\" \", ch + 2);\r\n                extra = htmlEscape(line.text.slice(ch + 1, end < 0 ? line.text.length : end + (ie ? 5 : 0)));\r\n            }\r\n            measure.innerHTML = \"<pre>\" + line.getHTML(null, null, false, tabText, ch) +\r\n                '<span id=\"CodeMirror-temp-' + tempId + '\">' + htmlEscape(line.text.charAt(ch) || \" \") + \"</span>\" +\r\n                extra + \"</pre>\";\r\n            var elt = document.getElementById(\"CodeMirror-temp-\" + tempId);\r\n            var top = elt.offsetTop, left = elt.offsetLeft;\r\n            // Older IEs report zero offsets for spans directly after a wrap\r\n            if (ie && ch && top == 0 && left == 0) {\r\n                var backup = document.createElement(\"span\");\r\n                backup.innerHTML = \"x\";\r\n                elt.parentNode.insertBefore(backup, elt.nextSibling);\r\n                top = backup.offsetTop;\r\n            }\r\n            return {top: top, left: left};\r\n        }\r\n        function localCoords(pos, inLineWrap) {\r\n            var x, lh = textHeight(), y = lh * (heightAtLine(doc, pos.line) - (inLineWrap ? displayOffset : 0));\r\n            if (pos.ch == 0) x = 0;\r\n            else {\r\n                var sp = measureLine(getLine(pos.line), pos.ch);\r\n                x = sp.left;\r\n                if (options.lineWrapping) y += Math.max(0, sp.top);\r\n            }\r\n            return {x: x, y: y, yBot: y + lh};\r\n        }\r\n        // Coords must be lineSpace-local\r\n        function coordsChar(x, y) {\r\n            if (y < 0) y = 0;\r\n            var th = textHeight(), cw = charWidth(), heightPos = displayOffset + Math.floor(y / th);\r\n            var lineNo = lineAtHeight(doc, heightPos);\r\n            if (lineNo >= doc.size) return {line: doc.size - 1, ch: getLine(doc.size - 1).text.length};\r\n            var lineObj = getLine(lineNo), text = lineObj.text;\r\n            var tw = options.lineWrapping, innerOff = tw ? heightPos - heightAtLine(doc, lineNo) : 0;\r\n            if (x <= 0 && innerOff == 0) return {line: lineNo, ch: 0};\r\n            function getX(len) {\r\n                var sp = measureLine(lineObj, len);\r\n                if (tw) {\r\n                    var off = Math.round(sp.top / th);\r\n                    return Math.max(0, sp.left + (off - innerOff) * scroller.clientWidth);\r\n                }\r\n                return sp.left;\r\n            }\r\n            var from = 0, fromX = 0, to = text.length, toX;\r\n            // Guess a suitable upper bound for our search.\r\n            var estimated = Math.min(to, Math.ceil((x + innerOff * scroller.clientWidth * .9) / cw));\r\n            for (;;) {\r\n                var estX = getX(estimated);\r\n                if (estX <= x && estimated < to) estimated = Math.min(to, Math.ceil(estimated * 1.2));\r\n                else {toX = estX; to = estimated; break;}\r\n            }\r\n            if (x > toX) return {line: lineNo, ch: to};\r\n            // Try to guess a suitable lower bound as well.\r\n            estimated = Math.floor(to * 0.8); estX = getX(estimated);\r\n            if (estX < x) {from = estimated; fromX = estX;}\r\n            // Do a binary search between these bounds.\r\n            for (;;) {\r\n                if (to - from <= 1) return {line: lineNo, ch: (toX - x > x - fromX) ? from : to};\r\n                var middle = Math.ceil((from + to) / 2), middleX = getX(middle);\r\n                if (middleX > x) {to = middle; toX = middleX;}\r\n                else {from = middle; fromX = middleX;}\r\n            }\r\n        }\r\n        function pageCoords(pos) {\r\n            var local = localCoords(pos, true), off = eltOffset(lineSpace);\r\n            return {x: off.left + local.x, y: off.top + local.y, yBot: off.top + local.yBot};\r\n        }\r\n\r\n        var cachedHeight, cachedHeightFor, measureText;\r\n        function textHeight() {\r\n            if (measureText == null) {\r\n                measureText = \"<pre>\";\r\n                for (var i = 0; i < 49; ++i) measureText += \"x<br/>\";\r\n                measureText += \"x</pre>\";\r\n            }\r\n            var offsetHeight = lineDiv.clientHeight;\r\n            if (offsetHeight == cachedHeightFor) return cachedHeight;\r\n            cachedHeightFor = offsetHeight;\r\n            measure.innerHTML = measureText;\r\n            cachedHeight = measure.firstChild.offsetHeight / 50 || 1;\r\n            measure.innerHTML = \"\";\r\n            return cachedHeight;\r\n        }\r\n        var cachedWidth, cachedWidthFor = 0;\r\n        function charWidth() {\r\n            if (scroller.clientWidth == cachedWidthFor) return cachedWidth;\r\n            cachedWidthFor = scroller.clientWidth;\r\n            return (cachedWidth = stringWidth(\"x\"));\r\n        }\r\n        function paddingTop() {return lineSpace.offsetTop;}\r\n        function paddingLeft() {return lineSpace.offsetLeft;}\r\n\r\n        function posFromMouse(e, liberal) {\r\n            var offW = eltOffset(scroller, true), x, y;\r\n            // Fails unpredictably on IE[67] when mouse is dragged around quickly.\r\n            try { x = e.clientX; y = e.clientY; } catch (e) { return null; }\r\n            // This is a mess of a heuristic to try and determine whether a\r\n            // scroll-bar was clicked or not, and to return null if one was\r\n            // (and !liberal).\r\n            if (!liberal && (x - offW.left > scroller.clientWidth || y - offW.top > scroller.clientHeight))\r\n                return null;\r\n            var offL = eltOffset(lineSpace, true);\r\n            return coordsChar(x - offL.left, y - offL.top);\r\n        }\r\n        function onContextMenu(e) {\r\n            var pos = posFromMouse(e);\r\n            if (!pos || window.opera) return; // Opera is difficult.\r\n            if (posEq(sel.from, sel.to) || posLess(pos, sel.from) || !posLess(pos, sel.to))\r\n                operation(setCursor)(pos.line, pos.ch);\r\n\r\n            var oldCSS = input.style.cssText;\r\n            inputDiv.style.position = \"absolute\";\r\n            input.style.cssText = \"position: fixed; width: 30px; height: 30px; top: \" + (e.clientY - 5) +\r\n                \"px; left: \" + (e.clientX - 5) + \"px; z-index: 1000; background: white; \" +\r\n                \"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\r\n            leaveInputAlone = true;\r\n            var val = input.value = getSelection();\r\n            focusInput();\r\n            input.select();\r\n            function rehide() {\r\n                var newVal = splitLines(input.value).join(\"\\n\");\r\n                if (newVal != val) operation(replaceSelection)(newVal, \"end\");\r\n                inputDiv.style.position = \"relative\";\r\n                input.style.cssText = oldCSS;\r\n                leaveInputAlone = false;\r\n                resetInput(true);\r\n                slowPoll();\r\n            }\r\n\r\n            if (gecko) {\r\n                e_stop(e);\r\n                var mouseup = connect(window, \"mouseup\", function() {\r\n                    mouseup();\r\n                    setTimeout(rehide, 20);\r\n                }, true);\r\n            }\r\n            else {\r\n                setTimeout(rehide, 50);\r\n            }\r\n        }\r\n\r\n        // Cursor-blinking\r\n        function restartBlink() {\r\n            clearInterval(blinker);\r\n            var on = true;\r\n            cursor.style.visibility = \"\";\r\n            blinker = setInterval(function() {\r\n                cursor.style.visibility = (on = !on) ? \"\" : \"hidden\";\r\n            }, 650);\r\n        }\r\n\r\n        var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\r\n        function matchBrackets(autoclear) {\r\n            var head = sel.inverted ? sel.from : sel.to, line = getLine(head.line), pos = head.ch - 1;\r\n            var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\r\n            if (!match) return;\r\n            var ch = match.charAt(0), forward = match.charAt(1) == \">\", d = forward ? 1 : -1, st = line.styles;\r\n            for (var off = pos + 1, i = 0, e = st.length; i < e; i+=2)\r\n                if ((off -= st[i].length) <= 0) {var style = st[i+1]; break;}\r\n\r\n            var stack = [line.text.charAt(pos)], re = /[(){}[\\]]/;\r\n            function scan(line, from, to) {\r\n                if (!line.text) return;\r\n                var st = line.styles, pos = forward ? 0 : line.text.length - 1, cur;\r\n                for (var i = forward ? 0 : st.length - 2, e = forward ? st.length : -2; i != e; i += 2*d) {\r\n                    var text = st[i];\r\n                    if (st[i+1] != null && st[i+1] != style) {pos += d * text.length; continue;}\r\n                    for (var j = forward ? 0 : text.length - 1, te = forward ? text.length : -1; j != te; j += d, pos+=d) {\r\n                        if (pos >= from && pos < to && re.test(cur = text.charAt(j))) {\r\n                            var match = matching[cur];\r\n                            if (match.charAt(1) == \">\" == forward) stack.push(cur);\r\n                            else if (stack.pop() != match.charAt(0)) return {pos: pos, match: false};\r\n                            else if (!stack.length) return {pos: pos, match: true};\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (var i = head.line, e = forward ? Math.min(i + 100, doc.size) : Math.max(-1, i - 100); i != e; i+=d) {\r\n                var line = getLine(i), first = i == head.line;\r\n                var found = scan(line, first && forward ? pos + 1 : 0, first && !forward ? pos : line.text.length);\r\n                if (found) break;\r\n            }\r\n            if (!found) found = {pos: null, match: false};\r\n            var style = found.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\r\n            var one = markText({line: head.line, ch: pos}, {line: head.line, ch: pos+1}, style),\r\n                two = found.pos != null && markText({line: i, ch: found.pos}, {line: i, ch: found.pos + 1}, style);\r\n            var clear = operation(function(){one.clear(); two && two.clear();});\r\n            if (autoclear) setTimeout(clear, 800);\r\n            else bracketHighlighted = clear;\r\n        }\r\n\r\n        // Finds the line to start with when starting a parse. Tries to\r\n        // find a line with a stateAfter, so that it can start with a\r\n        // valid state. If that fails, it returns the line with the\r\n        // smallest indentation, which tends to need the least context to\r\n        // parse correctly.\r\n        function findStartLine(n) {\r\n            var minindent, minline;\r\n            for (var search = n, lim = n - 40; search > lim; --search) {\r\n                if (search == 0) return 0;\r\n                var line = getLine(search-1);\r\n                if (line.stateAfter) return search;\r\n                var indented = line.indentation(options.tabSize);\r\n                if (minline == null || minindent > indented) {\r\n                    minline = search - 1;\r\n                    minindent = indented;\r\n                }\r\n            }\r\n            return minline;\r\n        }\r\n        function getStateBefore(n) {\r\n            var start = findStartLine(n), state = start && getLine(start-1).stateAfter;\r\n            if (!state) state = startState(mode);\r\n            else state = copyState(mode, state);\r\n            doc.iter(start, n, function(line) {\r\n                line.highlight(mode, state, options.tabSize);\r\n                line.stateAfter = copyState(mode, state);\r\n            });\r\n            if (start < n) changes.push({from: start, to: n});\r\n            if (n < doc.size && !getLine(n).stateAfter) work.push(n);\r\n            return state;\r\n        }\r\n        function highlightLines(start, end) {\r\n            var state = getStateBefore(start);\r\n            doc.iter(start, end, function(line) {\r\n                line.highlight(mode, state, options.tabSize);\r\n                line.stateAfter = copyState(mode, state);\r\n            });\r\n        }\r\n        function highlightWorker() {\r\n            var end = +new Date + options.workTime;\r\n            var foundWork = work.length;\r\n            while (work.length) {\r\n                if (!getLine(showingFrom).stateAfter) var task = showingFrom;\r\n                else var task = work.pop();\r\n                if (task >= doc.size) continue;\r\n                var start = findStartLine(task), state = start && getLine(start-1).stateAfter;\r\n                if (state) state = copyState(mode, state);\r\n                else state = startState(mode);\r\n\r\n                var unchanged = 0, compare = mode.compareStates, realChange = false,\r\n                    i = start, bail = false;\r\n                doc.iter(i, doc.size, function(line) {\r\n                    var hadState = line.stateAfter;\r\n                    if (+new Date > end) {\r\n                        work.push(i);\r\n                        startWorker(options.workDelay);\r\n                        if (realChange) changes.push({from: task, to: i + 1});\r\n                        return (bail = true);\r\n                    }\r\n                    var changed = line.highlight(mode, state, options.tabSize);\r\n                    if (changed) realChange = true;\r\n                    line.stateAfter = copyState(mode, state);\r\n                    if (compare) {\r\n                        if (hadState && compare(hadState, state)) return true;\r\n                    } else {\r\n                        if (changed !== false || !hadState) unchanged = 0;\r\n                        else if (++unchanged > 3 && (!mode.indent || mode.indent(hadState, \"\") == mode.indent(state, \"\")))\r\n                            return true;\r\n                    }\r\n                    ++i;\r\n                });\r\n                if (bail) return;\r\n                if (realChange) changes.push({from: task, to: i + 1});\r\n            }\r\n            if (foundWork && options.onHighlightComplete)\r\n                options.onHighlightComplete(instance);\r\n        }\r\n        function startWorker(time) {\r\n            if (!work.length) return;\r\n            highlight.set(time, operation(highlightWorker));\r\n        }\r\n\r\n        // Operations are used to wrap changes in such a way that each\r\n        // change won't have to update the cursor and display (which would\r\n        // be awkward, slow, and error-prone), but instead updates are\r\n        // batched and then all combined and executed at once.\r\n        function startOperation() {\r\n            updateInput = userSelChange = textChanged = null;\r\n            changes = []; selectionChanged = false; callbacks = [];\r\n        }\r\n        function endOperation() {\r\n            var reScroll = false, updated;\r\n            if (selectionChanged) reScroll = !scrollCursorIntoView();\r\n            if (changes.length) updated = updateDisplay(changes, true);\r\n            else {\r\n                if (selectionChanged) updateCursor();\r\n                if (gutterDirty) updateGutter();\r\n            }\r\n            if (reScroll) scrollCursorIntoView();\r\n            if (selectionChanged) {scrollEditorIntoView(); restartBlink();}\r\n\r\n            if (focused && !leaveInputAlone &&\r\n                (updateInput === true || (updateInput !== false && selectionChanged)))\r\n                resetInput(userSelChange);\r\n\r\n            if (selectionChanged && options.matchBrackets)\r\n                setTimeout(operation(function() {\r\n                    if (bracketHighlighted) {bracketHighlighted(); bracketHighlighted = null;}\r\n                    if (posEq(sel.from, sel.to)) matchBrackets(false);\r\n                }), 20);\r\n            var tc = textChanged, cbs = callbacks; // these can be reset by callbacks\r\n            if (selectionChanged && options.onCursorActivity)\r\n                options.onCursorActivity(instance);\r\n            if (tc && options.onChange && instance)\r\n                options.onChange(instance, tc);\r\n            for (var i = 0; i < cbs.length; ++i) cbs[i](instance);\r\n            if (updated && options.onUpdate) options.onUpdate(instance);\r\n        }\r\n        var nestedOperation = 0;\r\n        function operation(f) {\r\n            return function() {\r\n                if (!nestedOperation++) startOperation();\r\n                try {var result = f.apply(this, arguments);}\r\n                finally {if (!--nestedOperation) endOperation();}\r\n                return result;\r\n            };\r\n        }\r\n\r\n        for (var ext in extensions)\r\n            if (extensions.propertyIsEnumerable(ext) &&\r\n                !instance.propertyIsEnumerable(ext))\r\n                instance[ext] = extensions[ext];\r\n        return instance;\r\n    } // (end of function CodeMirror)\r\n\r\n    // The default configuration options.\r\n    CodeMirror.defaults = {\r\n        value: \"\",\r\n        mode: null,\r\n        theme: \"default\",\r\n        indentUnit: 2,\r\n        indentWithTabs: false,\r\n        tabSize: 4,\r\n        keyMap: \"default\",\r\n        extraKeys: null,\r\n        electricChars: true,\r\n        onKeyEvent: null,\r\n        lineWrapping: false,\r\n        lineNumbers: false,\r\n        gutter: false,\r\n        fixedGutter: false,\r\n        firstLineNumber: 1,\r\n        readOnly: false,\r\n        onChange: null,\r\n        onCursorActivity: null,\r\n        onGutterClick: null,\r\n        onHighlightComplete: null,\r\n        onUpdate: null,\r\n        onFocus: null, onBlur: null, onScroll: null,\r\n        matchBrackets: false,\r\n        workTime: 100,\r\n        workDelay: 200,\r\n        pollInterval: 100,\r\n        undoDepth: 40,\r\n        tabindex: null,\r\n        document: window.document\r\n    };\r\n\r\n    var mac = /Mac/.test(navigator.platform);\r\n    var win = /Win/.test(navigator.platform);\r\n\r\n    // Known modes, by name and by MIME\r\n    var modes = {}, mimeModes = {};\r\n    CodeMirror.defineMode = function(name, mode) {\r\n        if (!CodeMirror.defaults.mode && name != \"null\") CodeMirror.defaults.mode = name;\r\n        modes[name] = mode;\r\n    };\r\n    CodeMirror.defineMIME = function(mime, spec) {\r\n        mimeModes[mime] = spec;\r\n    };\r\n    CodeMirror.getMode = function(options, spec) {\r\n        if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec))\r\n            spec = mimeModes[spec];\r\n        if (typeof spec == \"string\")\r\n            var mname = spec, config = {};\r\n        else if (spec != null)\r\n            var mname = spec.name, config = spec;\r\n        var mfactory = modes[mname];\r\n        if (!mfactory) {\r\n            if (window.console) console.warn(\"No mode \" + mname + \" found, falling back to plain text.\");\r\n            return CodeMirror.getMode(options, \"text/plain\");\r\n        }\r\n        return mfactory(options, config || {});\r\n    };\r\n    CodeMirror.listModes = function() {\r\n        var list = [];\r\n        for (var m in modes)\r\n            if (modes.propertyIsEnumerable(m)) list.push(m);\r\n        return list;\r\n    };\r\n    CodeMirror.listMIMEs = function() {\r\n        var list = [];\r\n        for (var m in mimeModes)\r\n            if (mimeModes.propertyIsEnumerable(m)) list.push({mime: m, mode: mimeModes[m]});\r\n        return list;\r\n    };\r\n\r\n    var extensions = CodeMirror.extensions = {};\r\n    CodeMirror.defineExtension = function(name, func) {\r\n        extensions[name] = func;\r\n    };\r\n\r\n    var commands = CodeMirror.commands = {\r\n        selectAll: function(cm) {cm.setSelection({line: 0, ch: 0}, {line: cm.lineCount() - 1});},\r\n        killLine: function(cm) {\r\n            var from = cm.getCursor(true), to = cm.getCursor(false), sel = !posEq(from, to);\r\n            if (!sel && cm.getLine(from.line).length == from.ch) cm.replaceRange(\"\", from, {line: from.line + 1, ch: 0});\r\n            else cm.replaceRange(\"\", from, sel ? to : {line: from.line});\r\n        },\r\n        deleteLine: function(cm) {var l = cm.getCursor().line; cm.replaceRange(\"\", {line: l, ch: 0}, {line: l});},\r\n        undo: function(cm) {cm.undo();},\r\n        redo: function(cm) {cm.redo();},\r\n        goDocStart: function(cm) {cm.setCursor(0, 0, true);},\r\n        goDocEnd: function(cm) {cm.setSelection({line: cm.lineCount() - 1}, null, true);},\r\n        goLineStart: function(cm) {cm.setCursor(cm.getCursor().line, 0, true);},\r\n        goLineStartSmart: function(cm) {\r\n            var cur = cm.getCursor();\r\n            var text = cm.getLine(cur.line), firstNonWS = Math.max(0, text.search(/\\S/));\r\n            cm.setCursor(cur.line, cur.ch <= firstNonWS && cur.ch ? 0 : firstNonWS, true);\r\n        },\r\n        goLineEnd: function(cm) {cm.setSelection({line: cm.getCursor().line}, null, true);},\r\n        goLineUp: function(cm) {cm.moveV(-1, \"line\");},\r\n        goLineDown: function(cm) {cm.moveV(1, \"line\");},\r\n        goPageUp: function(cm) {cm.moveV(-1, \"page\");},\r\n        goPageDown: function(cm) {cm.moveV(1, \"page\");},\r\n        goCharLeft: function(cm) {cm.moveH(-1, \"char\");},\r\n        goCharRight: function(cm) {cm.moveH(1, \"char\");},\r\n        goColumnLeft: function(cm) {cm.moveH(-1, \"column\");},\r\n        goColumnRight: function(cm) {cm.moveH(1, \"column\");},\r\n        goWordLeft: function(cm) {cm.moveH(-1, \"word\");},\r\n        goWordRight: function(cm) {cm.moveH(1, \"word\");},\r\n        delCharLeft: function(cm) {cm.deleteH(-1, \"char\");},\r\n        delCharRight: function(cm) {cm.deleteH(1, \"char\");},\r\n        delWordLeft: function(cm) {cm.deleteH(-1, \"word\");},\r\n        delWordRight: function(cm) {cm.deleteH(1, \"word\");},\r\n        indentAuto: function(cm) {cm.indentSelection(\"smart\");},\r\n        indentMore: function(cm) {cm.indentSelection(\"add\");},\r\n        indentLess: function(cm) {cm.indentSelection(\"subtract\");},\r\n        insertTab: function(cm) {cm.replaceSelection(\"\\t\", \"end\");},\r\n        transposeChars: function(cm) {\r\n            var cur = cm.getCursor(), line = cm.getLine(cur.line);\r\n            if (cur.ch > 0 && cur.ch < line.length - 1)\r\n                cm.replaceRange(line.charAt(cur.ch) + line.charAt(cur.ch - 1),\r\n                    {line: cur.line, ch: cur.ch - 1}, {line: cur.line, ch: cur.ch + 1});\r\n        },\r\n        newlineAndIndent: function(cm) {\r\n            cm.replaceSelection(\"\\n\", \"end\");\r\n            cm.indentLine(cm.getCursor().line);\r\n        },\r\n        toggleOverwrite: function(cm) {cm.toggleOverwrite();}\r\n    };\r\n\r\n    var keyMap = CodeMirror.keyMap = {};\r\n    keyMap.basic = {\r\n        \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\r\n        \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\r\n        \"Delete\": \"delCharRight\", \"Backspace\": \"delCharLeft\", \"Tab\": \"indentMore\", \"Shift-Tab\": \"indentLess\",\r\n        \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\"\r\n    };\r\n    // Note that the save and find-related commands aren't defined by\r\n    // default. Unknown commands are simply ignored.\r\n    keyMap.pcDefault = {\r\n        \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\r\n        \"Ctrl-Home\": \"goDocStart\", \"Alt-Up\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Down\": \"goDocEnd\",\r\n        \"Ctrl-Left\": \"goWordLeft\", \"Ctrl-Right\": \"goWordRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\r\n        \"Ctrl-Backspace\": \"delWordLeft\", \"Ctrl-Delete\": \"delWordRight\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\r\n        \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\r\n        fallthrough: \"basic\"\r\n    };\r\n    keyMap.macDefault = {\r\n        \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\r\n        \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goWordLeft\",\r\n        \"Alt-Right\": \"goWordRight\", \"Cmd-Left\": \"goLineStart\", \"Cmd-Right\": \"goLineEnd\", \"Alt-Backspace\": \"delWordLeft\",\r\n        \"Ctrl-Alt-Backspace\": \"delWordRight\", \"Alt-Delete\": \"delWordRight\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\r\n        \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\r\n        fallthrough: [\"basic\", \"emacsy\"]\r\n    };\r\n    keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\r\n    keyMap.emacsy = {\r\n        \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\r\n        \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\r\n        \"Ctrl-V\": \"goPageUp\", \"Shift-Ctrl-V\": \"goPageDown\", \"Ctrl-D\": \"delCharRight\", \"Ctrl-H\": \"delCharLeft\",\r\n        \"Alt-D\": \"delWordRight\", \"Alt-Backspace\": \"delWordLeft\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\"\r\n    };\r\n\r\n    function lookupKey(name, extraMap, map) {\r\n        function lookup(name, map, ft) {\r\n            var found = map[name];\r\n            if (found != null) return found;\r\n            if (ft == null) ft = map.fallthrough;\r\n            if (ft == null) return map.catchall;\r\n            if (typeof ft == \"string\") return lookup(name, keyMap[ft]);\r\n            for (var i = 0, e = ft.length; i < e; ++i) {\r\n                found = lookup(name, keyMap[ft[i]]);\r\n                if (found != null) return found;\r\n            }\r\n            return null;\r\n        }\r\n        return extraMap ? lookup(name, extraMap, map) : lookup(name, keyMap[map]);\r\n    }\r\n    function isModifierKey(event) {\r\n        var name = keyNames[event.keyCode];\r\n        return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\r\n    }\r\n\r\n    CodeMirror.fromTextArea = function(textarea, options) {\r\n        if (!options) options = {};\r\n        options.value = textarea.value;\r\n        if (!options.tabindex && textarea.tabindex)\r\n            options.tabindex = textarea.tabindex;\r\n\r\n        function save() {textarea.value = instance.getValue();}\r\n        if (textarea.form) {\r\n            // Deplorable hack to make the submit method do the right thing.\r\n            var rmSubmit = connect(textarea.form, \"submit\", save, true);\r\n            if (typeof textarea.form.submit == \"function\") {\r\n                var realSubmit = textarea.form.submit;\r\n                function wrappedSubmit() {\r\n                    save();\r\n                    textarea.form.submit = realSubmit;\r\n                    textarea.form.submit();\r\n                    textarea.form.submit = wrappedSubmit;\r\n                }\r\n                textarea.form.submit = wrappedSubmit;\r\n            }\r\n        }\r\n\r\n        textarea.style.display = \"none\";\r\n        var instance = CodeMirror(function(node) {\r\n            textarea.parentNode.insertBefore(node, textarea.nextSibling);\r\n        }, options);\r\n        instance.save = save;\r\n        instance.getTextArea = function() { return textarea; };\r\n        instance.toTextArea = function() {\r\n            save();\r\n            textarea.parentNode.removeChild(instance.getWrapperElement());\r\n            textarea.style.display = \"\";\r\n            if (textarea.form) {\r\n                rmSubmit();\r\n                if (typeof textarea.form.submit == \"function\")\r\n                    textarea.form.submit = realSubmit;\r\n            }\r\n        };\r\n        return instance;\r\n    };\r\n\r\n    // Utility functions for working with state. Exported because modes\r\n    // sometimes need to do this.\r\n    function copyState(mode, state) {\r\n        if (state === true) return state;\r\n        if (mode.copyState) return mode.copyState(state);\r\n        var nstate = {};\r\n        for (var n in state) {\r\n            var val = state[n];\r\n            if (val instanceof Array) val = val.concat([]);\r\n            nstate[n] = val;\r\n        }\r\n        return nstate;\r\n    }\r\n    CodeMirror.copyState = copyState;\r\n    function startState(mode, a1, a2) {\r\n        return mode.startState ? mode.startState(a1, a2) : true;\r\n    }\r\n    CodeMirror.startState = startState;\r\n\r\n    // The character stream used by a mode's parser.\r\n    function StringStream(string, tabSize) {\r\n        this.pos = this.start = 0;\r\n        this.string = string;\r\n        this.tabSize = tabSize || 8;\r\n    }\r\n    StringStream.prototype = {\r\n        eol: function() {return this.pos >= this.string.length;},\r\n        sol: function() {return this.pos == 0;},\r\n        peek: function() {return this.string.charAt(this.pos);},\r\n        next: function() {\r\n            if (this.pos < this.string.length)\r\n                return this.string.charAt(this.pos++);\r\n        },\r\n        eat: function(match) {\r\n            var ch = this.string.charAt(this.pos);\r\n            if (typeof match == \"string\") var ok = ch == match;\r\n            else var ok = ch && (match.test ? match.test(ch) : match(ch));\r\n            if (ok) {++this.pos; return ch;}\r\n        },\r\n        eatWhile: function(match) {\r\n            var start = this.pos;\r\n            while (this.eat(match)){}\r\n            return this.pos > start;\r\n        },\r\n        eatSpace: function() {\r\n            var start = this.pos;\r\n            while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\r\n            return this.pos > start;\r\n        },\r\n        skipToEnd: function() {this.pos = this.string.length;},\r\n        skipTo: function(ch) {\r\n            var found = this.string.indexOf(ch, this.pos);\r\n            if (found > -1) {this.pos = found; return true;}\r\n        },\r\n        backUp: function(n) {this.pos -= n;},\r\n        column: function() {return countColumn(this.string, this.start, this.tabSize);},\r\n        indentation: function() {return countColumn(this.string, null, this.tabSize);},\r\n        match: function(pattern, consume, caseInsensitive) {\r\n            if (typeof pattern == \"string\") {\r\n                function cased(str) {return caseInsensitive ? str.toLowerCase() : str;}\r\n                if (cased(this.string).indexOf(cased(pattern), this.pos) == this.pos) {\r\n                    if (consume !== false) this.pos += pattern.length;\r\n                    return true;\r\n                }\r\n            }\r\n            else {\r\n                var match = this.string.slice(this.pos).match(pattern);\r\n                if (match && consume !== false) this.pos += match[0].length;\r\n                return match;\r\n            }\r\n        },\r\n        current: function(){return this.string.slice(this.start, this.pos);}\r\n    };\r\n    CodeMirror.StringStream = StringStream;\r\n\r\n    function MarkedText(from, to, className, set) {\r\n        this.from = from; this.to = to; this.style = className; this.set = set;\r\n    }\r\n    MarkedText.prototype = {\r\n        attach: function(line) { this.set.push(line); },\r\n        detach: function(line) {\r\n            var ix = indexOf(this.set, line);\r\n            if (ix > -1) this.set.splice(ix, 1);\r\n        },\r\n        split: function(pos, lenBefore) {\r\n            if (this.to <= pos && this.to != null) return null;\r\n            var from = this.from < pos || this.from == null ? null : this.from - pos + lenBefore;\r\n            var to = this.to == null ? null : this.to - pos + lenBefore;\r\n            return new MarkedText(from, to, this.style, this.set);\r\n        },\r\n        dup: function() { return new MarkedText(null, null, this.style, this.set); },\r\n        clipTo: function(fromOpen, from, toOpen, to, diff) {\r\n            if (this.from != null && this.from >= from)\r\n                this.from = Math.max(to, this.from) + diff;\r\n            if (this.to != null && this.to > from)\r\n                this.to = to < this.to ? this.to + diff : from;\r\n            if (fromOpen && to > this.from && (to < this.to || this.to == null))\r\n                this.from = null;\r\n            if (toOpen && (from < this.to || this.to == null) && (from > this.from || this.from == null))\r\n                this.to = null;\r\n        },\r\n        isDead: function() { return this.from != null && this.to != null && this.from >= this.to; },\r\n        sameSet: function(x) { return this.set == x.set; }\r\n    };\r\n\r\n    function Bookmark(pos) {\r\n        this.from = pos; this.to = pos; this.line = null;\r\n    }\r\n    Bookmark.prototype = {\r\n        attach: function(line) { this.line = line; },\r\n        detach: function(line) { if (this.line == line) this.line = null; },\r\n        split: function(pos, lenBefore) {\r\n            if (pos < this.from) {\r\n                this.from = this.to = (this.from - pos) + lenBefore;\r\n                return this;\r\n            }\r\n        },\r\n        isDead: function() { return this.from > this.to; },\r\n        clipTo: function(fromOpen, from, toOpen, to, diff) {\r\n            if ((fromOpen || from < this.from) && (toOpen || to > this.to)) {\r\n                this.from = 0; this.to = -1;\r\n            } else if (this.from > from) {\r\n                this.from = this.to = Math.max(to, this.from) + diff;\r\n            }\r\n        },\r\n        sameSet: function(x) { return false; },\r\n        find: function() {\r\n            if (!this.line || !this.line.parent) return null;\r\n            return {line: lineNo(this.line), ch: this.from};\r\n        },\r\n        clear: function() {\r\n            if (this.line) {\r\n                var found = indexOf(this.line.marked, this);\r\n                if (found != -1) this.line.marked.splice(found, 1);\r\n                this.line = null;\r\n            }\r\n        }\r\n    };\r\n\r\n    // Line objects. These hold state related to a line, including\r\n    // highlighting info (the styles array).\r\n    function Line(text, styles) {\r\n        this.styles = styles || [text, null];\r\n        this.text = text;\r\n        this.height = 1;\r\n        this.marked = this.gutterMarker = this.className = this.handlers = null;\r\n        this.stateAfter = this.parent = this.hidden = null;\r\n    }\r\n    Line.inheritMarks = function(text, orig) {\r\n        var ln = new Line(text), mk = orig && orig.marked;\r\n        if (mk) {\r\n            for (var i = 0; i < mk.length; ++i) {\r\n                if (mk[i].to == null && mk[i].style) {\r\n                    var newmk = ln.marked || (ln.marked = []), mark = mk[i];\r\n                    var nmark = mark.dup(); newmk.push(nmark); nmark.attach(ln);\r\n                }\r\n            }\r\n        }\r\n        return ln;\r\n    }\r\n    Line.prototype = {\r\n        // Replace a piece of a line, keeping the styles around it intact.\r\n        replace: function(from, to_, text) {\r\n            var st = [], mk = this.marked, to = to_ == null ? this.text.length : to_;\r\n            copyStyles(0, from, this.styles, st);\r\n            if (text) st.push(text, null);\r\n            copyStyles(to, this.text.length, this.styles, st);\r\n            this.styles = st;\r\n            this.text = this.text.slice(0, from) + text + this.text.slice(to);\r\n            this.stateAfter = null;\r\n            if (mk) {\r\n                var diff = text.length - (to - from);\r\n                for (var i = 0, mark = mk[i]; i < mk.length; ++i) {\r\n                    mark.clipTo(from == null, from || 0, to_ == null, to, diff);\r\n                    if (mark.isDead()) {mark.detach(this); mk.splice(i--, 1);}\r\n                }\r\n            }\r\n        },\r\n        // Split a part off a line, keeping styles and markers intact.\r\n        split: function(pos, textBefore) {\r\n            var st = [textBefore, null], mk = this.marked;\r\n            copyStyles(pos, this.text.length, this.styles, st);\r\n            var taken = new Line(textBefore + this.text.slice(pos), st);\r\n            if (mk) {\r\n                for (var i = 0; i < mk.length; ++i) {\r\n                    var mark = mk[i];\r\n                    var newmark = mark.split(pos, textBefore.length);\r\n                    if (newmark) {\r\n                        if (!taken.marked) taken.marked = [];\r\n                        taken.marked.push(newmark); newmark.attach(taken);\r\n                    }\r\n                }\r\n            }\r\n            return taken;\r\n        },\r\n        append: function(line) {\r\n            var mylen = this.text.length, mk = line.marked, mymk = this.marked;\r\n            this.text += line.text;\r\n            copyStyles(0, line.text.length, line.styles, this.styles);\r\n            if (mymk) {\r\n                for (var i = 0; i < mymk.length; ++i)\r\n                    if (mymk[i].to == null) mymk[i].to = mylen;\r\n            }\r\n            if (mk && mk.length) {\r\n                if (!mymk) this.marked = mymk = [];\r\n                outer: for (var i = 0; i < mk.length; ++i) {\r\n                    var mark = mk[i];\r\n                    if (!mark.from) {\r\n                        for (var j = 0; j < mymk.length; ++j) {\r\n                            var mymark = mymk[j];\r\n                            if (mymark.to == mylen && mymark.sameSet(mark)) {\r\n                                mymark.to = mark.to == null ? null : mark.to + mylen;\r\n                                if (mymark.isDead()) {\r\n                                    mymark.detach(this);\r\n                                    mk.splice(i--, 1);\r\n                                }\r\n                                continue outer;\r\n                            }\r\n                        }\r\n                    }\r\n                    mymk.push(mark);\r\n                    mark.attach(this);\r\n                    mark.from += mylen;\r\n                    if (mark.to != null) mark.to += mylen;\r\n                }\r\n            }\r\n        },\r\n        fixMarkEnds: function(other) {\r\n            var mk = this.marked, omk = other.marked;\r\n            if (!mk) return;\r\n            for (var i = 0; i < mk.length; ++i) {\r\n                var mark = mk[i], close = mark.to == null;\r\n                if (close && omk) {\r\n                    for (var j = 0; j < omk.length; ++j)\r\n                        if (omk[j].sameSet(mark)) {close = false; break;}\r\n                }\r\n                if (close) mark.to = this.text.length;\r\n            }\r\n        },\r\n        fixMarkStarts: function() {\r\n            var mk = this.marked;\r\n            if (!mk) return;\r\n            for (var i = 0; i < mk.length; ++i)\r\n                if (mk[i].from == null) mk[i].from = 0;\r\n        },\r\n        addMark: function(mark) {\r\n            mark.attach(this);\r\n            if (this.marked == null) this.marked = [];\r\n            this.marked.push(mark);\r\n            this.marked.sort(function(a, b){return (a.from || 0) - (b.from || 0);});\r\n        },\r\n        // Run the given mode's parser over a line, update the styles\r\n        // array, which contains alternating fragments of text and CSS\r\n        // classes.\r\n        highlight: function(mode, state, tabSize) {\r\n            var stream = new StringStream(this.text, tabSize), st = this.styles, pos = 0;\r\n            var changed = false, curWord = st[0], prevWord;\r\n            if (this.text == \"\" && mode.blankLine) mode.blankLine(state);\r\n            while (!stream.eol()) {\r\n                var style = mode.token(stream, state);\r\n                var substr = this.text.slice(stream.start, stream.pos);\r\n                stream.start = stream.pos;\r\n                if (pos && st[pos-1] == style)\r\n                    st[pos-2] += substr;\r\n                else if (substr) {\r\n                    if (!changed && (st[pos+1] != style || (pos && st[pos-2] != prevWord))) changed = true;\r\n                    st[pos++] = substr; st[pos++] = style;\r\n                    prevWord = curWord; curWord = st[pos];\r\n                }\r\n                // Give up when line is ridiculously long\r\n                if (stream.pos > 5000) {\r\n                    st[pos++] = this.text.slice(stream.pos); st[pos++] = null;\r\n                    break;\r\n                }\r\n            }\r\n            if (st.length != pos) {st.length = pos; changed = true;}\r\n            if (pos && st[pos-2] != prevWord) changed = true;\r\n            // Short lines with simple highlights return null, and are\r\n            // counted as changed by the driver because they are likely to\r\n            // highlight the same way in various contexts.\r\n            return changed || (st.length < 5 && this.text.length < 10 ? null : false);\r\n        },\r\n        // Fetch the parser token for a given character. Useful for hacks\r\n        // that want to inspect the mode state (say, for completion).\r\n        getTokenAt: function(mode, state, ch) {\r\n            var txt = this.text, stream = new StringStream(txt);\r\n            while (stream.pos < ch && !stream.eol()) {\r\n                stream.start = stream.pos;\r\n                var style = mode.token(stream, state);\r\n            }\r\n            return {start: stream.start,\r\n                end: stream.pos,\r\n                string: stream.current(),\r\n                className: style || null,\r\n                state: state};\r\n        },\r\n        indentation: function(tabSize) {return countColumn(this.text, null, tabSize);},\r\n        // Produces an HTML fragment for the line, taking selection,\r\n        // marking, and highlighting into account.\r\n        getHTML: function(sfrom, sto, includePre, tabText, endAt) {\r\n            var html = [], first = true;\r\n            if (includePre)\r\n                html.push(this.className ? '<pre class=\"' + this.className + '\">': \"<pre>\");\r\n            function span(text, style) {\r\n                if (!text) return;\r\n                // Work around a bug where, in some compat modes, IE ignores leading spaces\r\n                if (first && ie && text.charAt(0) == \" \") text = \"\\u00a0\" + text.slice(1);\r\n                first = false;\r\n                if (style) html.push('<span class=\"', style, '\">', htmlEscape(text).replace(/\\t/g, tabText), \"</span>\");\r\n                else html.push(htmlEscape(text).replace(/\\t/g, tabText));\r\n            }\r\n            var st = this.styles, allText = this.text, marked = this.marked;\r\n            if (sfrom == sto) sfrom = null;\r\n            var len = allText.length;\r\n            if (endAt != null) len = Math.min(endAt, len);\r\n\r\n            if (!allText && endAt == null)\r\n                span(\" \", sfrom != null && sto == null ? \"CodeMirror-selected\" : null);\r\n            else if (!marked && sfrom == null)\r\n                for (var i = 0, ch = 0; ch < len; i+=2) {\r\n                    var str = st[i], style = st[i+1], l = str.length;\r\n                    if (ch + l > len) str = str.slice(0, len - ch);\r\n                    ch += l;\r\n                    span(str, style && \"cm-\" + style);\r\n                }\r\n            else {\r\n                var pos = 0, i = 0, text = \"\", style, sg = 0;\r\n                var markpos = -1, mark = null;\r\n                function nextMark() {\r\n                    if (marked) {\r\n                        markpos += 1;\r\n                        mark = (markpos < marked.length) ? marked[markpos] : null;\r\n                    }\r\n                }\r\n                nextMark();\r\n                while (pos < len) {\r\n                    var upto = len;\r\n                    var extraStyle = \"\";\r\n                    if (sfrom != null) {\r\n                        if (sfrom > pos) upto = sfrom;\r\n                        else if (sto == null || sto > pos) {\r\n                            extraStyle = \" CodeMirror-selected\";\r\n                            if (sto != null) upto = Math.min(upto, sto);\r\n                        }\r\n                    }\r\n                    while (mark && mark.to != null && mark.to <= pos) nextMark();\r\n                    if (mark) {\r\n                        if (mark.from > pos) upto = Math.min(upto, mark.from);\r\n                        else {\r\n                            extraStyle += \" \" + mark.style;\r\n                            if (mark.to != null) upto = Math.min(upto, mark.to);\r\n                        }\r\n                    }\r\n                    for (;;) {\r\n                        var end = pos + text.length;\r\n                        var appliedStyle = style;\r\n                        if (extraStyle) appliedStyle = style ? style + extraStyle : extraStyle;\r\n                        span(end > upto ? text.slice(0, upto - pos) : text, appliedStyle);\r\n                        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}\r\n                        pos = end;\r\n                        text = st[i++]; style = \"cm-\" + st[i++];\r\n                    }\r\n                }\r\n                if (sfrom != null && sto == null) span(\" \", \"CodeMirror-selected\");\r\n            }\r\n            if (includePre) html.push(\"</pre>\");\r\n            return html.join(\"\");\r\n        },\r\n        cleanUp: function() {\r\n            this.parent = null;\r\n            if (this.marked)\r\n                for (var i = 0, e = this.marked.length; i < e; ++i) this.marked[i].detach(this);\r\n        }\r\n    };\r\n    // Utility used by replace and split above\r\n    function copyStyles(from, to, source, dest) {\r\n        for (var i = 0, pos = 0, state = 0; pos < to; i+=2) {\r\n            var part = source[i], end = pos + part.length;\r\n            if (state == 0) {\r\n                if (end > from) dest.push(part.slice(from - pos, Math.min(part.length, to - pos)), source[i+1]);\r\n                if (end >= from) state = 1;\r\n            }\r\n            else if (state == 1) {\r\n                if (end > to) dest.push(part.slice(0, to - pos), source[i+1]);\r\n                else dest.push(part, source[i+1]);\r\n            }\r\n            pos = end;\r\n        }\r\n    }\r\n\r\n    // Data structure that holds the sequence of lines.\r\n    function LeafChunk(lines) {\r\n        this.lines = lines;\r\n        this.parent = null;\r\n        for (var i = 0, e = lines.length, height = 0; i < e; ++i) {\r\n            lines[i].parent = this;\r\n            height += lines[i].height;\r\n        }\r\n        this.height = height;\r\n    }\r\n    LeafChunk.prototype = {\r\n        chunkSize: function() { return this.lines.length; },\r\n        remove: function(at, n, callbacks) {\r\n            for (var i = at, e = at + n; i < e; ++i) {\r\n                var line = this.lines[i];\r\n                this.height -= line.height;\r\n                line.cleanUp();\r\n                if (line.handlers)\r\n                    for (var j = 0; j < line.handlers.length; ++j) callbacks.push(line.handlers[j]);\r\n            }\r\n            this.lines.splice(at, n);\r\n        },\r\n        collapse: function(lines) {\r\n            lines.splice.apply(lines, [lines.length, 0].concat(this.lines));\r\n        },\r\n        insertHeight: function(at, lines, height) {\r\n            this.height += height;\r\n            this.lines.splice.apply(this.lines, [at, 0].concat(lines));\r\n            for (var i = 0, e = lines.length; i < e; ++i) lines[i].parent = this;\r\n        },\r\n        iterN: function(at, n, op) {\r\n            for (var e = at + n; at < e; ++at)\r\n                if (op(this.lines[at])) return true;\r\n        }\r\n    };\r\n    function BranchChunk(children) {\r\n        this.children = children;\r\n        var size = 0, height = 0;\r\n        for (var i = 0, e = children.length; i < e; ++i) {\r\n            var ch = children[i];\r\n            size += ch.chunkSize(); height += ch.height;\r\n            ch.parent = this;\r\n        }\r\n        this.size = size;\r\n        this.height = height;\r\n        this.parent = null;\r\n    }\r\n    BranchChunk.prototype = {\r\n        chunkSize: function() { return this.size; },\r\n        remove: function(at, n, callbacks) {\r\n            this.size -= n;\r\n            for (var i = 0; i < this.children.length; ++i) {\r\n                var child = this.children[i], sz = child.chunkSize();\r\n                if (at < sz) {\r\n                    var rm = Math.min(n, sz - at), oldHeight = child.height;\r\n                    child.remove(at, rm, callbacks);\r\n                    this.height -= oldHeight - child.height;\r\n                    if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\r\n                    if ((n -= rm) == 0) break;\r\n                    at = 0;\r\n                } else at -= sz;\r\n            }\r\n            if (this.size - n < 25) {\r\n                var lines = [];\r\n                this.collapse(lines);\r\n                this.children = [new LeafChunk(lines)];\r\n            }\r\n        },\r\n        collapse: function(lines) {\r\n            for (var i = 0, e = this.children.length; i < e; ++i) this.children[i].collapse(lines);\r\n        },\r\n        insert: function(at, lines) {\r\n            var height = 0;\r\n            for (var i = 0, e = lines.length; i < e; ++i) height += lines[i].height;\r\n            this.insertHeight(at, lines, height);\r\n        },\r\n        insertHeight: function(at, lines, height) {\r\n            this.size += lines.length;\r\n            this.height += height;\r\n            for (var i = 0, e = this.children.length; i < e; ++i) {\r\n                var child = this.children[i], sz = child.chunkSize();\r\n                if (at <= sz) {\r\n                    child.insertHeight(at, lines, height);\r\n                    if (child.lines && child.lines.length > 50) {\r\n                        while (child.lines.length > 50) {\r\n                            var spilled = child.lines.splice(child.lines.length - 25, 25);\r\n                            var newleaf = new LeafChunk(spilled);\r\n                            child.height -= newleaf.height;\r\n                            this.children.splice(i + 1, 0, newleaf);\r\n                            newleaf.parent = this;\r\n                        }\r\n                        this.maybeSpill();\r\n                    }\r\n                    break;\r\n                }\r\n                at -= sz;\r\n            }\r\n        },\r\n        maybeSpill: function() {\r\n            if (this.children.length <= 10) return;\r\n            var me = this;\r\n            do {\r\n                var spilled = me.children.splice(me.children.length - 5, 5);\r\n                var sibling = new BranchChunk(spilled);\r\n                if (!me.parent) { // Become the parent node\r\n                    var copy = new BranchChunk(me.children);\r\n                    copy.parent = me;\r\n                    me.children = [copy, sibling];\r\n                    me = copy;\r\n                } else {\r\n                    me.size -= sibling.size;\r\n                    me.height -= sibling.height;\r\n                    var myIndex = indexOf(me.parent.children, me);\r\n                    me.parent.children.splice(myIndex + 1, 0, sibling);\r\n                }\r\n                sibling.parent = me.parent;\r\n            } while (me.children.length > 10);\r\n            me.parent.maybeSpill();\r\n        },\r\n        iter: function(from, to, op) { this.iterN(from, to - from, op); },\r\n        iterN: function(at, n, op) {\r\n            for (var i = 0, e = this.children.length; i < e; ++i) {\r\n                var child = this.children[i], sz = child.chunkSize();\r\n                if (at < sz) {\r\n                    var used = Math.min(n, sz - at);\r\n                    if (child.iterN(at, used, op)) return true;\r\n                    if ((n -= used) == 0) break;\r\n                    at = 0;\r\n                } else at -= sz;\r\n            }\r\n        }\r\n    };\r\n\r\n    function getLineAt(chunk, n) {\r\n        while (!chunk.lines) {\r\n            for (var i = 0;; ++i) {\r\n                var child = chunk.children[i], sz = child.chunkSize();\r\n                if (n < sz) { chunk = child; break; }\r\n                n -= sz;\r\n            }\r\n        }\r\n        return chunk.lines[n];\r\n    }\r\n    function lineNo(line) {\r\n        if (line.parent == null) return null;\r\n        var cur = line.parent, no = indexOf(cur.lines, line);\r\n        for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\r\n            for (var i = 0, e = chunk.children.length; ; ++i) {\r\n                if (chunk.children[i] == cur) break;\r\n                no += chunk.children[i].chunkSize();\r\n            }\r\n        }\r\n        return no;\r\n    }\r\n    function lineAtHeight(chunk, h) {\r\n        var n = 0;\r\n        outer: do {\r\n            for (var i = 0, e = chunk.children.length; i < e; ++i) {\r\n                var child = chunk.children[i], ch = child.height;\r\n                if (h < ch) { chunk = child; continue outer; }\r\n                h -= ch;\r\n                n += child.chunkSize();\r\n            }\r\n            return n;\r\n        } while (!chunk.lines);\r\n        for (var i = 0, e = chunk.lines.length; i < e; ++i) {\r\n            var line = chunk.lines[i], lh = line.height;\r\n            if (h < lh) break;\r\n            h -= lh;\r\n        }\r\n        return n + i;\r\n    }\r\n    function heightAtLine(chunk, n) {\r\n        var h = 0;\r\n        outer: do {\r\n            for (var i = 0, e = chunk.children.length; i < e; ++i) {\r\n                var child = chunk.children[i], sz = child.chunkSize();\r\n                if (n < sz) { chunk = child; continue outer; }\r\n                n -= sz;\r\n                h += child.height;\r\n            }\r\n            return h;\r\n        } while (!chunk.lines);\r\n        for (var i = 0; i < n; ++i) h += chunk.lines[i].height;\r\n        return h;\r\n    }\r\n\r\n    // The history object 'chunks' changes that are made close together\r\n    // and at almost the same time into bigger undoable units.\r\n    function History() {\r\n        this.time = 0;\r\n        this.done = []; this.undone = [];\r\n    }\r\n    History.prototype = {\r\n        addChange: function(start, added, old) {\r\n            this.undone.length = 0;\r\n            var time = +new Date, last = this.done[this.done.length - 1];\r\n            if (time - this.time > 400 || !last ||\r\n                last.start > start + added || last.start + last.added < start - last.added + last.old.length)\r\n                this.done.push({start: start, added: added, old: old});\r\n            else {\r\n                var oldoff = 0;\r\n                if (start < last.start) {\r\n                    for (var i = last.start - start - 1; i >= 0; --i)\r\n                        last.old.unshift(old[i]);\r\n                    last.added += last.start - start;\r\n                    last.start = start;\r\n                }\r\n                else if (last.start < start) {\r\n                    oldoff = start - last.start;\r\n                    added += oldoff;\r\n                }\r\n                for (var i = last.added - oldoff, e = old.length; i < e; ++i)\r\n                    last.old.push(old[i]);\r\n                if (last.added < added) last.added = added;\r\n            }\r\n            this.time = time;\r\n        }\r\n    };\r\n\r\n    function stopMethod() {e_stop(this);}\r\n    // Ensure an event has a stop method.\r\n    function addStop(event) {\r\n        if (!event.stop) event.stop = stopMethod;\r\n        return event;\r\n    }\r\n\r\n    function e_preventDefault(e) {\r\n        if (e.preventDefault) e.preventDefault();\r\n        else e.returnValue = false;\r\n    }\r\n    function e_stopPropagation(e) {\r\n        if (e.stopPropagation) e.stopPropagation();\r\n        else e.cancelBubble = true;\r\n    }\r\n    function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\r\n    CodeMirror.e_stop = e_stop;\r\n    CodeMirror.e_preventDefault = e_preventDefault;\r\n    CodeMirror.e_stopPropagation = e_stopPropagation;\r\n\r\n    function e_target(e) {return e.target || e.srcElement;}\r\n    function e_button(e) {\r\n        if (e.which) return e.which;\r\n        else if (e.button & 1) return 1;\r\n        else if (e.button & 2) return 3;\r\n        else if (e.button & 4) return 2;\r\n    }\r\n\r\n    // Event handler registration. If disconnect is true, it'll return a\r\n    // function that unregisters the handler.\r\n    function connect(node, type, handler, disconnect) {\r\n        if (typeof node.addEventListener == \"function\") {\r\n            node.addEventListener(type, handler, false);\r\n            if (disconnect) return function() {node.removeEventListener(type, handler, false);};\r\n        }\r\n        else {\r\n            var wrapHandler = function(event) {handler(event || window.event);};\r\n            node.attachEvent(\"on\" + type, wrapHandler);\r\n            if (disconnect) return function() {node.detachEvent(\"on\" + type, wrapHandler);};\r\n        }\r\n    }\r\n    CodeMirror.connect = connect;\r\n\r\n    function Delayed() {this.id = null;}\r\n    Delayed.prototype = {set: function(ms, f) {clearTimeout(this.id); this.id = setTimeout(f, ms);}};\r\n\r\n    // Detect drag-and-drop\r\n    var dragAndDrop = function() {\r\n        // IE8 has ondragstart and ondrop properties, but doesn't seem to\r\n        // actually support ondragstart the way it's supposed to work.\r\n        if (/MSIE [1-8]\\b/.test(navigator.userAgent)) return false;\r\n        var div = document.createElement('div');\r\n        return \"draggable\" in div;\r\n    }();\r\n\r\n    var gecko = /gecko\\/\\d{7}/i.test(navigator.userAgent);\r\n    var ie = /MSIE \\d/.test(navigator.userAgent);\r\n    var webkit = /WebKit\\//.test(navigator.userAgent);\r\n\r\n    var lineSep = \"\\n\";\r\n    // Feature-detect whether newlines in textareas are converted to \\r\\n\r\n    (function () {\r\n        var te = document.createElement(\"textarea\");\r\n        te.value = \"foo\\nbar\";\r\n        if (te.value.indexOf(\"\\r\") > -1) lineSep = \"\\r\\n\";\r\n    }());\r\n\r\n    // Counts the column offset in a string, taking tabs into account.\r\n    // Used mostly to find indentation.\r\n    function countColumn(string, end, tabSize) {\r\n        if (end == null) {\r\n            end = string.search(/[^\\s\\u00a0]/);\r\n            if (end == -1) end = string.length;\r\n        }\r\n        for (var i = 0, n = 0; i < end; ++i) {\r\n            if (string.charAt(i) == \"\\t\") n += tabSize - (n % tabSize);\r\n            else ++n;\r\n        }\r\n        return n;\r\n    }\r\n\r\n    function computedStyle(elt) {\r\n        if (elt.currentStyle) return elt.currentStyle;\r\n        return window.getComputedStyle(elt, null);\r\n    }\r\n\r\n    // Find the position of an element by following the offsetParent chain.\r\n    // If screen==true, it returns screen (rather than page) coordinates.\r\n    function eltOffset(node, screen) {\r\n        var bod = node.ownerDocument.body;\r\n        var x = 0, y = 0, skipBody = false;\r\n        for (var n = node; n; n = n.offsetParent) {\r\n            var ol = n.offsetLeft, ot = n.offsetTop;\r\n            // Firefox reports weird inverted offsets when the body has a border.\r\n            if (n == bod) { x += Math.abs(ol); y += Math.abs(ot); }\r\n            else { x += ol, y += ot; }\r\n            if (screen && computedStyle(n).position == \"fixed\")\r\n                skipBody = true;\r\n        }\r\n        var e = screen && !skipBody ? null : bod;\r\n        for (var n = node.parentNode; n != e; n = n.parentNode)\r\n            if (n.scrollLeft != null) { x -= n.scrollLeft; y -= n.scrollTop;}\r\n        return {left: x, top: y};\r\n    }\r\n    // Use the faster and saner getBoundingClientRect method when possible.\r\n    if (document.documentElement.getBoundingClientRect != null) eltOffset = function(node, screen) {\r\n        // Take the parts of bounding client rect that we are interested in so we are able to edit if need be,\r\n        // since the returned value cannot be changed externally (they are kept in sync as the element moves within the page)\r\n        try { var box = node.getBoundingClientRect(); box = { top: box.top, left: box.left }; }\r\n        catch(e) { box = {top: 0, left: 0}; }\r\n        if (!screen) {\r\n            // Get the toplevel scroll, working around browser differences.\r\n            if (window.pageYOffset == null) {\r\n                var t = document.documentElement || document.body.parentNode;\r\n                if (t.scrollTop == null) t = document.body;\r\n                box.top += t.scrollTop; box.left += t.scrollLeft;\r\n            } else {\r\n                box.top += window.pageYOffset; box.left += window.pageXOffset;\r\n            }\r\n        }\r\n        return box;\r\n    };\r\n\r\n    // Get a node's text content.\r\n    function eltText(node) {\r\n        return node.textContent || node.innerText || node.nodeValue || \"\";\r\n    }\r\n\r\n    // Operations on {line, ch} objects.\r\n    function posEq(a, b) {return a.line == b.line && a.ch == b.ch;}\r\n    function posLess(a, b) {return a.line < b.line || (a.line == b.line && a.ch < b.ch);}\r\n    function copyPos(x) {return {line: x.line, ch: x.ch};}\r\n\r\n    var escapeElement = document.createElement(\"pre\");\r\n    function htmlEscape(str) {\r\n        escapeElement.textContent = str;\r\n        return escapeElement.innerHTML;\r\n    }\r\n    // Recent (late 2011) Opera betas insert bogus newlines at the start\r\n    // of the textContent, so we strip those.\r\n    if (htmlEscape(\"a\") == \"\\na\")\r\n        htmlEscape = function(str) {\r\n            escapeElement.textContent = str;\r\n            return escapeElement.innerHTML.slice(1);\r\n        };\r\n    // Some IEs don't preserve tabs through innerHTML\r\n    else if (htmlEscape(\"\\t\") != \"\\t\")\r\n        htmlEscape = function(str) {\r\n            escapeElement.innerHTML = \"\";\r\n            escapeElement.appendChild(document.createTextNode(str));\r\n            return escapeElement.innerHTML;\r\n        };\r\n    CodeMirror.htmlEscape = htmlEscape;\r\n\r\n    // Used to position the cursor after an undo/redo by finding the\r\n    // last edited character.\r\n    function editEnd(from, to) {\r\n        if (!to) return from ? from.length : 0;\r\n        if (!from) return to.length;\r\n        for (var i = from.length, j = to.length; i >= 0 && j >= 0; --i, --j)\r\n            if (from.charAt(i) != to.charAt(j)) break;\r\n        return j + 1;\r\n    }\r\n\r\n    function indexOf(collection, elt) {\r\n        if (collection.indexOf) return collection.indexOf(elt);\r\n        for (var i = 0, e = collection.length; i < e; ++i)\r\n            if (collection[i] == elt) return i;\r\n        return -1;\r\n    }\r\n    function isWordChar(ch) {\r\n        return /\\w/.test(ch) || ch.toUpperCase() != ch.toLowerCase();\r\n    }\r\n\r\n    // See if \"\".split is the broken IE version, if so, provide an\r\n    // alternative way to split lines.\r\n    var splitLines = \"\\n\\nb\".split(/\\n/).length != 3 ? function(string) {\r\n        var pos = 0, nl, result = [];\r\n        while ((nl = string.indexOf(\"\\n\", pos)) > -1) {\r\n            result.push(string.slice(pos, string.charAt(nl-1) == \"\\r\" ? nl - 1 : nl));\r\n            pos = nl + 1;\r\n        }\r\n        result.push(string.slice(pos));\r\n        return result;\r\n    } : function(string){return string.split(/\\r?\\n/);};\r\n    CodeMirror.splitLines = splitLines;\r\n\r\n    var hasSelection = window.getSelection ? function(te) {\r\n        try { return te.selectionStart != te.selectionEnd; }\r\n        catch(e) { return false; }\r\n    } : function(te) {\r\n        try {var range = te.ownerDocument.selection.createRange();}\r\n        catch(e) {}\r\n        if (!range || range.parentElement() != te) return false;\r\n        return range.compareEndPoints(\"StartToEnd\", range) != 0;\r\n    };\r\n\r\n    CodeMirror.defineMode(\"null\", function() {\r\n        return {token: function(stream) {stream.skipToEnd();}};\r\n    });\r\n    CodeMirror.defineMIME(\"text/plain\", \"null\");\r\n\r\n    var keyNames = {3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\r\n        19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\r\n        36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\r\n        46: \"Delete\", 59: \";\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\", 186: \";\", 187: \"=\", 188: \",\",\r\n        189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\", 221: \"]\", 222: \"'\", 63276: \"PageUp\",\r\n        63277: \"PageDown\", 63275: \"End\", 63273: \"Home\", 63234: \"Left\", 63232: \"Up\", 63235: \"Right\",\r\n        63233: \"Down\", 63302: \"Insert\", 63272: \"Delete\"};\r\n    CodeMirror.keyNames = keyNames;\r\n    (function() {\r\n        // Number keys\r\n        for (var i = 0; i < 10; i++) keyNames[i + 48] = String(i);\r\n        // Alphabetic keys\r\n        for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);\r\n        // Function keys\r\n        for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = \"F\" + i;\r\n    })();\r\n\r\n    return CodeMirror;\r\n})();\r\nCodeMirror.defineMode(\"xml\", function(config, parserConfig) {\r\n    var indentUnit = config.indentUnit;\r\n    var Kludges = parserConfig.htmlMode ? {\r\n        autoSelfClosers: {\"br\": true, \"img\": true, \"hr\": true, \"link\": true, \"input\": true,\r\n            \"meta\": true, \"col\": true, \"frame\": true, \"base\": true, \"area\": true},\r\n        doNotIndent: {\"pre\": true},\r\n        allowUnquoted: true\r\n    } : {autoSelfClosers: {}, doNotIndent: {}, allowUnquoted: false};\r\n    var alignCDATA = parserConfig.alignCDATA;\r\n\r\n    // Return variables for tokenizers\r\n    var tagName, type;\r\n\r\n    function inText(stream, state) {\r\n        function chain(parser) {\r\n            state.tokenize = parser;\r\n            return parser(stream, state);\r\n        }\r\n\r\n        var ch = stream.next();\r\n        if (ch == \"<\") {\r\n            if (stream.eat(\"!\")) {\r\n                if (stream.eat(\"[\")) {\r\n                    if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\r\n                    else return null;\r\n                }\r\n                else if (stream.match(\"--\")) return chain(inBlock(\"comment\", \"-->\"));\r\n                else if (stream.match(\"DOCTYPE\", true, true)) {\r\n                    stream.eatWhile(/[\\w\\._\\-]/);\r\n                    return chain(doctype(1));\r\n                }\r\n                else return null;\r\n            }\r\n            else if (stream.eat(\"?\")) {\r\n                stream.eatWhile(/[\\w\\._\\-]/);\r\n                state.tokenize = inBlock(\"meta\", \"?>\");\r\n                return \"meta\";\r\n            }\r\n            else {\r\n                type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\r\n                stream.eatSpace();\r\n                tagName = \"\";\r\n                var c;\r\n                while ((c = stream.eat(/[^\\s\\u00a0=<>\\\"\\'\\/?]/))) tagName += c;\r\n                state.tokenize = inTag;\r\n                return \"tag\";\r\n            }\r\n        }\r\n        else if (ch == \"&\") {\r\n            stream.eatWhile(/[^;]/);\r\n            stream.eat(\";\");\r\n            return \"atom\";\r\n        }\r\n        else {\r\n            stream.eatWhile(/[^&<]/);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    function inTag(stream, state) {\r\n        var ch = stream.next();\r\n        if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\r\n            state.tokenize = inText;\r\n            type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\r\n            return \"tag\";\r\n        }\r\n        else if (ch == \"=\") {\r\n            type = \"equals\";\r\n            return null;\r\n        }\r\n        else if (/[\\'\\\"]/.test(ch)) {\r\n            state.tokenize = inAttribute(ch);\r\n            return state.tokenize(stream, state);\r\n        }\r\n        else {\r\n            stream.eatWhile(/[^\\s\\u00a0=<>\\\"\\'\\/?]/);\r\n            return \"word\";\r\n        }\r\n    }\r\n\r\n    function inAttribute(quote) {\r\n        return function(stream, state) {\r\n            while (!stream.eol()) {\r\n                if (stream.next() == quote) {\r\n                    state.tokenize = inTag;\r\n                    break;\r\n                }\r\n            }\r\n            return \"string\";\r\n        };\r\n    }\r\n\r\n    function inBlock(style, terminator) {\r\n        return function(stream, state) {\r\n            while (!stream.eol()) {\r\n                if (stream.match(terminator)) {\r\n                    state.tokenize = inText;\r\n                    break;\r\n                }\r\n                stream.next();\r\n            }\r\n            return style;\r\n        };\r\n    }\r\n    function doctype(depth) {\r\n        return function(stream, state) {\r\n            var ch;\r\n            while ((ch = stream.next()) != null) {\r\n                if (ch == \"<\") {\r\n                    state.tokenize = doctype(depth + 1);\r\n                    return state.tokenize(stream, state);\r\n                } else if (ch == \">\") {\r\n                    if (depth == 1) {\r\n                        state.tokenize = inText;\r\n                        break;\r\n                    } else {\r\n                        state.tokenize = doctype(depth - 1);\r\n                        return state.tokenize(stream, state);\r\n                    }\r\n                }\r\n            }\r\n            return \"meta\";\r\n        };\r\n    }\r\n\r\n    var curState, setStyle;\r\n    function pass() {\r\n        for (var i = arguments.length - 1; i >= 0; i--) curState.cc.push(arguments[i]);\r\n    }\r\n    function cont() {\r\n        pass.apply(null, arguments);\r\n        return true;\r\n    }\r\n\r\n    function pushContext(tagName, startOfLine) {\r\n        var noIndent = Kludges.doNotIndent.hasOwnProperty(tagName) || (curState.context && curState.context.noIndent);\r\n        curState.context = {\r\n            prev: curState.context,\r\n            tagName: tagName,\r\n            indent: curState.indented,\r\n            startOfLine: startOfLine,\r\n            noIndent: noIndent\r\n        };\r\n    }\r\n    function popContext() {\r\n        if (curState.context) curState.context = curState.context.prev;\r\n    }\r\n\r\n    function element(type) {\r\n        if (type == \"openTag\") {\r\n            curState.tagName = tagName;\r\n            return cont(attributes, endtag(curState.startOfLine));\r\n        } else if (type == \"closeTag\") {\r\n            var err = false;\r\n            if (curState.context) {\r\n                err = curState.context.tagName != tagName;\r\n            } else {\r\n                err = true;\r\n            }\r\n            if (err) setStyle = \"error\";\r\n            return cont(endclosetag(err));\r\n        }\r\n        return cont();\r\n    }\r\n    function endtag(startOfLine) {\r\n        return function(type) {\r\n            if (type == \"selfcloseTag\" ||\r\n                (type == \"endTag\" && Kludges.autoSelfClosers.hasOwnProperty(curState.tagName.toLowerCase())))\r\n                return cont();\r\n            if (type == \"endTag\") {pushContext(curState.tagName, startOfLine); return cont();}\r\n            return cont();\r\n        };\r\n    }\r\n    function endclosetag(err) {\r\n        return function(type) {\r\n            if (err) setStyle = \"error\";\r\n            if (type == \"endTag\") { popContext(); return cont(); }\r\n            setStyle = \"error\";\r\n            return cont(arguments.callee);\r\n        }\r\n    }\r\n\r\n    function attributes(type) {\r\n        if (type == \"word\") {setStyle = \"attribute\"; return cont(attributes);}\r\n        if (type == \"equals\") return cont(attvalue, attributes);\r\n        if (type == \"string\") {setStyle = \"error\"; return cont(attributes);}\r\n        return pass();\r\n    }\r\n    function attvalue(type) {\r\n        if (type == \"word\" && Kludges.allowUnquoted) {setStyle = \"string\"; return cont();}\r\n        if (type == \"string\") return cont(attvaluemaybe);\r\n        return pass();\r\n    }\r\n    function attvaluemaybe(type) {\r\n        if (type == \"string\") return cont(attvaluemaybe);\r\n        else return pass();\r\n    }\r\n\r\n    return {\r\n        startState: function() {\r\n            return {tokenize: inText, cc: [], indented: 0, startOfLine: true, tagName: null, context: null};\r\n        },\r\n\r\n        token: function(stream, state) {\r\n            if (stream.sol()) {\r\n                state.startOfLine = true;\r\n                state.indented = stream.indentation();\r\n            }\r\n            if (stream.eatSpace()) return null;\r\n\r\n            setStyle = type = tagName = null;\r\n            var style = state.tokenize(stream, state);\r\n            state.type = type;\r\n            if ((style || type) && style != \"comment\") {\r\n                curState = state;\r\n                while (true) {\r\n                    var comb = state.cc.pop() || element;\r\n                    if (comb(type || style)) break;\r\n                }\r\n            }\r\n            state.startOfLine = false;\r\n            return setStyle || style;\r\n        },\r\n\r\n        indent: function(state, textAfter, fullLine) {\r\n            var context = state.context;\r\n            if ((state.tokenize != inTag && state.tokenize != inText) ||\r\n                context && context.noIndent)\r\n                return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\r\n            if (alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\r\n            if (context && /^<\\//.test(textAfter))\r\n                context = context.prev;\r\n            while (context && !context.startOfLine)\r\n                context = context.prev;\r\n            if (context) return context.indent + indentUnit;\r\n            else return 0;\r\n        },\r\n\r\n        compareStates: function(a, b) {\r\n            if (a.indented != b.indented || a.tokenize != b.tokenize) return false;\r\n            for (var ca = a.context, cb = b.context; ; ca = ca.prev, cb = cb.prev) {\r\n                if (!ca || !cb) return ca == cb;\r\n                if (ca.tagName != cb.tagName) return false;\r\n            }\r\n        },\r\n\r\n        electricChars: \"/\"\r\n    };\r\n});\r\n\r\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\r\nCodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\r\nCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\r\n    var indentUnit = config.indentUnit;\r\n    var jsonMode = parserConfig.json;\r\n\r\n    // Tokenizer\r\n\r\n    var keywords = function(){\r\n        function kw(type) {return {type: type, style: \"keyword\"};}\r\n        var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\");\r\n        var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\r\n        return {\r\n            \"if\": A, \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\r\n            \"return\": C, \"break\": C, \"continue\": C, \"new\": C, \"delete\": C, \"throw\": C,\r\n            \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\r\n            \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\r\n            \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\r\n            \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\r\n            \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom\r\n        };\r\n    }();\r\n\r\n    var isOperatorChar = /[+\\-*&%=<>!?|]/;\r\n\r\n    function chain(stream, state, f) {\r\n        state.tokenize = f;\r\n        return f(stream, state);\r\n    }\r\n\r\n    function nextUntilUnescaped(stream, end) {\r\n        var escaped = false, next;\r\n        while ((next = stream.next()) != null) {\r\n            if (next == end && !escaped)\r\n                return false;\r\n            escaped = !escaped && next == \"\\\\\";\r\n        }\r\n        return escaped;\r\n    }\r\n\r\n    // Used as scratch variables to communicate multiple values without\r\n    // consing up tons of objects.\r\n    var type, content;\r\n    function ret(tp, style, cont) {\r\n        type = tp; content = cont;\r\n        return style;\r\n    }\r\n\r\n    function jsTokenBase(stream, state) {\r\n        var ch = stream.next();\r\n        if (ch == '\"' || ch == \"'\")\r\n            return chain(stream, state, jsTokenString(ch));\r\n        else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch))\r\n            return ret(ch);\r\n        else if (ch == \"0\" && stream.eat(/x/i)) {\r\n            stream.eatWhile(/[\\da-f]/i);\r\n            return ret(\"number\", \"number\");\r\n        }\r\n        else if (/\\d/.test(ch)) {\r\n            stream.match(/^\\d*(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/);\r\n            return ret(\"number\", \"number\");\r\n        }\r\n        else if (ch == \"/\") {\r\n            if (stream.eat(\"*\")) {\r\n                return chain(stream, state, jsTokenComment);\r\n            }\r\n            else if (stream.eat(\"/\")) {\r\n                stream.skipToEnd();\r\n                return ret(\"comment\", \"comment\");\r\n            }\r\n            else if (state.reAllowed) {\r\n                nextUntilUnescaped(stream, \"/\");\r\n                stream.eatWhile(/[gimy]/); // 'y' is \"sticky\" option in Mozilla\r\n                return ret(\"regexp\", \"string\");\r\n            }\r\n            else {\r\n                stream.eatWhile(isOperatorChar);\r\n                return ret(\"operator\", null, stream.current());\r\n            }\r\n        }\r\n        else if (ch == \"#\") {\r\n            stream.skipToEnd();\r\n            return ret(\"error\", \"error\");\r\n        }\r\n        else if (isOperatorChar.test(ch)) {\r\n            stream.eatWhile(isOperatorChar);\r\n            return ret(\"operator\", null, stream.current());\r\n        }\r\n        else {\r\n            stream.eatWhile(/[\\w\\$_]/);\r\n            var word = stream.current(), known = keywords.propertyIsEnumerable(word) && keywords[word];\r\n            return (known && state.kwAllowed) ? ret(known.type, known.style, word) :\r\n                ret(\"variable\", \"variable\", word);\r\n        }\r\n    }\r\n\r\n    function jsTokenString(quote) {\r\n        return function(stream, state) {\r\n            if (!nextUntilUnescaped(stream, quote))\r\n                state.tokenize = jsTokenBase;\r\n            return ret(\"string\", \"string\");\r\n        };\r\n    }\r\n\r\n    function jsTokenComment(stream, state) {\r\n        var maybeEnd = false, ch;\r\n        while (ch = stream.next()) {\r\n            if (ch == \"/\" && maybeEnd) {\r\n                state.tokenize = jsTokenBase;\r\n                break;\r\n            }\r\n            maybeEnd = (ch == \"*\");\r\n        }\r\n        return ret(\"comment\", \"comment\");\r\n    }\r\n\r\n    // Parser\r\n\r\n    var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true};\r\n\r\n    function JSLexical(indented, column, type, align, prev, info) {\r\n        this.indented = indented;\r\n        this.column = column;\r\n        this.type = type;\r\n        this.prev = prev;\r\n        this.info = info;\r\n        if (align != null) this.align = align;\r\n    }\r\n\r\n    function inScope(state, varname) {\r\n        for (var v = state.localVars; v; v = v.next)\r\n            if (v.name == varname) return true;\r\n    }\r\n\r\n    function parseJS(state, style, type, content, stream) {\r\n        var cc = state.cc;\r\n        // Communicate our context to the combinators.\r\n        // (Less wasteful than consing up a hundred closures on every call.)\r\n        cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc;\r\n\r\n        if (!state.lexical.hasOwnProperty(\"align\"))\r\n            state.lexical.align = true;\r\n\r\n        while(true) {\r\n            var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\r\n            if (combinator(type, content)) {\r\n                while(cc.length && cc[cc.length - 1].lex)\r\n                    cc.pop()();\r\n                if (cx.marked) return cx.marked;\r\n                if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\r\n                return style;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Combinator utils\r\n\r\n    var cx = {state: null, column: null, marked: null, cc: null};\r\n    function pass() {\r\n        for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\r\n    }\r\n    function cont() {\r\n        pass.apply(null, arguments);\r\n        return true;\r\n    }\r\n    function register(varname) {\r\n        var state = cx.state;\r\n        if (state.context) {\r\n            cx.marked = \"def\";\r\n            for (var v = state.localVars; v; v = v.next)\r\n                if (v.name == varname) return;\r\n            state.localVars = {name: varname, next: state.localVars};\r\n        }\r\n    }\r\n\r\n    // Combinators\r\n\r\n    var defaultVars = {name: \"this\", next: {name: \"arguments\"}};\r\n    function pushcontext() {\r\n        if (!cx.state.context) cx.state.localVars = defaultVars;\r\n        cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};\r\n    }\r\n    function popcontext() {\r\n        cx.state.localVars = cx.state.context.vars;\r\n        cx.state.context = cx.state.context.prev;\r\n    }\r\n    function pushlex(type, info) {\r\n        var result = function() {\r\n            var state = cx.state;\r\n            state.lexical = new JSLexical(state.indented, cx.stream.column(), type, null, state.lexical, info)\r\n        };\r\n        result.lex = true;\r\n        return result;\r\n    }\r\n    function poplex() {\r\n        var state = cx.state;\r\n        if (state.lexical.prev) {\r\n            if (state.lexical.type == \")\")\r\n                state.indented = state.lexical.indented;\r\n            state.lexical = state.lexical.prev;\r\n        }\r\n    }\r\n    poplex.lex = true;\r\n\r\n    function expect(wanted) {\r\n        return function expecting(type) {\r\n            if (type == wanted) return cont();\r\n            else if (wanted == \";\") return pass();\r\n            else return cont(arguments.callee);\r\n        };\r\n    }\r\n\r\n    function statement(type) {\r\n        if (type == \"var\") return cont(pushlex(\"vardef\"), vardef1, expect(\";\"), poplex);\r\n        if (type == \"keyword a\") return cont(pushlex(\"form\"), expression, statement, poplex);\r\n        if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\r\n        if (type == \"{\") return cont(pushlex(\"}\"), block, poplex);\r\n        if (type == \";\") return cont();\r\n        if (type == \"function\") return cont(functiondef);\r\n        if (type == \"for\") return cont(pushlex(\"form\"), expect(\"(\"), pushlex(\")\"), forspec1, expect(\")\"),\r\n            poplex, statement, poplex);\r\n        if (type == \"variable\") return cont(pushlex(\"stat\"), maybelabel);\r\n        if (type == \"switch\") return cont(pushlex(\"form\"), expression, pushlex(\"}\", \"switch\"), expect(\"{\"),\r\n            block, poplex, poplex);\r\n        if (type == \"case\") return cont(expression, expect(\":\"));\r\n        if (type == \"default\") return cont(expect(\":\"));\r\n        if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, expect(\"(\"), funarg, expect(\")\"),\r\n            statement, poplex, popcontext);\r\n        return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\r\n    }\r\n    function expression(type) {\r\n        if (atomicTypes.hasOwnProperty(type)) return cont(maybeoperator);\r\n        if (type == \"function\") return cont(functiondef);\r\n        if (type == \"keyword c\") return cont(maybeexpression);\r\n        if (type == \"(\") return cont(pushlex(\")\"), expression, expect(\")\"), poplex, maybeoperator);\r\n        if (type == \"operator\") return cont(expression);\r\n        if (type == \"[\") return cont(pushlex(\"]\"), commasep(expression, \"]\"), poplex, maybeoperator);\r\n        if (type == \"{\") return cont(pushlex(\"}\"), commasep(objprop, \"}\"), poplex, maybeoperator);\r\n        return cont();\r\n    }\r\n    function maybeexpression(type) {\r\n        if (type.match(/[;\\}\\)\\],]/)) return pass();\r\n        return pass(expression);\r\n    }\r\n\r\n    function maybeoperator(type, value) {\r\n        if (type == \"operator\" && /\\+\\+|--/.test(value)) return cont(maybeoperator);\r\n        if (type == \"operator\") return cont(expression);\r\n        if (type == \";\") return;\r\n        if (type == \"(\") return cont(pushlex(\")\"), commasep(expression, \")\"), poplex, maybeoperator);\r\n        if (type == \".\") return cont(property, maybeoperator);\r\n        if (type == \"[\") return cont(pushlex(\"]\"), expression, expect(\"]\"), poplex, maybeoperator);\r\n    }\r\n    function maybelabel(type) {\r\n        if (type == \":\") return cont(poplex, statement);\r\n        return pass(maybeoperator, expect(\";\"), poplex);\r\n    }\r\n    function property(type) {\r\n        if (type == \"variable\") {cx.marked = \"property\"; return cont();}\r\n    }\r\n    function objprop(type) {\r\n        if (type == \"variable\") cx.marked = \"property\";\r\n        if (atomicTypes.hasOwnProperty(type)) return cont(expect(\":\"), expression);\r\n    }\r\n    function commasep(what, end) {\r\n        function proceed(type) {\r\n            if (type == \",\") return cont(what, proceed);\r\n            if (type == end) return cont();\r\n            return cont(expect(end));\r\n        }\r\n        return function commaSeparated(type) {\r\n            if (type == end) return cont();\r\n            else return pass(what, proceed);\r\n        };\r\n    }\r\n    function block(type) {\r\n        if (type == \"}\") return cont();\r\n        return pass(statement, block);\r\n    }\r\n    function vardef1(type, value) {\r\n        if (type == \"variable\"){register(value); return cont(vardef2);}\r\n        return cont();\r\n    }\r\n    function vardef2(type, value) {\r\n        if (value == \"=\") return cont(expression, vardef2);\r\n        if (type == \",\") return cont(vardef1);\r\n    }\r\n    function forspec1(type) {\r\n        if (type == \"var\") return cont(vardef1, forspec2);\r\n        if (type == \";\") return pass(forspec2);\r\n        if (type == \"variable\") return cont(formaybein);\r\n        return pass(forspec2);\r\n    }\r\n    function formaybein(type, value) {\r\n        if (value == \"in\") return cont(expression);\r\n        return cont(maybeoperator, forspec2);\r\n    }\r\n    function forspec2(type, value) {\r\n        if (type == \";\") return cont(forspec3);\r\n        if (value == \"in\") return cont(expression);\r\n        return cont(expression, expect(\";\"), forspec3);\r\n    }\r\n    function forspec3(type) {\r\n        if (type != \")\") cont(expression);\r\n    }\r\n    function functiondef(type, value) {\r\n        if (type == \"variable\") {register(value); return cont(functiondef);}\r\n        if (type == \"(\") return cont(pushlex(\")\"), pushcontext, commasep(funarg, \")\"), poplex, statement, popcontext);\r\n    }\r\n    function funarg(type, value) {\r\n        if (type == \"variable\") {register(value); return cont();}\r\n    }\r\n\r\n    // Interface\r\n\r\n    return {\r\n        startState: function(basecolumn) {\r\n            return {\r\n                tokenize: jsTokenBase,\r\n                reAllowed: true,\r\n                kwAllowed: true,\r\n                cc: [],\r\n                lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\r\n                localVars: null,\r\n                context: null,\r\n                indented: 0\r\n            };\r\n        },\r\n\r\n        token: function(stream, state) {\r\n            if (stream.sol()) {\r\n                if (!state.lexical.hasOwnProperty(\"align\"))\r\n                    state.lexical.align = false;\r\n                state.indented = stream.indentation();\r\n            }\r\n            if (stream.eatSpace()) return null;\r\n            var style = state.tokenize(stream, state);\r\n            if (type == \"comment\") return style;\r\n            state.reAllowed = type == \"operator\" || type == \"keyword c\" || type.match(/^[\\[{}\\(,;:]$/);\r\n            state.kwAllowed = type != '.';\r\n            return parseJS(state, style, type, content, stream);\r\n        },\r\n\r\n        indent: function(state, textAfter) {\r\n            if (state.tokenize != jsTokenBase) return 0;\r\n            var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical,\r\n                type = lexical.type, closing = firstChar == type;\r\n            if (type == \"vardef\") return lexical.indented + 4;\r\n            else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\r\n            else if (type == \"stat\" || type == \"form\") return lexical.indented + indentUnit;\r\n            else if (lexical.info == \"switch\" && !closing)\r\n                return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\r\n            else if (lexical.align) return lexical.column + (closing ? 0 : 1);\r\n            else return lexical.indented + (closing ? 0 : indentUnit);\r\n        },\r\n\r\n        electricChars: \":{}\"\r\n    };\r\n});\r\n\r\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\r\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\r\n\r\nCodeMirror.defineMode(\"css\", function(config) {\r\n    var indentUnit = config.indentUnit, type;\r\n    function ret(style, tp) {type = tp; return style;}\r\n\r\n    function tokenBase(stream, state) {\r\n        var ch = stream.next();\r\n        if (ch == \"@\") {stream.eatWhile(/[\\w\\\\\\-]/); return ret(\"meta\", stream.current());}\r\n        else if (ch == \"/\" && stream.eat(\"*\")) {\r\n            state.tokenize = tokenCComment;\r\n            return tokenCComment(stream, state);\r\n        }\r\n        else if (ch == \"<\" && stream.eat(\"!\")) {\r\n            state.tokenize = tokenSGMLComment;\r\n            return tokenSGMLComment(stream, state);\r\n        }\r\n        else if (ch == \"=\") ret(null, \"compare\");\r\n        else if ((ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) return ret(null, \"compare\");\r\n        else if (ch == \"\\\"\" || ch == \"'\") {\r\n            state.tokenize = tokenString(ch);\r\n            return state.tokenize(stream, state);\r\n        }\r\n        else if (ch == \"#\") {\r\n            stream.eatWhile(/[\\w\\\\\\-]/);\r\n            return ret(\"atom\", \"hash\");\r\n        }\r\n        else if (ch == \"!\") {\r\n            stream.match(/^\\s*\\w*/);\r\n            return ret(\"keyword\", \"important\");\r\n        }\r\n        else if (/\\d/.test(ch)) {\r\n            stream.eatWhile(/[\\w.%]/);\r\n            return ret(\"number\", \"unit\");\r\n        }\r\n        else if (/[,.+>*\\/]/.test(ch)) {\r\n            return ret(null, \"select-op\");\r\n        }\r\n        else if (/[;{}:\\[\\]]/.test(ch)) {\r\n            return ret(null, ch);\r\n        }\r\n        else {\r\n            stream.eatWhile(/[\\w\\\\\\-]/);\r\n            return ret(\"variable\", \"variable\");\r\n        }\r\n    }\r\n\r\n    function tokenCComment(stream, state) {\r\n        var maybeEnd = false, ch;\r\n        while ((ch = stream.next()) != null) {\r\n            if (maybeEnd && ch == \"/\") {\r\n                state.tokenize = tokenBase;\r\n                break;\r\n            }\r\n            maybeEnd = (ch == \"*\");\r\n        }\r\n        return ret(\"comment\", \"comment\");\r\n    }\r\n\r\n    function tokenSGMLComment(stream, state) {\r\n        var dashes = 0, ch;\r\n        while ((ch = stream.next()) != null) {\r\n            if (dashes >= 2 && ch == \">\") {\r\n                state.tokenize = tokenBase;\r\n                break;\r\n            }\r\n            dashes = (ch == \"-\") ? dashes + 1 : 0;\r\n        }\r\n        return ret(\"comment\", \"comment\");\r\n    }\r\n\r\n    function tokenString(quote) {\r\n        return function(stream, state) {\r\n            var escaped = false, ch;\r\n            while ((ch = stream.next()) != null) {\r\n                if (ch == quote && !escaped)\r\n                    break;\r\n                escaped = !escaped && ch == \"\\\\\";\r\n            }\r\n            if (!escaped) state.tokenize = tokenBase;\r\n            return ret(\"string\", \"string\");\r\n        };\r\n    }\r\n\r\n    return {\r\n        startState: function(base) {\r\n            return {tokenize: tokenBase,\r\n                baseIndent: base || 0,\r\n                stack: []};\r\n        },\r\n\r\n        token: function(stream, state) {\r\n            if (stream.eatSpace()) return null;\r\n            var style = state.tokenize(stream, state);\r\n\r\n            var context = state.stack[state.stack.length-1];\r\n            if (type == \"hash\" && context == \"rule\") style = \"atom\";\r\n            else if (style == \"variable\") {\r\n                if (context == \"rule\") style = \"number\";\r\n                else if (!context || context == \"@media{\") style = \"tag\";\r\n            }\r\n\r\n            if (context == \"rule\" && /^[\\{\\};]$/.test(type))\r\n                state.stack.pop();\r\n            if (type == \"{\") {\r\n                if (context == \"@media\") state.stack[state.stack.length-1] = \"@media{\";\r\n                else state.stack.push(\"{\");\r\n            }\r\n            else if (type == \"}\") state.stack.pop();\r\n            else if (type == \"@media\") state.stack.push(\"@media\");\r\n            else if (context == \"{\" && type != \"comment\") state.stack.push(\"rule\");\r\n            return style;\r\n        },\r\n\r\n        indent: function(state, textAfter) {\r\n            var n = state.stack.length;\r\n            if (/^\\}/.test(textAfter))\r\n                n -= state.stack[state.stack.length-1] == \"rule\" ? 2 : 1;\r\n            return state.baseIndent + n * indentUnit;\r\n        },\r\n\r\n        electricChars: \"}\"\r\n    };\r\n});\r\n\r\nCodeMirror.defineMIME(\"text/css\", \"css\");\r\nCodeMirror.defineMode(\"htmlmixed\", function(config, parserConfig) {\r\n    var htmlMode = CodeMirror.getMode(config, {name: \"xml\", htmlMode: true});\r\n    var jsMode = CodeMirror.getMode(config, \"javascript\");\r\n    var cssMode = CodeMirror.getMode(config, \"css\");\r\n\r\n    function html(stream, state) {\r\n        var style = htmlMode.token(stream, state.htmlState);\r\n        if (style == \"tag\" && stream.current() == \">\" && state.htmlState.context) {\r\n            if (/^script$/i.test(state.htmlState.context.tagName)) {\r\n                state.token = javascript;\r\n                state.localState = jsMode.startState(htmlMode.indent(state.htmlState, \"\"));\r\n                state.mode = \"javascript\";\r\n            }\r\n            else if (/^style$/i.test(state.htmlState.context.tagName)) {\r\n                state.token = css;\r\n                state.localState = cssMode.startState(htmlMode.indent(state.htmlState, \"\"));\r\n                state.mode = \"css\";\r\n            }\r\n        }\r\n        return style;\r\n    }\r\n    function maybeBackup(stream, pat, style) {\r\n        var cur = stream.current();\r\n        var close = cur.search(pat);\r\n        if (close > -1) stream.backUp(cur.length - close);\r\n        return style;\r\n    }\r\n    function javascript(stream, state) {\r\n        if (stream.match(/^<\\/\\s*script\\s*>/i, false)) {\r\n            state.token = html;\r\n            state.curState = null;\r\n            state.mode = \"html\";\r\n            return html(stream, state);\r\n        }\r\n        return maybeBackup(stream, /<\\/\\s*script\\s*>/,\r\n            jsMode.token(stream, state.localState));\r\n    }\r\n    function css(stream, state) {\r\n        if (stream.match(/^<\\/\\s*style\\s*>/i, false)) {\r\n            state.token = html;\r\n            state.localState = null;\r\n            state.mode = \"html\";\r\n            return html(stream, state);\r\n        }\r\n        return maybeBackup(stream, /<\\/\\s*style\\s*>/,\r\n            cssMode.token(stream, state.localState));\r\n    }\r\n\r\n    return {\r\n        startState: function() {\r\n            var state = htmlMode.startState();\r\n            return {token: html, localState: null, mode: \"html\", htmlState: state};\r\n        },\r\n\r\n        copyState: function(state) {\r\n            if (state.localState)\r\n                var local = CodeMirror.copyState(state.token == css ? cssMode : jsMode, state.localState);\r\n            return {token: state.token, localState: local, mode: state.mode,\r\n                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\r\n        },\r\n\r\n        token: function(stream, state) {\r\n            return state.token(stream, state);\r\n        },\r\n\r\n        indent: function(state, textAfter) {\r\n            if (state.token == html || /^\\s*<\\//.test(textAfter))\r\n                return htmlMode.indent(state.htmlState, textAfter);\r\n            else if (state.token == javascript)\r\n                return jsMode.indent(state.localState, textAfter);\r\n            else\r\n                return cssMode.indent(state.localState, textAfter);\r\n        },\r\n\r\n        compareStates: function(a, b) {\r\n            return htmlMode.compareStates(a.htmlState, b.htmlState);\r\n        },\r\n\r\n        electricChars: \"/{}:\"\r\n    }\r\n});\r\n\r\nCodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\r\n"]}