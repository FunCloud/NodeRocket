{"version":3,"sources":["mootools-adapter.src.js"],"names":[],"mappings":"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","file":"mootools-adapter.src-compiled.js","sourcesContent":["/**\n * @license Highcharts JS v3.0.6 (2013-10-04)\n * MooTools adapter\n *\n * (c) 2010-2013 Torstein HÃ¸nsi\n *\n * License: www.highcharts.com/license\n */\n\n// JSLint options:\n/*global Fx, $, $extend, $each, $merge, Events, Event, DOMEvent */\n\n(function () {\n\nvar win = window,\n\tdoc = document,\n\tmooVersion = win.MooTools.version.substring(0, 3), // Get the first three characters of the version number\n\tlegacy = mooVersion === '1.2' || mooVersion === '1.1', // 1.1 && 1.2 considered legacy, 1.3 is not.\n\tlegacyEvent = legacy || mooVersion === '1.3', // In versions 1.1 - 1.3 the event class is named Event, in newer versions it is named DOMEvent.\n\t$extend = win.$extend || function () {\n\t\treturn Object.append.apply(Object, arguments);\n\t};\n\nwin.HighchartsAdapter = {\n\t/**\n\t * Initialize the adapter. This is run once as Highcharts is first run.\n\t * @param {Object} pathAnim The helper object to do animations across adapters.\n\t */\n\tinit: function (pathAnim) {\n\t\tvar fxProto = Fx.prototype,\n\t\t\tfxStart = fxProto.start,\n\t\t\tmorphProto = Fx.Morph.prototype,\n\t\t\tmorphCompute = morphProto.compute;\n\n\t\t// override Fx.start to allow animation of SVG element wrappers\n\t\t/*jslint unparam: true*//* allow unused parameters in fx functions */\n\t\tfxProto.start = function (from, to) {\n\t\t\tvar fx = this,\n\t\t\t\telem = fx.element;\n\n\t\t\t// special for animating paths\n\t\t\tif (from.d) {\n\t\t\t\t//this.fromD = this.element.d.split(' ');\n\t\t\t\tfx.paths = pathAnim.init(\n\t\t\t\t\telem,\n\t\t\t\t\telem.d,\n\t\t\t\t\tfx.toD\n\t\t\t\t);\n\t\t\t}\n\t\t\tfxStart.apply(fx, arguments);\n\n\t\t\treturn this; // chainable\n\t\t};\n\n\t\t// override Fx.step to allow animation of SVG element wrappers\n\t\tmorphProto.compute = function (from, to, delta) {\n\t\t\tvar fx = this,\n\t\t\t\tpaths = fx.paths;\n\n\t\t\tif (paths) {\n\t\t\t\tfx.element.attr(\n\t\t\t\t\t'd',\n\t\t\t\t\tpathAnim.step(paths[0], paths[1], delta, fx.toD)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn morphCompute.apply(fx, arguments);\n\t\t\t}\n\t\t};\n\t\t/*jslint unparam: false*/\n\t},\n\t\n\t/**\n\t * Run a general method on the framework, following jQuery syntax\n\t * @param {Object} el The HTML element\n\t * @param {String} method Which method to run on the wrapped element\n\t */\n\tadapterRun: function (el, method) {\n\t\t\n\t\t// This currently works for getting inner width and height. If adding\n\t\t// more methods later, we need a conditional implementation for each.\n\t\tif (method === 'width' || method === 'height') {\n\t\t\treturn parseInt($(el).getStyle(method), 10);\n\t\t}\n\t},\n\n\t/**\n\t * Downloads a script and executes a callback when done.\n\t * @param {String} scriptLocation\n\t * @param {Function} callback\n\t */\n\tgetScript: function (scriptLocation, callback) {\n\t\t// We cannot assume that Assets class from mootools-more is available so instead insert a script tag to download script.\n\t\tvar head = doc.getElementsByTagName('head')[0];\n\t\tvar script = doc.createElement('script');\n\n\t\tscript.type = 'text/javascript';\n\t\tscript.src = scriptLocation;\n\t\tscript.onload = callback;\n\n\t\thead.appendChild(script);\n\t},\n\n\t/**\n\t * Animate a HTML element or SVG element wrapper\n\t * @param {Object} el\n\t * @param {Object} params\n\t * @param {Object} options jQuery-like animation options: duration, easing, callback\n\t */\n\tanimate: function (el, params, options) {\n\t\tvar isSVGElement = el.attr,\n\t\t\teffect,\n\t\t\tcomplete = options && options.complete;\n\n\t\tif (isSVGElement && !el.setStyle) {\n\t\t\t// add setStyle and getStyle methods for internal use in Moo\n\t\t\tel.getStyle = el.attr;\n\t\t\tel.setStyle = function () { // property value is given as array in Moo - break it down\n\t\t\t\tvar args = arguments;\n\t\t\t\tthis.attr.call(this, args[0], args[1][0]);\n\t\t\t};\n\t\t\t// dirty hack to trick Moo into handling el as an element wrapper\n\t\t\tel.$family = function () { return true; };\n\t\t}\n\n\t\t// stop running animations\n\t\twin.HighchartsAdapter.stop(el);\n\n\t\t// define and run the effect\n\t\teffect = new Fx.Morph(\n\t\t\tisSVGElement ? el : $(el),\n\t\t\t$extend({\n\t\t\t\ttransition: Fx.Transitions.Quad.easeInOut\n\t\t\t}, options)\n\t\t);\n\n\t\t// Make sure that the element reference is set when animating svg elements\n\t\tif (isSVGElement) {\n\t\t\teffect.element = el;\n\t\t}\n\n\t\t// special treatment for paths\n\t\tif (params.d) {\n\t\t\teffect.toD = params.d;\n\t\t}\n\n\t\t// jQuery-like events\n\t\tif (complete) {\n\t\t\teffect.addEvent('complete', complete);\n\t\t}\n\n\t\t// run\n\t\teffect.start(params);\n\n\t\t// record for use in stop method\n\t\tel.fx = effect;\n\t},\n\n\t/**\n\t * MooTool's each function\n\t *\n\t */\n\teach: function (arr, fn) {\n\t\treturn legacy ?\n\t\t\t$each(arr, fn) :\n\t\t\tArray.each(arr, fn);\n\t},\n\n\t/**\n\t * Map an array\n\t * @param {Array} arr\n\t * @param {Function} fn\n\t */\n\tmap: function (arr, fn) {\n\t\treturn arr.map(fn);\n\t},\n\n\t/**\n\t * Grep or filter an array\n\t * @param {Array} arr\n\t * @param {Function} fn\n\t */\n\tgrep: function (arr, fn) {\n\t\treturn arr.filter(fn);\n\t},\n\t\n\t/**\n\t * Return the index of an item in an array, or -1 if not matched\n\t */\n\tinArray: function (item, arr, from) {\n\t\treturn arr ? arr.indexOf(item, from) : -1;\n\t},\n\n\t/**\n\t * Get the offset of an element relative to the top left corner of the web page\n\t */\n\toffset: function (el) {\n\t\tvar offsets = el.getPosition(); // #1496\n\t\treturn {\n\t\t\tleft: offsets.x,\n\t\t\ttop: offsets.y\n\t\t};\n\t},\n\n\t/**\n\t * Extends an object with Events, if its not done\n\t */\n\textendWithEvents: function (el) {\n\t\t// if the addEvent method is not defined, el is a custom Highcharts object\n\t\t// like series or point\n\t\tif (!el.addEvent) {\n\t\t\tif (el.nodeName) {\n\t\t\t\tel = $(el); // a dynamically generated node\n\t\t\t} else {\n\t\t\t\t$extend(el, new Events()); // a custom object\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Add an event listener\n\t * @param {Object} el HTML element or custom object\n\t * @param {String} type Event type\n\t * @param {Function} fn Event handler\n\t */\n\taddEvent: function (el, type, fn) {\n\t\tif (typeof type === 'string') { // chart broke due to el being string, type function\n\n\t\t\tif (type === 'unload') { // Moo self destructs before custom unload events\n\t\t\t\ttype = 'beforeunload';\n\t\t\t}\n\n\t\t\twin.HighchartsAdapter.extendWithEvents(el);\n\n\t\t\tel.addEvent(type, fn);\n\t\t}\n\t},\n\n\tremoveEvent: function (el, type, fn) {\n\t\tif (typeof el === 'string') {\n\t\t\t// el.removeEvents below apperantly calls this method again. Do not quite understand why, so for now just bail out.\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (el.addEvent) { // If el doesn't have an addEvent method, there are no events to remove\n\t\t\tif (type) {\n\t\t\t\tif (type === 'unload') { // Moo self destructs before custom unload events\n\t\t\t\t\ttype = 'beforeunload';\n\t\t\t\t}\n\t\n\t\t\t\tif (fn) {\n\t\t\t\t\tel.removeEvent(type, fn);\n\t\t\t\t} else if (el.removeEvents) { // #958\n\t\t\t\t\tel.removeEvents(type);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel.removeEvents();\n\t\t\t}\n\t\t}\n\t},\n\n\tfireEvent: function (el, event, eventArguments, defaultFunction) {\n\t\tvar eventArgs = {\n\t\t\ttype: event,\n\t\t\ttarget: el\n\t\t};\n\t\t// create an event object that keeps all functions\n\t\tevent = legacyEvent ? new Event(eventArgs) : new DOMEvent(eventArgs);\n\t\tevent = $extend(event, eventArguments);\n\n\t\t// When running an event on the Chart.prototype, MooTools nests the target in event.event\n\t\tif (!event.target && event.event) {\n\t\t\tevent.target = event.event.target;\n\t\t}\n\n\t\t// override the preventDefault function to be able to use\n\t\t// this for custom events\n\t\tevent.preventDefault = function () {\n\t\t\tdefaultFunction = null;\n\t\t};\n\t\t// if fireEvent is not available on the object, there hasn't been added\n\t\t// any events to it above\n\t\tif (el.fireEvent) {\n\t\t\tel.fireEvent(event.type, event);\n\t\t}\n\n\t\t// fire the default if it is passed and it is not prevented above\n\t\tif (defaultFunction) {\n\t\t\tdefaultFunction(event);\n\t\t}\n\t},\n\t\n\t/**\n\t * Set back e.pageX and e.pageY that MooTools has abstracted away. #1165, #1346.\n\t */\n\twashMouseEvent: function (e) {\n\t\tif (e.page) {\n\t\t\te.pageX = e.page.x;\n\t\t\te.pageY = e.page.y;\n\t\t}\n\t\treturn e;\n\t},\n\n\t/**\n\t * Stop running animations on the object\n\t */\n\tstop: function (el) {\n\t\tif (el.fx) {\n\t\t\tel.fx.cancel();\n\t\t}\n\t}\n};\n\n}());\n"]}