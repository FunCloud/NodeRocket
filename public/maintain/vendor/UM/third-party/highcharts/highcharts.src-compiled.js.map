{"version":3,"sources":["highcharts.src.js"],"names":[],"mappings":"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","file":"highcharts.src-compiled.js","sourcesContent":["// ==ClosureCompiler==\n// @compilation_level SIMPLE_OPTIMIZATIONS\n\n/**\n * @license Highcharts JS v3.0.6 (2013-10-04)\n *\n * (c) 2009-2013 Torstein Hønsi\n *\n * License: www.highcharts.com/license\n */\n\n// JSLint options:\n/*global Highcharts, document, window, navigator, setInterval, clearInterval, clearTimeout, setTimeout, location, jQuery, $, console, each, grep */\n\n(function () {\n// encapsulated variables\nvar UNDEFINED,\n\tdoc = document,\n\twin = window,\n\tmath = Math,\n\tmathRound = math.round,\n\tmathFloor = math.floor,\n\tmathCeil = math.ceil,\n\tmathMax = math.max,\n\tmathMin = math.min,\n\tmathAbs = math.abs,\n\tmathCos = math.cos,\n\tmathSin = math.sin,\n\tmathPI = math.PI,\n\tdeg2rad = mathPI * 2 / 360,\n\n\n\t// some variables\n\tuserAgent = navigator.userAgent,\n\tisOpera = win.opera,\n\tisIE = /msie/i.test(userAgent) && !isOpera,\n\tdocMode8 = doc.documentMode === 8,\n\tisWebKit = /AppleWebKit/.test(userAgent),\n\tisFirefox = /Firefox/.test(userAgent),\n\tisTouchDevice = /(Mobile|Android|Windows Phone)/.test(userAgent),\n\tSVG_NS = 'http://www.w3.org/2000/svg',\n\thasSVG = !!doc.createElementNS && !!doc.createElementNS(SVG_NS, 'svg').createSVGRect,\n\thasBidiBug = isFirefox && parseInt(userAgent.split('Firefox/')[1], 10) < 4, // issue #38\n\tuseCanVG = !hasSVG && !isIE && !!doc.createElement('canvas').getContext,\n\tRenderer,\n\thasTouch = doc.documentElement.ontouchstart !== UNDEFINED,\n\tsymbolSizes = {},\n\tidCounter = 0,\n\tgarbageBin,\n\tdefaultOptions,\n\tdateFormat, // function\n\tglobalAnimation,\n\tpathAnim,\n\ttimeUnits,\n\tnoop = function () {},\n\tcharts = [],\n\tPRODUCT = 'Highcharts',\n\tVERSION = '3.0.6',\n\n\t// some constants for frequently used strings\n\tDIV = 'div',\n\tABSOLUTE = 'absolute',\n\tRELATIVE = 'relative',\n\tHIDDEN = 'hidden',\n\tPREFIX = 'highcharts-',\n\tVISIBLE = 'visible',\n\tPX = 'px',\n\tNONE = 'none',\n\tM = 'M',\n\tL = 'L',\n\t/*\n\t * Empirical lowest possible opacities for TRACKER_FILL\n\t * IE6: 0.002\n\t * IE7: 0.002\n\t * IE8: 0.002\n\t * IE9: 0.00000000001 (unlimited)\n\t * IE10: 0.0001 (exporting only)\n\t * FF: 0.00000000001 (unlimited)\n\t * Chrome: 0.000001\n\t * Safari: 0.000001\n\t * Opera: 0.00000000001 (unlimited)\n\t */\n\tTRACKER_FILL = 'rgba(192,192,192,' + (hasSVG ? 0.0001 : 0.002) + ')', // invisible but clickable\n\t//TRACKER_FILL = 'rgba(192,192,192,0.5)',\n\tNORMAL_STATE = '',\n\tHOVER_STATE = 'hover',\n\tSELECT_STATE = 'select',\n\tMILLISECOND = 'millisecond',\n\tSECOND = 'second',\n\tMINUTE = 'minute',\n\tHOUR = 'hour',\n\tDAY = 'day',\n\tWEEK = 'week',\n\tMONTH = 'month',\n\tYEAR = 'year',\n\n\t// constants for attributes\n\tLINEAR_GRADIENT = 'linearGradient',\n\tSTOPS = 'stops',\n\tSTROKE_WIDTH = 'stroke-width',\n\n\t// time methods, changed based on whether or not UTC is used\n\tmakeTime,\n\tgetMinutes,\n\tgetHours,\n\tgetDay,\n\tgetDate,\n\tgetMonth,\n\tgetFullYear,\n\tsetMinutes,\n\tsetHours,\n\tsetDate,\n\tsetMonth,\n\tsetFullYear,\n\n\n\t// lookup over the types and the associated classes\n\tseriesTypes = {};\n\n// The Highcharts namespace\nwin.Highcharts = win.Highcharts ? error(16, true) : {};\n\n/**\n * Extend an object with the members of another\n * @param {Object} a The object to be extended\n * @param {Object} b The object to add to the first one\n */\nfunction extend(a, b) {\n\tvar n;\n\tif (!a) {\n\t\ta = {};\n\t}\n\tfor (n in b) {\n\t\ta[n] = b[n];\n\t}\n\treturn a;\n}\n\t\n/**\n * Deep merge two or more objects and return a third object.\n * Previously this function redirected to jQuery.extend(true), but this had two limitations.\n * First, it deep merged arrays, which lead to workarounds in Highcharts. Second,\n * it copied properties from extended prototypes. \n */\nfunction merge() {\n\tvar i,\n\t\tlen = arguments.length,\n\t\tret = {},\n\t\tdoCopy = function (copy, original) {\n\t\t\tvar value, key;\n\n\t\t\t// An object is replacing a primitive\n\t\t\tif (typeof copy !== 'object') {\n\t\t\t\tcopy = {};\n\t\t\t}\n\n\t\t\tfor (key in original) {\n\t\t\t\tif (original.hasOwnProperty(key)) {\n\t\t\t\t\tvalue = original[key];\n\n\t\t\t\t\t// Copy the contents of objects, but not arrays or DOM nodes\n\t\t\t\t\tif (value && typeof value === 'object' && Object.prototype.toString.call(value) !== '[object Array]'\n\t\t\t\t\t\t\t&& typeof value.nodeType !== 'number') {\n\t\t\t\t\t\tcopy[key] = doCopy(copy[key] || {}, value);\n\t\t\t\t\n\t\t\t\t\t// Primitives and arrays are copied over directly\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopy[key] = original[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn copy;\n\t\t};\n\n\t// For each argument, extend the return\n\tfor (i = 0; i < len; i++) {\n\t\tret = doCopy(ret, arguments[i]);\n\t}\n\n\treturn ret;\n}\n\n/**\n * Take an array and turn into a hash with even number arguments as keys and odd numbers as\n * values. Allows creating constants for commonly used style properties, attributes etc.\n * Avoid it in performance critical situations like looping\n */\nfunction hash() {\n\tvar i = 0,\n\t\targs = arguments,\n\t\tlength = args.length,\n\t\tobj = {};\n\tfor (; i < length; i++) {\n\t\tobj[args[i++]] = args[i];\n\t}\n\treturn obj;\n}\n\n/**\n * Shortcut for parseInt\n * @param {Object} s\n * @param {Number} mag Magnitude\n */\nfunction pInt(s, mag) {\n\treturn parseInt(s, mag || 10);\n}\n\n/**\n * Check for string\n * @param {Object} s\n */\nfunction isString(s) {\n\treturn typeof s === 'string';\n}\n\n/**\n * Check for object\n * @param {Object} obj\n */\nfunction isObject(obj) {\n\treturn typeof obj === 'object';\n}\n\n/**\n * Check for array\n * @param {Object} obj\n */\nfunction isArray(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Array]';\n}\n\n/**\n * Check for number\n * @param {Object} n\n */\nfunction isNumber(n) {\n\treturn typeof n === 'number';\n}\n\nfunction log2lin(num) {\n\treturn math.log(num) / math.LN10;\n}\nfunction lin2log(num) {\n\treturn math.pow(10, num);\n}\n\n/**\n * Remove last occurence of an item from an array\n * @param {Array} arr\n * @param {Mixed} item\n */\nfunction erase(arr, item) {\n\tvar i = arr.length;\n\twhile (i--) {\n\t\tif (arr[i] === item) {\n\t\t\tarr.splice(i, 1);\n\t\t\tbreak;\n\t\t}\n\t}\n\t//return arr;\n}\n\n/**\n * Returns true if the object is not null or undefined. Like MooTools' $.defined.\n * @param {Object} obj\n */\nfunction defined(obj) {\n\treturn obj !== UNDEFINED && obj !== null;\n}\n\n/**\n * Set or get an attribute or an object of attributes. Can't use jQuery attr because\n * it attempts to set expando properties on the SVG element, which is not allowed.\n *\n * @param {Object} elem The DOM element to receive the attribute(s)\n * @param {String|Object} prop The property or an abject of key-value pairs\n * @param {String} value The value if a single property is set\n */\nfunction attr(elem, prop, value) {\n\tvar key,\n\t\tsetAttribute = 'setAttribute',\n\t\tret;\n\n\t// if the prop is a string\n\tif (isString(prop)) {\n\t\t// set the value\n\t\tif (defined(value)) {\n\n\t\t\telem[setAttribute](prop, value);\n\n\t\t// get the value\n\t\t} else if (elem && elem.getAttribute) { // elem not defined when printing pie demo...\n\t\t\tret = elem.getAttribute(prop);\n\t\t}\n\n\t// else if prop is defined, it is a hash of key/value pairs\n\t} else if (defined(prop) && isObject(prop)) {\n\t\tfor (key in prop) {\n\t\t\telem[setAttribute](key, prop[key]);\n\t\t}\n\t}\n\treturn ret;\n}\n/**\n * Check if an element is an array, and if not, make it into an array. Like\n * MooTools' $.splat.\n */\nfunction splat(obj) {\n\treturn isArray(obj) ? obj : [obj];\n}\n\n\n/**\n * Return the first value that is defined. Like MooTools' $.pick.\n */\nfunction pick() {\n\tvar args = arguments,\n\t\ti,\n\t\targ,\n\t\tlength = args.length;\n\tfor (i = 0; i < length; i++) {\n\t\targ = args[i];\n\t\tif (typeof arg !== 'undefined' && arg !== null) {\n\t\t\treturn arg;\n\t\t}\n\t}\n}\n\n/**\n * Set CSS on a given element\n * @param {Object} el\n * @param {Object} styles Style object with camel case property names\n */\nfunction css(el, styles) {\n\tif (isIE) {\n\t\tif (styles && styles.opacity !== UNDEFINED) {\n\t\t\tstyles.filter = 'alpha(opacity=' + (styles.opacity * 100) + ')';\n\t\t}\n\t}\n\textend(el.style, styles);\n}\n\n/**\n * Utility function to create element with attributes and styles\n * @param {Object} tag\n * @param {Object} attribs\n * @param {Object} styles\n * @param {Object} parent\n * @param {Object} nopad\n */\nfunction createElement(tag, attribs, styles, parent, nopad) {\n\tvar el = doc.createElement(tag);\n\tif (attribs) {\n\t\textend(el, attribs);\n\t}\n\tif (nopad) {\n\t\tcss(el, {padding: 0, border: NONE, margin: 0});\n\t}\n\tif (styles) {\n\t\tcss(el, styles);\n\t}\n\tif (parent) {\n\t\tparent.appendChild(el);\n\t}\n\treturn el;\n}\n\n/**\n * Extend a prototyped class by new members\n * @param {Object} parent\n * @param {Object} members\n */\nfunction extendClass(parent, members) {\n\tvar object = function () {};\n\tobject.prototype = new parent();\n\textend(object.prototype, members);\n\treturn object;\n}\n\n/**\n * Format a number and return a string based on input settings\n * @param {Number} number The input number to format\n * @param {Number} decimals The amount of decimals\n * @param {String} decPoint The decimal point, defaults to the one given in the lang options\n * @param {String} thousandsSep The thousands separator, defaults to the one given in the lang options\n */\nfunction numberFormat(number, decimals, decPoint, thousandsSep) {\n\tvar lang = defaultOptions.lang,\n\t\t// http://kevin.vanzonneveld.net/techblog/article/javascript_equivalent_for_phps_number_format/\n\t\tn = +number || 0,\n\t\tc = decimals === -1 ?\n\t\t\t(n.toString().split('.')[1] || '').length : // preserve decimals\n\t\t\t(isNaN(decimals = mathAbs(decimals)) ? 2 : decimals),\n\t\td = decPoint === undefined ? lang.decimalPoint : decPoint,\n\t\tt = thousandsSep === undefined ? lang.thousandsSep : thousandsSep,\n\t\ts = n < 0 ? \"-\" : \"\",\n\t\ti = String(pInt(n = mathAbs(n).toFixed(c))),\n\t\tj = i.length > 3 ? i.length % 3 : 0;\n\n\treturn s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) +\n\t\t(c ? d + mathAbs(n - i).toFixed(c).slice(2) : \"\");\n}\n\n/**\n * Pad a string to a given length by adding 0 to the beginning\n * @param {Number} number\n * @param {Number} length\n */\nfunction pad(number, length) {\n\t// Create an array of the remaining length +1 and join it with 0's\n\treturn new Array((length || 2) + 1 - String(number).length).join(0) + number;\n}\n\n/**\n * Wrap a method with extended functionality, preserving the original function\n * @param {Object} obj The context object that the method belongs to \n * @param {String} method The name of the method to extend\n * @param {Function} func A wrapper function callback. This function is called with the same arguments\n * as the original function, except that the original function is unshifted and passed as the first \n * argument. \n */\nfunction wrap(obj, method, func) {\n\tvar proceed = obj[method];\n\tobj[method] = function () {\n\t\tvar args = Array.prototype.slice.call(arguments);\n\t\targs.unshift(proceed);\n\t\treturn func.apply(this, args);\n\t};\n}\n\n/**\n * Based on http://www.php.net/manual/en/function.strftime.php\n * @param {String} format\n * @param {Number} timestamp\n * @param {Boolean} capitalize\n */\ndateFormat = function (format, timestamp, capitalize) {\n\tif (!defined(timestamp) || isNaN(timestamp)) {\n\t\treturn 'Invalid date';\n\t}\n\tformat = pick(format, '%Y-%m-%d %H:%M:%S');\n\n\tvar date = new Date(timestamp),\n\t\tkey, // used in for constuct below\n\t\t// get the basic time values\n\t\thours = date[getHours](),\n\t\tday = date[getDay](),\n\t\tdayOfMonth = date[getDate](),\n\t\tmonth = date[getMonth](),\n\t\tfullYear = date[getFullYear](),\n\t\tlang = defaultOptions.lang,\n\t\tlangWeekdays = lang.weekdays,\n\n\t\t// List all format keys. Custom formats can be added from the outside. \n\t\treplacements = extend({\n\n\t\t\t// Day\n\t\t\t'a': langWeekdays[day].substr(0, 3), // Short weekday, like 'Mon'\n\t\t\t'A': langWeekdays[day], // Long weekday, like 'Monday'\n\t\t\t'd': pad(dayOfMonth), // Two digit day of the month, 01 to 31\n\t\t\t'e': dayOfMonth, // Day of the month, 1 through 31\n\n\t\t\t// Week (none implemented)\n\t\t\t//'W': weekNumber(),\n\n\t\t\t// Month\n\t\t\t'b': lang.shortMonths[month], // Short month, like 'Jan'\n\t\t\t'B': lang.months[month], // Long month, like 'January'\n\t\t\t'm': pad(month + 1), // Two digit month number, 01 through 12\n\n\t\t\t// Year\n\t\t\t'y': fullYear.toString().substr(2, 2), // Two digits year, like 09 for 2009\n\t\t\t'Y': fullYear, // Four digits year, like 2009\n\n\t\t\t// Time\n\t\t\t'H': pad(hours), // Two digits hours in 24h format, 00 through 23\n\t\t\t'I': pad((hours % 12) || 12), // Two digits hours in 12h format, 00 through 11\n\t\t\t'l': (hours % 12) || 12, // Hours in 12h format, 1 through 12\n\t\t\t'M': pad(date[getMinutes]()), // Two digits minutes, 00 through 59\n\t\t\t'p': hours < 12 ? 'AM' : 'PM', // Upper case AM or PM\n\t\t\t'P': hours < 12 ? 'am' : 'pm', // Lower case AM or PM\n\t\t\t'S': pad(date.getSeconds()), // Two digits seconds, 00 through  59\n\t\t\t'L': pad(mathRound(timestamp % 1000), 3) // Milliseconds (naming from Ruby)\n\t\t}, Highcharts.dateFormats);\n\n\n\t// do the replaces\n\tfor (key in replacements) {\n\t\twhile (format.indexOf('%' + key) !== -1) { // regex would do it in one line, but this is faster\n\t\t\tformat = format.replace('%' + key, typeof replacements[key] === 'function' ? replacements[key](timestamp) : replacements[key]);\n\t\t}\n\t}\n\n\t// Optionally capitalize the string and return\n\treturn capitalize ? format.substr(0, 1).toUpperCase() + format.substr(1) : format;\n};\n\n/** \n * Format a single variable. Similar to sprintf, without the % prefix.\n */\nfunction formatSingle(format, val) {\n\tvar floatRegex = /f$/,\n\t\tdecRegex = /\\.([0-9])/,\n\t\tlang = defaultOptions.lang,\n\t\tdecimals;\n\n\tif (floatRegex.test(format)) { // float\n\t\tdecimals = format.match(decRegex);\n\t\tdecimals = decimals ? decimals[1] : -1;\n\t\tval = numberFormat(\n\t\t\tval,\n\t\t\tdecimals,\n\t\t\tlang.decimalPoint,\n\t\t\tformat.indexOf(',') > -1 ? lang.thousandsSep : ''\n\t\t);\n\t} else {\n\t\tval = dateFormat(format, val);\n\t}\n\treturn val;\n}\n\n/**\n * Format a string according to a subset of the rules of Python's String.format method.\n */\nfunction format(str, ctx) {\n\tvar splitter = '{',\n\t\tisInside = false,\n\t\tsegment,\n\t\tvalueAndFormat,\n\t\tpath,\n\t\ti,\n\t\tlen,\n\t\tret = [],\n\t\tval,\n\t\tindex;\n\t\n\twhile ((index = str.indexOf(splitter)) !== -1) {\n\t\t\n\t\tsegment = str.slice(0, index);\n\t\tif (isInside) { // we're on the closing bracket looking back\n\t\t\t\n\t\t\tvalueAndFormat = segment.split(':');\n\t\t\tpath = valueAndFormat.shift().split('.'); // get first and leave format\n\t\t\tlen = path.length;\n\t\t\tval = ctx;\n\n\t\t\t// Assign deeper paths\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval = val[path[i]];\n\t\t\t}\n\n\t\t\t// Format the replacement\n\t\t\tif (valueAndFormat.length) {\n\t\t\t\tval = formatSingle(valueAndFormat.join(':'), val);\n\t\t\t}\n\n\t\t\t// Push the result and advance the cursor\n\t\t\tret.push(val);\n\t\t\t\n\t\t} else {\n\t\t\tret.push(segment);\n\t\t\t\n\t\t}\n\t\tstr = str.slice(index + 1); // the rest\n\t\tisInside = !isInside; // toggle\n\t\tsplitter = isInside ? '}' : '{'; // now look for next matching bracket\n\t}\n\tret.push(str);\n\treturn ret.join('');\n}\n\n/**\n * Get the magnitude of a number\n */\nfunction getMagnitude(num) {\n\treturn math.pow(10, mathFloor(math.log(num) / math.LN10));\n}\n\n/**\n * Take an interval and normalize it to multiples of 1, 2, 2.5 and 5\n * @param {Number} interval\n * @param {Array} multiples\n * @param {Number} magnitude\n * @param {Object} options\n */\nfunction normalizeTickInterval(interval, multiples, magnitude, options) {\n\tvar normalized, i;\n\n\t// round to a tenfold of 1, 2, 2.5 or 5\n\tmagnitude = pick(magnitude, 1);\n\tnormalized = interval / magnitude;\n\n\t// multiples for a linear scale\n\tif (!multiples) {\n\t\tmultiples = [1, 2, 2.5, 5, 10];\n\n\t\t// the allowDecimals option\n\t\tif (options && options.allowDecimals === false) {\n\t\t\tif (magnitude === 1) {\n\t\t\t\tmultiples = [1, 2, 5, 10];\n\t\t\t} else if (magnitude <= 0.1) {\n\t\t\t\tmultiples = [1 / magnitude];\n\t\t\t}\n\t\t}\n\t}\n\n\t// normalize the interval to the nearest multiple\n\tfor (i = 0; i < multiples.length; i++) {\n\t\tinterval = multiples[i];\n\t\tif (normalized <= (multiples[i] + (multiples[i + 1] || multiples[i])) / 2) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// multiply back to the correct magnitude\n\tinterval *= magnitude;\n\n\treturn interval;\n}\n\n/**\n * Get a normalized tick interval for dates. Returns a configuration object with\n * unit range (interval), count and name. Used to prepare data for getTimeTicks. \n * Previously this logic was part of getTimeTicks, but as getTimeTicks now runs\n * of segments in stock charts, the normalizing logic was extracted in order to \n * prevent it for running over again for each segment having the same interval. \n * #662, #697.\n */\nfunction normalizeTimeTickInterval(tickInterval, unitsOption) {\n\tvar units = unitsOption || [[\n\t\t\t\tMILLISECOND, // unit name\n\t\t\t\t[1, 2, 5, 10, 20, 25, 50, 100, 200, 500] // allowed multiples\n\t\t\t], [\n\t\t\t\tSECOND,\n\t\t\t\t[1, 2, 5, 10, 15, 30]\n\t\t\t], [\n\t\t\t\tMINUTE,\n\t\t\t\t[1, 2, 5, 10, 15, 30]\n\t\t\t], [\n\t\t\t\tHOUR,\n\t\t\t\t[1, 2, 3, 4, 6, 8, 12]\n\t\t\t], [\n\t\t\t\tDAY,\n\t\t\t\t[1, 2]\n\t\t\t], [\n\t\t\t\tWEEK,\n\t\t\t\t[1, 2]\n\t\t\t], [\n\t\t\t\tMONTH,\n\t\t\t\t[1, 2, 3, 4, 6]\n\t\t\t], [\n\t\t\t\tYEAR,\n\t\t\t\tnull\n\t\t\t]],\n\t\tunit = units[units.length - 1], // default unit is years\n\t\tinterval = timeUnits[unit[0]],\n\t\tmultiples = unit[1],\n\t\tcount,\n\t\ti;\n\t\t\n\t// loop through the units to find the one that best fits the tickInterval\n\tfor (i = 0; i < units.length; i++) {\n\t\tunit = units[i];\n\t\tinterval = timeUnits[unit[0]];\n\t\tmultiples = unit[1];\n\n\n\t\tif (units[i + 1]) {\n\t\t\t// lessThan is in the middle between the highest multiple and the next unit.\n\t\t\tvar lessThan = (interval * multiples[multiples.length - 1] +\n\t\t\t\t\t\ttimeUnits[units[i + 1][0]]) / 2;\n\n\t\t\t// break and keep the current unit\n\t\t\tif (tickInterval <= lessThan) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// prevent 2.5 years intervals, though 25, 250 etc. are allowed\n\tif (interval === timeUnits[YEAR] && tickInterval < 5 * interval) {\n\t\tmultiples = [1, 2, 5];\n\t}\n\n\t// get the count\n\tcount = normalizeTickInterval(\n\t\ttickInterval / interval, \n\t\tmultiples,\n\t\tunit[0] === YEAR ? getMagnitude(tickInterval / interval) : 1 // #1913\n\t);\n\t\n\treturn {\n\t\tunitRange: interval,\n\t\tcount: count,\n\t\tunitName: unit[0]\n\t};\n}\n\n/**\n * Set the tick positions to a time unit that makes sense, for example\n * on the first of each month or on every Monday. Return an array\n * with the time positions. Used in datetime axes as well as for grouping\n * data on a datetime axis.\n *\n * @param {Object} normalizedInterval The interval in axis values (ms) and the count\n * @param {Number} min The minimum in axis values\n * @param {Number} max The maximum in axis values\n * @param {Number} startOfWeek\n */\nfunction getTimeTicks(normalizedInterval, min, max, startOfWeek) {\n\tvar tickPositions = [],\n\t\ti,\n\t\thigherRanks = {},\n\t\tuseUTC = defaultOptions.global.useUTC,\n\t\tminYear, // used in months and years as a basis for Date.UTC()\n\t\tminDate = new Date(min),\n\t\tinterval = normalizedInterval.unitRange,\n\t\tcount = normalizedInterval.count;\n\n\tif (defined(min)) { // #1300\n\t\tif (interval >= timeUnits[SECOND]) { // second\n\t\t\tminDate.setMilliseconds(0);\n\t\t\tminDate.setSeconds(interval >= timeUnits[MINUTE] ? 0 :\n\t\t\t\tcount * mathFloor(minDate.getSeconds() / count));\n\t\t}\n\t\n\t\tif (interval >= timeUnits[MINUTE]) { // minute\n\t\t\tminDate[setMinutes](interval >= timeUnits[HOUR] ? 0 :\n\t\t\t\tcount * mathFloor(minDate[getMinutes]() / count));\n\t\t}\n\t\n\t\tif (interval >= timeUnits[HOUR]) { // hour\n\t\t\tminDate[setHours](interval >= timeUnits[DAY] ? 0 :\n\t\t\t\tcount * mathFloor(minDate[getHours]() / count));\n\t\t}\n\t\n\t\tif (interval >= timeUnits[DAY]) { // day\n\t\t\tminDate[setDate](interval >= timeUnits[MONTH] ? 1 :\n\t\t\t\tcount * mathFloor(minDate[getDate]() / count));\n\t\t}\n\t\n\t\tif (interval >= timeUnits[MONTH]) { // month\n\t\t\tminDate[setMonth](interval >= timeUnits[YEAR] ? 0 :\n\t\t\t\tcount * mathFloor(minDate[getMonth]() / count));\n\t\t\tminYear = minDate[getFullYear]();\n\t\t}\n\t\n\t\tif (interval >= timeUnits[YEAR]) { // year\n\t\t\tminYear -= minYear % count;\n\t\t\tminDate[setFullYear](minYear);\n\t\t}\n\t\n\t\t// week is a special case that runs outside the hierarchy\n\t\tif (interval === timeUnits[WEEK]) {\n\t\t\t// get start of current week, independent of count\n\t\t\tminDate[setDate](minDate[getDate]() - minDate[getDay]() +\n\t\t\t\tpick(startOfWeek, 1));\n\t\t}\n\t\n\t\n\t\t// get tick positions\n\t\ti = 1;\n\t\tminYear = minDate[getFullYear]();\n\t\tvar time = minDate.getTime(),\n\t\t\tminMonth = minDate[getMonth](),\n\t\t\tminDateDate = minDate[getDate](),\n\t\t\ttimezoneOffset = useUTC ? \n\t\t\t\t0 : \n\t\t\t\t(24 * 3600 * 1000 + minDate.getTimezoneOffset() * 60 * 1000) % (24 * 3600 * 1000); // #950\n\t\n\t\t// iterate and add tick positions at appropriate values\n\t\twhile (time < max) {\n\t\t\ttickPositions.push(time);\n\t\n\t\t\t// if the interval is years, use Date.UTC to increase years\n\t\t\tif (interval === timeUnits[YEAR]) {\n\t\t\t\ttime = makeTime(minYear + i * count, 0);\n\t\n\t\t\t// if the interval is months, use Date.UTC to increase months\n\t\t\t} else if (interval === timeUnits[MONTH]) {\n\t\t\t\ttime = makeTime(minYear, minMonth + i * count);\n\t\n\t\t\t// if we're using global time, the interval is not fixed as it jumps\n\t\t\t// one hour at the DST crossover\n\t\t\t} else if (!useUTC && (interval === timeUnits[DAY] || interval === timeUnits[WEEK])) {\n\t\t\t\ttime = makeTime(minYear, minMonth, minDateDate +\n\t\t\t\t\ti * count * (interval === timeUnits[DAY] ? 1 : 7));\n\t\n\t\t\t// else, the interval is fixed and we use simple addition\n\t\t\t} else {\n\t\t\t\ttime += interval * count;\n\t\t\t}\n\t\n\t\t\ti++;\n\t\t}\n\t\n\t\t// push the last time\n\t\ttickPositions.push(time);\n\n\n\t\t// mark new days if the time is dividible by day (#1649, #1760)\n\t\teach(grep(tickPositions, function (time) {\n\t\t\treturn interval <= timeUnits[HOUR] && time % timeUnits[DAY] === timezoneOffset;\n\t\t}), function (time) {\n\t\t\thigherRanks[time] = DAY;\n\t\t});\n\t}\n\n\n\t// record information on the chosen unit - for dynamic label formatter\n\ttickPositions.info = extend(normalizedInterval, {\n\t\thigherRanks: higherRanks,\n\t\ttotalRange: interval * count\n\t});\n\n\treturn tickPositions;\n}\n\n/**\n * Helper class that contains variuos counters that are local to the chart.\n */\nfunction ChartCounters() {\n\tthis.color = 0;\n\tthis.symbol = 0;\n}\n\nChartCounters.prototype =  {\n\t/**\n\t * Wraps the color counter if it reaches the specified length.\n\t */\n\twrapColor: function (length) {\n\t\tif (this.color >= length) {\n\t\t\tthis.color = 0;\n\t\t}\n\t},\n\n\t/**\n\t * Wraps the symbol counter if it reaches the specified length.\n\t */\n\twrapSymbol: function (length) {\n\t\tif (this.symbol >= length) {\n\t\t\tthis.symbol = 0;\n\t\t}\n\t}\n};\n\n\n/**\n * Utility method that sorts an object array and keeping the order of equal items.\n * ECMA script standard does not specify the behaviour when items are equal.\n */\nfunction stableSort(arr, sortFunction) {\n\tvar length = arr.length,\n\t\tsortValue,\n\t\ti;\n\n\t// Add index to each item\n\tfor (i = 0; i < length; i++) {\n\t\tarr[i].ss_i = i; // stable sort index\n\t}\n\n\tarr.sort(function (a, b) {\n\t\tsortValue = sortFunction(a, b);\n\t\treturn sortValue === 0 ? a.ss_i - b.ss_i : sortValue;\n\t});\n\n\t// Remove index from items\n\tfor (i = 0; i < length; i++) {\n\t\tdelete arr[i].ss_i; // stable sort index\n\t}\n}\n\n/**\n * Non-recursive method to find the lowest member of an array. Math.min raises a maximum\n * call stack size exceeded error in Chrome when trying to apply more than 150.000 points. This\n * method is slightly slower, but safe.\n */\nfunction arrayMin(data) {\n\tvar i = data.length,\n\t\tmin = data[0];\n\n\twhile (i--) {\n\t\tif (data[i] < min) {\n\t\t\tmin = data[i];\n\t\t}\n\t}\n\treturn min;\n}\n\n/**\n * Non-recursive method to find the lowest member of an array. Math.min raises a maximum\n * call stack size exceeded error in Chrome when trying to apply more than 150.000 points. This\n * method is slightly slower, but safe.\n */\nfunction arrayMax(data) {\n\tvar i = data.length,\n\t\tmax = data[0];\n\n\twhile (i--) {\n\t\tif (data[i] > max) {\n\t\t\tmax = data[i];\n\t\t}\n\t}\n\treturn max;\n}\n\n/**\n * Utility method that destroys any SVGElement or VMLElement that are properties on the given object.\n * It loops all properties and invokes destroy if there is a destroy method. The property is\n * then delete'ed.\n * @param {Object} The object to destroy properties on\n * @param {Object} Exception, do not destroy this property, only delete it.\n */\nfunction destroyObjectProperties(obj, except) {\n\tvar n;\n\tfor (n in obj) {\n\t\t// If the object is non-null and destroy is defined\n\t\tif (obj[n] && obj[n] !== except && obj[n].destroy) {\n\t\t\t// Invoke the destroy\n\t\t\tobj[n].destroy();\n\t\t}\n\n\t\t// Delete the property from the object.\n\t\tdelete obj[n];\n\t}\n}\n\n\n/**\n * Discard an element by moving it to the bin and delete\n * @param {Object} The HTML node to discard\n */\nfunction discardElement(element) {\n\t// create a garbage bin element, not part of the DOM\n\tif (!garbageBin) {\n\t\tgarbageBin = createElement(DIV);\n\t}\n\n\t// move the node and empty bin\n\tif (element) {\n\t\tgarbageBin.appendChild(element);\n\t}\n\tgarbageBin.innerHTML = '';\n}\n\n/**\n * Provide error messages for debugging, with links to online explanation \n */\nfunction error(code, stop) {\n\tvar msg = 'Highcharts error #' + code + ': www.highcharts.com/errors/' + code;\n\tif (stop) {\n\t\tthrow msg;\n\t} else if (win.console) {\n\t\tconsole.log(msg);\n\t}\n}\n\n/**\n * Fix JS round off float errors\n * @param {Number} num\n */\nfunction correctFloat(num) {\n\treturn parseFloat(\n\t\tnum.toPrecision(14)\n\t);\n}\n\n/**\n * Set the global animation to either a given value, or fall back to the\n * given chart's animation option\n * @param {Object} animation\n * @param {Object} chart\n */\nfunction setAnimation(animation, chart) {\n\tglobalAnimation = pick(animation, chart.animation);\n}\n\n/**\n * The time unit lookup\n */\n/*jslint white: true*/\ntimeUnits = hash(\n\tMILLISECOND, 1,\n\tSECOND, 1000,\n\tMINUTE, 60000,\n\tHOUR, 3600000,\n\tDAY, 24 * 3600000,\n\tWEEK, 7 * 24 * 3600000,\n\tMONTH, 31 * 24 * 3600000,\n\tYEAR, 31556952000\n);\n/*jslint white: false*/\n/**\n * Path interpolation algorithm used across adapters\n */\npathAnim = {\n\t/**\n\t * Prepare start and end values so that the path can be animated one to one\n\t */\n\tinit: function (elem, fromD, toD) {\n\t\tfromD = fromD || '';\n\t\tvar shift = elem.shift,\n\t\t\tbezier = fromD.indexOf('C') > -1,\n\t\t\tnumParams = bezier ? 7 : 3,\n\t\t\tendLength,\n\t\t\tslice,\n\t\t\ti,\n\t\t\tstart = fromD.split(' '),\n\t\t\tend = [].concat(toD), // copy\n\t\t\tstartBaseLine,\n\t\t\tendBaseLine,\n\t\t\tsixify = function (arr) { // in splines make move points have six parameters like bezier curves\n\t\t\t\ti = arr.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tif (arr[i] === M) {\n\t\t\t\t\t\tarr.splice(i + 1, 0, arr[i + 1], arr[i + 2], arr[i + 1], arr[i + 2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\tif (bezier) {\n\t\t\tsixify(start);\n\t\t\tsixify(end);\n\t\t}\n\n\t\t// pull out the base lines before padding\n\t\tif (elem.isArea) {\n\t\t\tstartBaseLine = start.splice(start.length - 6, 6);\n\t\t\tendBaseLine = end.splice(end.length - 6, 6);\n\t\t}\n\n\t\t// if shifting points, prepend a dummy point to the end path\n\t\tif (shift <= end.length / numParams && start.length === end.length) {\n\t\t\twhile (shift--) {\n\t\t\t\tend = [].concat(end).splice(0, numParams).concat(end);\n\t\t\t}\n\t\t}\n\t\telem.shift = 0; // reset for following animations\n\n\t\t// copy and append last point until the length matches the end length\n\t\tif (start.length) {\n\t\t\tendLength = end.length;\n\t\t\twhile (start.length < endLength) {\n\n\t\t\t\t//bezier && sixify(start);\n\t\t\t\tslice = [].concat(start).splice(start.length - numParams, numParams);\n\t\t\t\tif (bezier) { // disable first control point\n\t\t\t\t\tslice[numParams - 6] = slice[numParams - 2];\n\t\t\t\t\tslice[numParams - 5] = slice[numParams - 1];\n\t\t\t\t}\n\t\t\t\tstart = start.concat(slice);\n\t\t\t}\n\t\t}\n\n\t\tif (startBaseLine) { // append the base lines for areas\n\t\t\tstart = start.concat(startBaseLine);\n\t\t\tend = end.concat(endBaseLine);\n\t\t}\n\t\treturn [start, end];\n\t},\n\n\t/**\n\t * Interpolate each value of the path and return the array\n\t */\n\tstep: function (start, end, pos, complete) {\n\t\tvar ret = [],\n\t\t\ti = start.length,\n\t\t\tstartVal;\n\n\t\tif (pos === 1) { // land on the final path without adjustment points appended in the ends\n\t\t\tret = complete;\n\n\t\t} else if (i === end.length && pos < 1) {\n\t\t\twhile (i--) {\n\t\t\t\tstartVal = parseFloat(start[i]);\n\t\t\t\tret[i] =\n\t\t\t\t\tisNaN(startVal) ? // a letter instruction like M or L\n\t\t\t\t\t\tstart[i] :\n\t\t\t\t\t\tpos * (parseFloat(end[i] - startVal)) + startVal;\n\n\t\t\t}\n\t\t} else { // if animation is finished or length not matching, land on right value\n\t\t\tret = end;\n\t\t}\n\t\treturn ret;\n\t}\n};\n\n(function ($) {\n\t/**\n\t * The default HighchartsAdapter for jQuery\n\t */\n\twin.HighchartsAdapter = win.HighchartsAdapter || ($ && {\n\t\t\n\t\t/**\n\t\t * Initialize the adapter by applying some extensions to jQuery\n\t\t */\n\t\tinit: function (pathAnim) {\n\t\t\t\n\t\t\t// extend the animate function to allow SVG animations\n\t\t\tvar Fx = $.fx,\n\t\t\t\tStep = Fx.step,\n\t\t\t\tdSetter,\n\t\t\t\tTween = $.Tween,\n\t\t\t\tpropHooks = Tween && Tween.propHooks,\n\t\t\t\topacityHook = $.cssHooks.opacity;\n\t\t\t\n\t\t\t/*jslint unparam: true*//* allow unused param x in this function */\n\t\t\t$.extend($.easing, {\n\t\t\t\teaseOutQuad: function (x, t, b, c, d) {\n\t\t\t\t\treturn -c * (t /= d) * (t - 2) + b;\n\t\t\t\t}\n\t\t\t});\n\t\t\t/*jslint unparam: false*/\n\t\t\n\t\t\t// extend some methods to check for elem.attr, which means it is a Highcharts SVG object\n\t\t\t$.each(['cur', '_default', 'width', 'height', 'opacity'], function (i, fn) {\n\t\t\t\tvar obj = Step,\n\t\t\t\t\tbase,\n\t\t\t\t\telem;\n\t\t\t\t\t\n\t\t\t\t// Handle different parent objects\n\t\t\t\tif (fn === 'cur') {\n\t\t\t\t\tobj = Fx.prototype; // 'cur', the getter, relates to Fx.prototype\n\t\t\t\t\n\t\t\t\t} else if (fn === '_default' && Tween) { // jQuery 1.8 model\n\t\t\t\t\tobj = propHooks[fn];\n\t\t\t\t\tfn = 'set';\n\t\t\t\t}\n\t\t\n\t\t\t\t// Overwrite the method\n\t\t\t\tbase = obj[fn];\n\t\t\t\tif (base) { // step.width and step.height don't exist in jQuery < 1.7\n\t\t\n\t\t\t\t\t// create the extended function replacement\n\t\t\t\t\tobj[fn] = function (fx) {\n\t\t\n\t\t\t\t\t\t// Fx.prototype.cur does not use fx argument\n\t\t\t\t\t\tfx = i ? fx : this;\n\n\t\t\t\t\t\t// Don't run animations on textual properties like align (#1821)\n\t\t\t\t\t\tif (fx.prop === 'align') {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t// shortcut\n\t\t\t\t\t\telem = fx.elem;\n\t\t\n\t\t\t\t\t\t// Fx.prototype.cur returns the current value. The other ones are setters\n\t\t\t\t\t\t// and returning a value has no effect.\n\t\t\t\t\t\treturn elem.attr ? // is SVG element wrapper\n\t\t\t\t\t\t\telem.attr(fx.prop, fn === 'cur' ? UNDEFINED : fx.now) : // apply the SVG wrapper's method\n\t\t\t\t\t\t\tbase.apply(this, arguments); // use jQuery's built-in method\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Extend the opacity getter, needed for fading opacity with IE9 and jQuery 1.10+\n\t\t\twrap(opacityHook, 'get', function (proceed, elem, computed) {\n\t\t\t\treturn elem.attr ? (elem.opacity || 0) : proceed.call(this, elem, computed);\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t\t// Define the setter function for d (path definitions)\n\t\t\tdSetter = function (fx) {\n\t\t\t\tvar elem = fx.elem,\n\t\t\t\t\tends;\n\t\t\n\t\t\t\t// Normally start and end should be set in state == 0, but sometimes,\n\t\t\t\t// for reasons unknown, this doesn't happen. Perhaps state == 0 is skipped\n\t\t\t\t// in these cases\n\t\t\t\tif (!fx.started) {\n\t\t\t\t\tends = pathAnim.init(elem, elem.d, elem.toD);\n\t\t\t\t\tfx.start = ends[0];\n\t\t\t\t\tfx.end = ends[1];\n\t\t\t\t\tfx.started = true;\n\t\t\t\t}\n\t\t\n\t\t\n\t\t\t\t// interpolate each value of the path\n\t\t\t\telem.attr('d', pathAnim.step(fx.start, fx.end, fx.pos, elem.toD));\n\t\t\t};\n\t\t\t\n\t\t\t// jQuery 1.8 style\n\t\t\tif (Tween) {\n\t\t\t\tpropHooks.d = {\n\t\t\t\t\tset: dSetter\n\t\t\t\t};\n\t\t\t// pre 1.8\n\t\t\t} else {\n\t\t\t\t// animate paths\n\t\t\t\tStep.d = dSetter;\n\t\t\t}\n\t\t\t\n\t\t\t/**\n\t\t\t * Utility for iterating over an array. Parameters are reversed compared to jQuery.\n\t\t\t * @param {Array} arr\n\t\t\t * @param {Function} fn\n\t\t\t */\n\t\t\tthis.each = Array.prototype.forEach ?\n\t\t\t\tfunction (arr, fn) { // modern browsers\n\t\t\t\t\treturn Array.prototype.forEach.call(arr, fn);\n\t\t\t\t\t\n\t\t\t\t} : \n\t\t\t\tfunction (arr, fn) { // legacy\n\t\t\t\t\tvar i = 0, \n\t\t\t\t\t\tlen = arr.length;\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tif (fn.call(arr[i], arr[i], i, arr) === false) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\n\t\t\t/**\n\t\t\t * Register Highcharts as a plugin in the respective framework\n\t\t\t */\n\t\t\t$.fn.highcharts = function () {\n\t\t\t\tvar constr = 'Chart', // default constructor\n\t\t\t\t\targs = arguments,\n\t\t\t\t\toptions,\n\t\t\t\t\tret,\n\t\t\t\t\tchart;\n\n\t\t\t\tif (isString(args[0])) {\n\t\t\t\t\tconstr = args[0];\n\t\t\t\t\targs = Array.prototype.slice.call(args, 1); \n\t\t\t\t}\n\t\t\t\toptions = args[0];\n\n\t\t\t\t// Create the chart\n\t\t\t\tif (options !== UNDEFINED) {\n\t\t\t\t\t/*jslint unused:false*/\n\t\t\t\t\toptions.chart = options.chart || {};\n\t\t\t\t\toptions.chart.renderTo = this[0];\n\t\t\t\t\tchart = new Highcharts[constr](options, args[1]);\n\t\t\t\t\tret = this;\n\t\t\t\t\t/*jslint unused:true*/\n\t\t\t\t}\n\n\t\t\t\t// When called without parameters or with the return argument, get a predefined chart\n\t\t\t\tif (options === UNDEFINED) {\n\t\t\t\t\tret = charts[attr(this[0], 'data-highcharts-chart')];\n\t\t\t\t}\t\n\n\t\t\t\treturn ret;\n\t\t\t};\n\n\t\t},\n\n\t\t\n\t\t/**\n\t\t * Downloads a script and executes a callback when done.\n\t\t * @param {String} scriptLocation\n\t\t * @param {Function} callback\n\t\t */\n\t\tgetScript: $.getScript,\n\t\t\n\t\t/**\n\t\t * Return the index of an item in an array, or -1 if not found\n\t\t */\n\t\tinArray: $.inArray,\n\t\t\n\t\t/**\n\t\t * A direct link to jQuery methods. MooTools and Prototype adapters must be implemented for each case of method.\n\t\t * @param {Object} elem The HTML element\n\t\t * @param {String} method Which method to run on the wrapped element\n\t\t */\n\t\tadapterRun: function (elem, method) {\n\t\t\treturn $(elem)[method]();\n\t\t},\n\t\n\t\t/**\n\t\t * Filter an array\n\t\t */\n\t\tgrep: $.grep,\n\t\n\t\t/**\n\t\t * Map an array\n\t\t * @param {Array} arr\n\t\t * @param {Function} fn\n\t\t */\n\t\tmap: function (arr, fn) {\n\t\t\t//return jQuery.map(arr, fn);\n\t\t\tvar results = [],\n\t\t\t\ti = 0,\n\t\t\t\tlen = arr.length;\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tresults[i] = fn.call(arr[i], arr[i], i, arr);\n\t\t\t}\n\t\t\treturn results;\n\t\n\t\t},\n\t\n\t\t/**\n\t\t * Get the position of an element relative to the top left of the page\n\t\t */\n\t\toffset: function (el) {\n\t\t\treturn $(el).offset();\n\t\t},\n\t\n\t\t/**\n\t\t * Add an event listener\n\t\t * @param {Object} el A HTML element or custom object\n\t\t * @param {String} event The event type\n\t\t * @param {Function} fn The event handler\n\t\t */\n\t\taddEvent: function (el, event, fn) {\n\t\t\t$(el).bind(event, fn);\n\t\t},\n\t\n\t\t/**\n\t\t * Remove event added with addEvent\n\t\t * @param {Object} el The object\n\t\t * @param {String} eventType The event type. Leave blank to remove all events.\n\t\t * @param {Function} handler The function to remove\n\t\t */\n\t\tremoveEvent: function (el, eventType, handler) {\n\t\t\t// workaround for jQuery issue with unbinding custom events:\n\t\t\t// http://forum.jQuery.com/topic/javascript-error-when-unbinding-a-custom-event-using-jQuery-1-4-2\n\t\t\tvar func = doc.removeEventListener ? 'removeEventListener' : 'detachEvent';\n\t\t\tif (doc[func] && el && !el[func]) {\n\t\t\t\tel[func] = function () {};\n\t\t\t}\n\t\n\t\t\t$(el).unbind(eventType, handler);\n\t\t},\n\t\n\t\t/**\n\t\t * Fire an event on a custom object\n\t\t * @param {Object} el\n\t\t * @param {String} type\n\t\t * @param {Object} eventArguments\n\t\t * @param {Function} defaultFunction\n\t\t */\n\t\tfireEvent: function (el, type, eventArguments, defaultFunction) {\n\t\t\tvar event = $.Event(type),\n\t\t\t\tdetachedType = 'detached' + type,\n\t\t\t\tdefaultPrevented;\n\t\n\t\t\t// Remove warnings in Chrome when accessing layerX and layerY. Although Highcharts\n\t\t\t// never uses these properties, Chrome includes them in the default click event and\n\t\t\t// raises the warning when they are copied over in the extend statement below.\n\t\t\t//\n\t\t\t// To avoid problems in IE (see #1010) where we cannot delete the properties and avoid\n\t\t\t// testing if they are there (warning in chrome) the only option is to test if running IE.\n\t\t\tif (!isIE && eventArguments) {\n\t\t\t\tdelete eventArguments.layerX;\n\t\t\t\tdelete eventArguments.layerY;\n\t\t\t}\n\t\n\t\t\textend(event, eventArguments);\n\t\n\t\t\t// Prevent jQuery from triggering the object method that is named the\n\t\t\t// same as the event. For example, if the event is 'select', jQuery\n\t\t\t// attempts calling el.select and it goes into a loop.\n\t\t\tif (el[type]) {\n\t\t\t\tel[detachedType] = el[type];\n\t\t\t\tel[type] = null;\n\t\t\t}\n\t\n\t\t\t// Wrap preventDefault and stopPropagation in try/catch blocks in\n\t\t\t// order to prevent JS errors when cancelling events on non-DOM\n\t\t\t// objects. #615.\n\t\t\t/*jslint unparam: true*/\n\t\t\t$.each(['preventDefault', 'stopPropagation'], function (i, fn) {\n\t\t\t\tvar base = event[fn];\n\t\t\t\tevent[fn] = function () {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tbase.call(event);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tif (fn === 'preventDefault') {\n\t\t\t\t\t\t\tdefaultPrevented = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t\t/*jslint unparam: false*/\n\t\n\t\t\t// trigger it\n\t\t\t$(el).trigger(event);\n\t\n\t\t\t// attach the method\n\t\t\tif (el[detachedType]) {\n\t\t\t\tel[type] = el[detachedType];\n\t\t\t\tel[detachedType] = null;\n\t\t\t}\n\t\n\t\t\tif (defaultFunction && !event.isDefaultPrevented() && !defaultPrevented) {\n\t\t\t\tdefaultFunction(event);\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * Extension method needed for MooTools\n\t\t */\n\t\twashMouseEvent: function (e) {\n\t\t\tvar ret = e.originalEvent || e;\n\t\t\t\n\t\t\t// computed by jQuery, needed by IE8\n\t\t\tif (ret.pageX === UNDEFINED) { // #1236\n\t\t\t\tret.pageX = e.pageX;\n\t\t\t\tret.pageY = e.pageY;\n\t\t\t}\n\t\t\t\n\t\t\treturn ret;\n\t\t},\n\t\n\t\t/**\n\t\t * Animate a HTML element or SVG element wrapper\n\t\t * @param {Object} el\n\t\t * @param {Object} params\n\t\t * @param {Object} options jQuery-like animation options: duration, easing, callback\n\t\t */\n\t\tanimate: function (el, params, options) {\n\t\t\tvar $el = $(el);\n\t\t\tif (!el.style) {\n\t\t\t\tel.style = {}; // #1881\n\t\t\t}\n\t\t\tif (params.d) {\n\t\t\t\tel.toD = params.d; // keep the array form for paths, used in $.fx.step.d\n\t\t\t\tparams.d = 1; // because in jQuery, animating to an array has a different meaning\n\t\t\t}\n\t\n\t\t\t$el.stop();\n\t\t\tif (params.opacity !== UNDEFINED && el.attr) {\n\t\t\t\tparams.opacity += 'px'; // force jQuery to use same logic as width and height (#2161)\n\t\t\t}\n\t\t\t$el.animate(params, options);\n\t\n\t\t},\n\t\t/**\n\t\t * Stop running animation\n\t\t */\n\t\tstop: function (el) {\n\t\t\t$(el).stop();\n\t\t}\n\t});\n}(win.jQuery));\n\n\n// check for a custom HighchartsAdapter defined prior to this file\nvar globalAdapter = win.HighchartsAdapter,\n\tadapter = globalAdapter || {};\n\t\n// Initialize the adapter\nif (globalAdapter) {\n\tglobalAdapter.init.call(globalAdapter, pathAnim);\n}\n\n\n// Utility functions. If the HighchartsAdapter is not defined, adapter is an empty object\n// and all the utility functions will be null. In that case they are populated by the\n// default adapters below.\nvar adapterRun = adapter.adapterRun,\n\tgetScript = adapter.getScript,\n\tinArray = adapter.inArray,\n\teach = adapter.each,\n\tgrep = adapter.grep,\n\toffset = adapter.offset,\n\tmap = adapter.map,\n\taddEvent = adapter.addEvent,\n\tremoveEvent = adapter.removeEvent,\n\tfireEvent = adapter.fireEvent,\n\twashMouseEvent = adapter.washMouseEvent,\n\tanimate = adapter.animate,\n\tstop = adapter.stop;\n\n\n\n/* ****************************************************************************\n * Handle the options                                                         *\n *****************************************************************************/\nvar\n\ndefaultLabelOptions = {\n\tenabled: true,\n\t// rotation: 0,\n\t// align: 'center',\n\tx: 0,\n\ty: 15,\n\t/*formatter: function () {\n\t\treturn this.value;\n\t},*/\n\tstyle: {\n\t\tcolor: '#666',\n\t\tcursor: 'default',\n\t\tfontSize: '11px',\n\t\tlineHeight: '14px'\n\t}\n};\n\ndefaultOptions = {\n\tcolors: ['#2f7ed8', '#0d233a', '#8bbc21', '#910000', '#1aadce', '#492970',\n\t\t'#f28f43', '#77a1e5', '#c42525', '#a6c96a'],\n\tsymbols: ['circle', 'diamond', 'square', 'triangle', 'triangle-down'],\n\tlang: {\n\t\tloading: 'Loading...',\n\t\tmonths: ['January', 'February', 'March', 'April', 'May', 'June', 'July',\n\t\t\t\t'August', 'September', 'October', 'November', 'December'],\n\t\tshortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n\t\tweekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n\t\tdecimalPoint: '.',\n\t\tnumericSymbols: ['k', 'M', 'G', 'T', 'P', 'E'], // SI prefixes used in axis labels\n\t\tresetZoom: 'Reset zoom',\n\t\tresetZoomTitle: 'Reset zoom level 1:1',\n\t\tthousandsSep: ','\n\t},\n\tglobal: {\n\t\tuseUTC: true,\n\t\tcanvasToolsURL: 'http://code.highcharts.com/3.0.6/modules/canvas-tools.js',\n\t\tVMLRadialGradientURL: 'http://code.highcharts.com/3.0.6/gfx/vml-radial-gradient.png'\n\t},\n\tchart: {\n\t\t//animation: true,\n\t\t//alignTicks: false,\n\t\t//reflow: true,\n\t\t//className: null,\n\t\t//events: { load, selection },\n\t\t//margin: [null],\n\t\t//marginTop: null,\n\t\t//marginRight: null,\n\t\t//marginBottom: null,\n\t\t//marginLeft: null,\n\t\tborderColor: '#4572A7',\n\t\t//borderWidth: 0,\n\t\tborderRadius: 5,\n\t\tdefaultSeriesType: 'line',\n\t\tignoreHiddenSeries: true,\n\t\t//inverted: false,\n\t\t//shadow: false,\n\t\tspacing: [10, 10, 15, 10],\n\t\t//spacingTop: 10,\n\t\t//spacingRight: 10,\n\t\t//spacingBottom: 15,\n\t\t//spacingLeft: 10,\n\t\tstyle: {\n\t\t\tfontFamily: '\"Lucida Grande\", \"Lucida Sans Unicode\", Verdana, Arial, Helvetica, sans-serif', // default font\n\t\t\tfontSize: '12px'\n\t\t},\n\t\tbackgroundColor: '#FFFFFF',\n\t\t//plotBackgroundColor: null,\n\t\tplotBorderColor: '#C0C0C0',\n\t\t//plotBorderWidth: 0,\n\t\t//plotShadow: false,\n\t\t//zoomType: ''\n\t\tresetZoomButton: {\n\t\t\ttheme: {\n\t\t\t\tzIndex: 20\n\t\t\t},\n\t\t\tposition: {\n\t\t\t\talign: 'right',\n\t\t\t\tx: -10,\n\t\t\t\t//verticalAlign: 'top',\n\t\t\t\ty: 10\n\t\t\t}\n\t\t\t// relativeTo: 'plot'\n\t\t}\n\t},\n\ttitle: {\n\t\ttext: 'Chart title',\n\t\talign: 'center',\n\t\t// floating: false,\n\t\tmargin: 15,\n\t\t// x: 0,\n\t\t// verticalAlign: 'top',\n\t\t// y: null,\n\t\tstyle: {\n\t\t\tcolor: '#274b6d',//#3E576F',\n\t\t\tfontSize: '16px'\n\t\t}\n\n\t},\n\tsubtitle: {\n\t\ttext: '',\n\t\talign: 'center',\n\t\t// floating: false\n\t\t// x: 0,\n\t\t// verticalAlign: 'top',\n\t\t// y: null,\n\t\tstyle: {\n\t\t\tcolor: '#4d759e'\n\t\t}\n\t},\n\n\tplotOptions: {\n\t\tline: { // base series options\n\t\t\tallowPointSelect: false,\n\t\t\tshowCheckbox: false,\n\t\t\tanimation: {\n\t\t\t\tduration: 1000\n\t\t\t},\n\t\t\t//connectNulls: false,\n\t\t\t//cursor: 'default',\n\t\t\t//clip: true,\n\t\t\t//dashStyle: null,\n\t\t\t//enableMouseTracking: true,\n\t\t\tevents: {},\n\t\t\t//legendIndex: 0,\n\t\t\tlineWidth: 2,\n\t\t\t//shadow: false,\n\t\t\t// stacking: null,\n\t\t\tmarker: {\n\t\t\t\tenabled: true,\n\t\t\t\t//symbol: null,\n\t\t\t\tlineWidth: 0,\n\t\t\t\tradius: 4,\n\t\t\t\tlineColor: '#FFFFFF',\n\t\t\t\t//fillColor: null,\n\t\t\t\tstates: { // states for a single point\n\t\t\t\t\thover: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t//radius: base + 2\n\t\t\t\t\t},\n\t\t\t\t\tselect: {\n\t\t\t\t\t\tfillColor: '#FFFFFF',\n\t\t\t\t\t\tlineColor: '#000000',\n\t\t\t\t\t\tlineWidth: 2\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpoint: {\n\t\t\t\tevents: {}\n\t\t\t},\n\t\t\tdataLabels: merge(defaultLabelOptions, {\n\t\t\t\talign: 'center',\n\t\t\t\tenabled: false,\n\t\t\t\tformatter: function () {\n\t\t\t\t\treturn this.y === null ? '' : numberFormat(this.y, -1);\n\t\t\t\t},\n\t\t\t\tverticalAlign: 'bottom', // above singular point\n\t\t\t\ty: 0\n\t\t\t\t// backgroundColor: undefined,\n\t\t\t\t// borderColor: undefined,\n\t\t\t\t// borderRadius: undefined,\n\t\t\t\t// borderWidth: undefined,\n\t\t\t\t// padding: 3,\n\t\t\t\t// shadow: false\n\t\t\t}),\n\t\t\tcropThreshold: 300, // draw points outside the plot area when the number of points is less than this\n\t\t\tpointRange: 0,\n\t\t\t//pointStart: 0,\n\t\t\t//pointInterval: 1,\n\t\t\tshowInLegend: true,\n\t\t\tstates: { // states for the entire series\n\t\t\t\thover: {\n\t\t\t\t\t//enabled: false,\n\t\t\t\t\t//lineWidth: base + 1,\n\t\t\t\t\tmarker: {\n\t\t\t\t\t\t// lineWidth: base + 1,\n\t\t\t\t\t\t// radius: base + 1\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tselect: {\n\t\t\t\t\tmarker: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tstickyTracking: true\n\t\t\t//tooltip: {\n\t\t\t\t//pointFormat: '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b>'\n\t\t\t\t//valueDecimals: null,\n\t\t\t\t//xDateFormat: '%A, %b %e, %Y',\n\t\t\t\t//valuePrefix: '',\n\t\t\t\t//ySuffix: ''\t\t\t\t\n\t\t\t//}\n\t\t\t// turboThreshold: 1000\n\t\t\t// zIndex: null\n\t\t}\n\t},\n\tlabels: {\n\t\t//items: [],\n\t\tstyle: {\n\t\t\t//font: defaultFont,\n\t\t\tposition: ABSOLUTE,\n\t\t\tcolor: '#3E576F'\n\t\t}\n\t},\n\tlegend: {\n\t\tenabled: true,\n\t\talign: 'center',\n\t\t//floating: false,\n\t\tlayout: 'horizontal',\n\t\tlabelFormatter: function () {\n\t\t\treturn this.name;\n\t\t},\n\t\tborderWidth: 1,\n\t\tborderColor: '#909090',\n\t\tborderRadius: 5,\n\t\tnavigation: {\n\t\t\t// animation: true,\n\t\t\tactiveColor: '#274b6d',\n\t\t\t// arrowSize: 12\n\t\t\tinactiveColor: '#CCC'\n\t\t\t// style: {} // text styles\n\t\t},\n\t\t// margin: 10,\n\t\t// reversed: false,\n\t\tshadow: false,\n\t\t// backgroundColor: null,\n\t\t/*style: {\n\t\t\tpadding: '5px'\n\t\t},*/\n\t\titemStyle: {\n\t\t\tcursor: 'pointer',\n\t\t\tcolor: '#274b6d',\n\t\t\tfontSize: '12px'\n\t\t},\n\t\titemHoverStyle: {\n\t\t\t//cursor: 'pointer', removed as of #601\n\t\t\tcolor: '#000'\n\t\t},\n\t\titemHiddenStyle: {\n\t\t\tcolor: '#CCC'\n\t\t},\n\t\titemCheckboxStyle: {\n\t\t\tposition: ABSOLUTE,\n\t\t\twidth: '13px', // for IE precision\n\t\t\theight: '13px'\n\t\t},\n\t\t// itemWidth: undefined,\n\t\tsymbolWidth: 16,\n\t\tsymbolPadding: 5,\n\t\tverticalAlign: 'bottom',\n\t\t// width: undefined,\n\t\tx: 0,\n\t\ty: 0,\n\t\ttitle: {\n\t\t\t//text: null,\n\t\t\tstyle: {\n\t\t\t\tfontWeight: 'bold'\n\t\t\t}\n\t\t}\t\t\t\n\t},\n\n\tloading: {\n\t\t// hideDuration: 100,\n\t\tlabelStyle: {\n\t\t\tfontWeight: 'bold',\n\t\t\tposition: RELATIVE,\n\t\t\ttop: '1em'\n\t\t},\n\t\t// showDuration: 0,\n\t\tstyle: {\n\t\t\tposition: ABSOLUTE,\n\t\t\tbackgroundColor: 'white',\n\t\t\topacity: 0.5,\n\t\t\ttextAlign: 'center'\n\t\t}\n\t},\n\n\ttooltip: {\n\t\tenabled: true,\n\t\tanimation: hasSVG,\n\t\t//crosshairs: null,\n\t\tbackgroundColor: 'rgba(255, 255, 255, .85)',\n\t\tborderWidth: 1,\n\t\tborderRadius: 3,\n\t\tdateTimeLabelFormats: { \n\t\t\tmillisecond: '%A, %b %e, %H:%M:%S.%L',\n\t\t\tsecond: '%A, %b %e, %H:%M:%S',\n\t\t\tminute: '%A, %b %e, %H:%M',\n\t\t\thour: '%A, %b %e, %H:%M',\n\t\t\tday: '%A, %b %e, %Y',\n\t\t\tweek: 'Week from %A, %b %e, %Y',\n\t\t\tmonth: '%B %Y',\n\t\t\tyear: '%Y'\n\t\t},\n\t\t//formatter: defaultFormatter,\n\t\theaderFormat: '<span style=\"font-size: 10px\">{point.key}</span><br/>',\n\t\tpointFormat: '<span style=\"color:{series.color}\">{series.name}</span>: <b>{point.y}</b><br/>',\n\t\tshadow: true,\n\t\t//shared: false,\n\t\tsnap: isTouchDevice ? 25 : 10,\n\t\tstyle: {\n\t\t\tcolor: '#333333',\n\t\t\tcursor: 'default',\n\t\t\tfontSize: '12px',\n\t\t\tpadding: '8px',\n\t\t\twhiteSpace: 'nowrap'\n\t\t}\n\t\t//xDateFormat: '%A, %b %e, %Y',\n\t\t//valueDecimals: null,\n\t\t//valuePrefix: '',\n\t\t//valueSuffix: ''\n\t},\n\n\tcredits: {\n\t\tenabled: true,\n\t\ttext: 'Highcharts.com',\n\t\thref: 'http://www.highcharts.com',\n\t\tposition: {\n\t\t\talign: 'right',\n\t\t\tx: -10,\n\t\t\tverticalAlign: 'bottom',\n\t\t\ty: -5\n\t\t},\n\t\tstyle: {\n\t\t\tcursor: 'pointer',\n\t\t\tcolor: '#909090',\n\t\t\tfontSize: '9px'\n\t\t}\n\t}\n};\n\n\n\n\n// Series defaults\nvar defaultPlotOptions = defaultOptions.plotOptions,\n\tdefaultSeriesOptions = defaultPlotOptions.line;\n\n// set the default time methods\nsetTimeMethods();\n\n\n\n/**\n * Set the time methods globally based on the useUTC option. Time method can be either\n * local time or UTC (default).\n */\nfunction setTimeMethods() {\n\tvar useUTC = defaultOptions.global.useUTC,\n\t\tGET = useUTC ? 'getUTC' : 'get',\n\t\tSET = useUTC ? 'setUTC' : 'set';\n\n\tmakeTime = useUTC ? Date.UTC : function (year, month, date, hours, minutes, seconds) {\n\t\treturn new Date(\n\t\t\tyear,\n\t\t\tmonth,\n\t\t\tpick(date, 1),\n\t\t\tpick(hours, 0),\n\t\t\tpick(minutes, 0),\n\t\t\tpick(seconds, 0)\n\t\t).getTime();\n\t};\n\tgetMinutes =  GET + 'Minutes';\n\tgetHours =    GET + 'Hours';\n\tgetDay =      GET + 'Day';\n\tgetDate =     GET + 'Date';\n\tgetMonth =    GET + 'Month';\n\tgetFullYear = GET + 'FullYear';\n\tsetMinutes =  SET + 'Minutes';\n\tsetHours =    SET + 'Hours';\n\tsetDate =     SET + 'Date';\n\tsetMonth =    SET + 'Month';\n\tsetFullYear = SET + 'FullYear';\n\n}\n\n/**\n * Merge the default options with custom options and return the new options structure\n * @param {Object} options The new custom options\n */\nfunction setOptions(options) {\n\t\n\t// Pull out axis options and apply them to the respective default axis options \n\t/*defaultXAxisOptions = merge(defaultXAxisOptions, options.xAxis);\n\tdefaultYAxisOptions = merge(defaultYAxisOptions, options.yAxis);\n\toptions.xAxis = options.yAxis = UNDEFINED;*/\n\t\n\t// Merge in the default options\n\tdefaultOptions = merge(defaultOptions, options);\n\t\n\t// Apply UTC\n\tsetTimeMethods();\n\n\treturn defaultOptions;\n}\n\n/**\n * Get the updated default options. Merely exposing defaultOptions for outside modules\n * isn't enough because the setOptions method creates a new object.\n */\nfunction getOptions() {\n\treturn defaultOptions;\n}\n\n\n/**\n * Handle color operations. The object methods are chainable.\n * @param {String} input The input color in either rbga or hex format\n */\nvar Color = function (input) {\n\t// declare variables\n\tvar rgba = [], result, stops;\n\n\t/**\n\t * Parse the input color to rgba array\n\t * @param {String} input\n\t */\n\tfunction init(input) {\n\n\t\t// Gradients\n\t\tif (input && input.stops) {\n\t\t\tstops = map(input.stops, function (stop) {\n\t\t\t\treturn Color(stop[1]);\n\t\t\t});\n\n\t\t// Solid colors\n\t\t} else {\n\t\t\t// rgba\n\t\t\tresult = /rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]?(?:\\.[0-9]+)?)\\s*\\)/.exec(input);\n\t\t\tif (result) {\n\t\t\t\trgba = [pInt(result[1]), pInt(result[2]), pInt(result[3]), parseFloat(result[4], 10)];\n\t\t\t} else { \n\t\t\t\t// hex\n\t\t\t\tresult = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(input);\n\t\t\t\tif (result) {\n\t\t\t\t\trgba = [pInt(result[1], 16), pInt(result[2], 16), pInt(result[3], 16), 1];\n\t\t\t\t} else {\n\t\t\t\t\t// rgb\n\t\t\t\t\tresult = /rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(input);\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\trgba = [pInt(result[1]), pInt(result[2]), pInt(result[3]), 1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\n\n\t}\n\t/**\n\t * Return the color a specified format\n\t * @param {String} format\n\t */\n\tfunction get(format) {\n\t\tvar ret;\n\n\t\tif (stops) {\n\t\t\tret = merge(input);\n\t\t\tret.stops = [].concat(ret.stops);\n\t\t\teach(stops, function (stop, i) {\n\t\t\t\tret.stops[i] = [ret.stops[i][0], stop.get(format)];\n\t\t\t});\n\n\t\t// it's NaN if gradient colors on a column chart\n\t\t} else if (rgba && !isNaN(rgba[0])) {\n\t\t\tif (format === 'rgb') {\n\t\t\t\tret = 'rgb(' + rgba[0] + ',' + rgba[1] + ',' + rgba[2] + ')';\n\t\t\t} else if (format === 'a') {\n\t\t\t\tret = rgba[3];\n\t\t\t} else {\n\t\t\t\tret = 'rgba(' + rgba.join(',') + ')';\n\t\t\t}\n\t\t} else {\n\t\t\tret = input;\n\t\t}\n\t\treturn ret;\n\t}\n\n\t/**\n\t * Brighten the color\n\t * @param {Number} alpha\n\t */\n\tfunction brighten(alpha) {\n\t\tif (stops) {\n\t\t\teach(stops, function (stop) {\n\t\t\t\tstop.brighten(alpha);\n\t\t\t});\n\t\t\n\t\t} else if (isNumber(alpha) && alpha !== 0) {\n\t\t\tvar i;\n\t\t\tfor (i = 0; i < 3; i++) {\n\t\t\t\trgba[i] += pInt(alpha * 255);\n\n\t\t\t\tif (rgba[i] < 0) {\n\t\t\t\t\trgba[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (rgba[i] > 255) {\n\t\t\t\t\trgba[i] = 255;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\t/**\n\t * Set the color's opacity to a given alpha value\n\t * @param {Number} alpha\n\t */\n\tfunction setOpacity(alpha) {\n\t\trgba[3] = alpha;\n\t\treturn this;\n\t}\n\n\t// initialize: parse the input\n\tinit(input);\n\n\t// public methods\n\treturn {\n\t\tget: get,\n\t\tbrighten: brighten,\n\t\trgba: rgba,\n\t\tsetOpacity: setOpacity\n\t};\n};\n\n\n/**\n * A wrapper object for SVG elements\n */\nfunction SVGElement() {}\n\nSVGElement.prototype = {\n\t/**\n\t * Initialize the SVG renderer\n\t * @param {Object} renderer\n\t * @param {String} nodeName\n\t */\n\tinit: function (renderer, nodeName) {\n\t\tvar wrapper = this;\n\t\twrapper.element = nodeName === 'span' ?\n\t\t\tcreateElement(nodeName) :\n\t\t\tdoc.createElementNS(SVG_NS, nodeName);\n\t\twrapper.renderer = renderer;\n\t\t/**\n\t\t * A collection of attribute setters. These methods, if defined, are called right before a certain\n\t\t * attribute is set on an element wrapper. Returning false prevents the default attribute\n\t\t * setter to run. Returning a value causes the default setter to set that value. Used in\n\t\t * Renderer.label.\n\t\t */\n\t\twrapper.attrSetters = {};\n\t},\n\t/**\n\t * Default base for animation\n\t */\n\topacity: 1,\n\t/**\n\t * Animate a given attribute\n\t * @param {Object} params\n\t * @param {Number} options The same options as in jQuery animation\n\t * @param {Function} complete Function to perform at the end of animation\n\t */\n\tanimate: function (params, options, complete) {\n\t\tvar animOptions = pick(options, globalAnimation, true);\n\t\tstop(this); // stop regardless of animation actually running, or reverting to .attr (#607)\n\t\tif (animOptions) {\n\t\t\tanimOptions = merge(animOptions);\n\t\t\tif (complete) { // allows using a callback with the global animation without overwriting it\n\t\t\t\tanimOptions.complete = complete;\n\t\t\t}\n\t\t\tanimate(this, params, animOptions);\n\t\t} else {\n\t\t\tthis.attr(params);\n\t\t\tif (complete) {\n\t\t\t\tcomplete();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Set or get a given attribute\n\t * @param {Object|String} hash\n\t * @param {Mixed|Undefined} val\n\t */\n\tattr: function (hash, val) {\n\t\tvar wrapper = this,\n\t\t\tkey,\n\t\t\tvalue,\n\t\t\tresult,\n\t\t\ti,\n\t\t\tchild,\n\t\t\telement = wrapper.element,\n\t\t\tnodeName = element.nodeName.toLowerCase(), // Android2 requires lower for \"text\"\n\t\t\trenderer = wrapper.renderer,\n\t\t\tskipAttr,\n\t\t\ttitleNode,\n\t\t\tattrSetters = wrapper.attrSetters,\n\t\t\tshadows = wrapper.shadows,\n\t\t\thasSetSymbolSize,\n\t\t\tdoTransform,\n\t\t\tret = wrapper;\n\n\t\t// single key-value pair\n\t\tif (isString(hash) && defined(val)) {\n\t\t\tkey = hash;\n\t\t\thash = {};\n\t\t\thash[key] = val;\n\t\t}\n\n\t\t// used as a getter: first argument is a string, second is undefined\n\t\tif (isString(hash)) {\n\t\t\tkey = hash;\n\t\t\tif (nodeName === 'circle') {\n\t\t\t\tkey = { x: 'cx', y: 'cy' }[key] || key;\n\t\t\t} else if (key === 'strokeWidth') {\n\t\t\t\tkey = 'stroke-width';\n\t\t\t}\n\t\t\tret = attr(element, key) || wrapper[key] || 0;\n\t\t\tif (key !== 'd' && key !== 'visibility' && key !== 'fill') { // 'd' is string in animation step\n\t\t\t\tret = parseFloat(ret);\n\t\t\t}\n\n\t\t// setter\n\t\t} else {\n\n\t\t\tfor (key in hash) {\n\t\t\t\tskipAttr = false; // reset\n\t\t\t\tvalue = hash[key];\n\n\t\t\t\t// check for a specific attribute setter\n\t\t\t\tresult = attrSetters[key] && attrSetters[key].call(wrapper, value, key);\n\n\t\t\t\tif (result !== false) {\n\t\t\t\t\tif (result !== UNDEFINED) {\n\t\t\t\t\t\tvalue = result; // the attribute setter has returned a new value to set\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// paths\n\t\t\t\t\tif (key === 'd') {\n\t\t\t\t\t\tif (value && value.join) { // join path\n\t\t\t\t\t\t\tvalue = value.join(' ');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/(NaN| {2}|^$)/.test(value)) {\n\t\t\t\t\t\t\tvalue = 'M 0 0';\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//wrapper.d = value; // shortcut for animations\n\n\t\t\t\t\t// update child tspans x values\n\t\t\t\t\t} else if (key === 'x' && nodeName === 'text') {\n\t\t\t\t\t\tfor (i = 0; i < element.childNodes.length; i++) {\n\t\t\t\t\t\t\tchild = element.childNodes[i];\n\t\t\t\t\t\t\t// if the x values are equal, the tspan represents a linebreak\n\t\t\t\t\t\t\tif (attr(child, 'x') === attr(element, 'x')) {\n\t\t\t\t\t\t\t\t//child.setAttribute('x', value);\n\t\t\t\t\t\t\t\tattr(child, 'x', value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if (wrapper.rotation && (key === 'x' || key === 'y')) {\n\t\t\t\t\t\tdoTransform = true;\n\n\t\t\t\t\t// apply gradients\n\t\t\t\t\t} else if (key === 'fill') {\n\t\t\t\t\t\tvalue = renderer.color(value, element, key);\n\n\t\t\t\t\t// circle x and y\n\t\t\t\t\t} else if (nodeName === 'circle' && (key === 'x' || key === 'y')) {\n\t\t\t\t\t\tkey = { x: 'cx', y: 'cy' }[key] || key;\n\n\t\t\t\t\t// rectangle border radius\n\t\t\t\t\t} else if (nodeName === 'rect' && key === 'r') {\n\t\t\t\t\t\tattr(element, {\n\t\t\t\t\t\t\trx: value,\n\t\t\t\t\t\t\try: value\n\t\t\t\t\t\t});\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// translation and text rotation\n\t\t\t\t\t} else if (key === 'translateX' || key === 'translateY' || key === 'rotation' ||\n\t\t\t\t\t\t\tkey === 'verticalAlign' || key === 'scaleX' || key === 'scaleY') {\n\t\t\t\t\t\tdoTransform = true;\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// apply opacity as subnode (required by legacy WebKit and Batik)\n\t\t\t\t\t} else if (key === 'stroke') {\n\t\t\t\t\t\tvalue = renderer.color(value, element, key);\n\n\t\t\t\t\t// emulate VML's dashstyle implementation\n\t\t\t\t\t} else if (key === 'dashstyle') {\n\t\t\t\t\t\tkey = 'stroke-dasharray';\n\t\t\t\t\t\tvalue = value && value.toLowerCase();\n\t\t\t\t\t\tif (value === 'solid') {\n\t\t\t\t\t\t\tvalue = NONE;\n\t\t\t\t\t\t} else if (value) {\n\t\t\t\t\t\t\tvalue = value\n\t\t\t\t\t\t\t\t.replace('shortdashdotdot', '3,1,1,1,1,1,')\n\t\t\t\t\t\t\t\t.replace('shortdashdot', '3,1,1,1')\n\t\t\t\t\t\t\t\t.replace('shortdot', '1,1,')\n\t\t\t\t\t\t\t\t.replace('shortdash', '3,1,')\n\t\t\t\t\t\t\t\t.replace('longdash', '8,3,')\n\t\t\t\t\t\t\t\t.replace(/dot/g, '1,3,')\n\t\t\t\t\t\t\t\t.replace('dash', '4,3,')\n\t\t\t\t\t\t\t\t.replace(/,$/, '')\n\t\t\t\t\t\t\t\t.split(','); // ending comma\n\n\t\t\t\t\t\t\ti = value.length;\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tvalue[i] = pInt(value[i]) * pick(hash['stroke-width'], wrapper['stroke-width']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = value.join(',');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// IE9/MooTools combo: MooTools returns objects instead of numbers and IE9 Beta 2\n\t\t\t\t\t// is unable to cast them. Test again with final IE9.\n\t\t\t\t\t} else if (key === 'width') {\n\t\t\t\t\t\tvalue = pInt(value);\n\n\t\t\t\t\t// Text alignment\n\t\t\t\t\t} else if (key === 'align') {\n\t\t\t\t\t\tkey = 'text-anchor';\n\t\t\t\t\t\tvalue = { left: 'start', center: 'middle', right: 'end' }[value];\n\n\t\t\t\t\t// Title requires a subnode, #431\n\t\t\t\t\t} else if (key === 'title') {\n\t\t\t\t\t\ttitleNode = element.getElementsByTagName('title')[0];\n\t\t\t\t\t\tif (!titleNode) {\n\t\t\t\t\t\t\ttitleNode = doc.createElementNS(SVG_NS, 'title');\n\t\t\t\t\t\t\telement.appendChild(titleNode);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttitleNode.textContent = value;\n\t\t\t\t\t}\n\n\t\t\t\t\t// jQuery animate changes case\n\t\t\t\t\tif (key === 'strokeWidth') {\n\t\t\t\t\t\tkey = 'stroke-width';\n\t\t\t\t\t}\n\n\t\t\t\t\t// In Chrome/Win < 6 as well as Batik, the stroke attribute can't be set when the stroke-\n\t\t\t\t\t// width is 0. #1369\n\t\t\t\t\tif (key === 'stroke-width' || key === 'stroke') {\n\t\t\t\t\t\twrapper[key] = value;\n\t\t\t\t\t\t// Only apply the stroke attribute if the stroke width is defined and larger than 0\n\t\t\t\t\t\tif (wrapper.stroke && wrapper['stroke-width']) {\n\t\t\t\t\t\t\tattr(element, 'stroke', wrapper.stroke);\n\t\t\t\t\t\t\tattr(element, 'stroke-width', wrapper['stroke-width']);\n\t\t\t\t\t\t\twrapper.hasStroke = true;\n\t\t\t\t\t\t} else if (key === 'stroke-width' && value === 0 && wrapper.hasStroke) {\n\t\t\t\t\t\t\telement.removeAttribute('stroke');\n\t\t\t\t\t\t\twrapper.hasStroke = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipAttr = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// symbols\n\t\t\t\t\tif (wrapper.symbolName && /^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(key)) {\n\n\n\t\t\t\t\t\tif (!hasSetSymbolSize) {\n\t\t\t\t\t\t\twrapper.symbolAttr(hash);\n\t\t\t\t\t\t\thasSetSymbolSize = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipAttr = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// let the shadow follow the main element\n\t\t\t\t\tif (shadows && /^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(key)) {\n\t\t\t\t\t\ti = shadows.length;\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\tattr(\n\t\t\t\t\t\t\t\tshadows[i],\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tkey === 'height' ?\n\t\t\t\t\t\t\t\t\tmathMax(value - (shadows[i].cutHeight || 0), 0) :\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// validate heights\n\t\t\t\t\tif ((key === 'width' || key === 'height') && nodeName === 'rect' && value < 0) {\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Record for animation and quick access without polling the DOM\n\t\t\t\t\twrapper[key] = value;\n\n\n\t\t\t\t\tif (key === 'text') {\n\t\t\t\t\t\t// Delete bBox memo when the text changes\n\t\t\t\t\t\tif (value !== wrapper.textStr) {\n\t\t\t\t\t\t\tdelete wrapper.bBox;\n\t\t\t\t\t\t}\n\t\t\t\t\t\twrapper.textStr = value;\n\t\t\t\t\t\tif (wrapper.added) {\n\t\t\t\t\t\t\trenderer.buildText(wrapper);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!skipAttr) {\n\t\t\t\t\t\tattr(element, key, value);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Update transform. Do this outside the loop to prevent redundant updating for batch setting\n\t\t\t// of attributes.\n\t\t\tif (doTransform) {\n\t\t\t\twrapper.updateTransform();\n\t\t\t}\n\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\n\t/**\n\t * Add a class name to an element\n\t */\n\taddClass: function (className) {\n\t\tvar element = this.element,\n\t\t\tcurrentClassName = attr(element, 'class') || '';\n\n\t\tif (currentClassName.indexOf(className) === -1) {\n\t\t\tattr(element, 'class', currentClassName + ' ' + className);\n\t\t}\n\t\treturn this;\n\t},\n\t/* hasClass and removeClass are not (yet) needed\n\thasClass: function (className) {\n\t\treturn attr(this.element, 'class').indexOf(className) !== -1;\n\t},\n\tremoveClass: function (className) {\n\t\tattr(this.element, 'class', attr(this.element, 'class').replace(className, ''));\n\t\treturn this;\n\t},\n\t*/\n\n\t/**\n\t * If one of the symbol size affecting parameters are changed,\n\t * check all the others only once for each call to an element's\n\t * .attr() method\n\t * @param {Object} hash\n\t */\n\tsymbolAttr: function (hash) {\n\t\tvar wrapper = this;\n\n\t\teach(['x', 'y', 'r', 'start', 'end', 'width', 'height', 'innerR', 'anchorX', 'anchorY'], function (key) {\n\t\t\twrapper[key] = pick(hash[key], wrapper[key]);\n\t\t});\n\n\t\twrapper.attr({\n\t\t\td: wrapper.renderer.symbols[wrapper.symbolName](\n\t\t\t\twrapper.x,\n\t\t\t\twrapper.y,\n\t\t\t\twrapper.width,\n\t\t\t\twrapper.height,\n\t\t\t\twrapper\n\t\t\t)\n\t\t});\n\t},\n\n\t/**\n\t * Apply a clipping path to this object\n\t * @param {String} id\n\t */\n\tclip: function (clipRect) {\n\t\treturn this.attr('clip-path', clipRect ? 'url(' + this.renderer.url + '#' + clipRect.id + ')' : NONE);\n\t},\n\n\t/**\n\t * Calculate the coordinates needed for drawing a rectangle crisply and return the\n\t * calculated attributes\n\t * @param {Number} strokeWidth\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} width\n\t * @param {Number} height\n\t */\n\tcrisp: function (strokeWidth, x, y, width, height) {\n\n\t\tvar wrapper = this,\n\t\t\tkey,\n\t\t\tattribs = {},\n\t\t\tvalues = {},\n\t\t\tnormalizer;\n\n\t\tstrokeWidth = strokeWidth || wrapper.strokeWidth || (wrapper.attr && wrapper.attr('stroke-width')) || 0;\n\t\tnormalizer = mathRound(strokeWidth) % 2 / 2; // mathRound because strokeWidth can sometimes have roundoff errors\n\n\t\t// normalize for crisp edges\n\t\tvalues.x = mathFloor(x || wrapper.x || 0) + normalizer;\n\t\tvalues.y = mathFloor(y || wrapper.y || 0) + normalizer;\n\t\tvalues.width = mathFloor((width || wrapper.width || 0) - 2 * normalizer);\n\t\tvalues.height = mathFloor((height || wrapper.height || 0) - 2 * normalizer);\n\t\tvalues.strokeWidth = strokeWidth;\n\n\t\tfor (key in values) {\n\t\t\tif (wrapper[key] !== values[key]) { // only set attribute if changed\n\t\t\t\twrapper[key] = attribs[key] = values[key];\n\t\t\t}\n\t\t}\n\n\t\treturn attribs;\n\t},\n\n\t/**\n\t * Set styles for the element\n\t * @param {Object} styles\n\t */\n\tcss: function (styles) {\n\t\t/*jslint unparam: true*//* allow unused param a in the regexp function below */\n\t\tvar elemWrapper = this,\n\t\t\telem = elemWrapper.element,\n\t\t\ttextWidth = styles && styles.width && elem.nodeName.toLowerCase() === 'text',\n\t\t\tn,\n\t\t\tserializedCss = '',\n\t\t\thyphenate = function (a, b) { return '-' + b.toLowerCase(); };\n\t\t/*jslint unparam: false*/\n\n\t\t// convert legacy\n\t\tif (styles && styles.color) {\n\t\t\tstyles.fill = styles.color;\n\t\t}\n\n\t\t// Merge the new styles with the old ones\n\t\tstyles = extend(\n\t\t\telemWrapper.styles,\n\t\t\tstyles\n\t\t);\n\n\t\t// store object\n\t\telemWrapper.styles = styles;\n\n\n\t\t// Don't handle line wrap on canvas\n\t\tif (useCanVG && textWidth) {\n\t\t\tdelete styles.width;\n\t\t}\n\n\t\t// serialize and set style attribute\n\t\tif (isIE && !hasSVG) { // legacy IE doesn't support setting style attribute\n\t\t\tif (textWidth) {\n\t\t\t\tdelete styles.width;\n\t\t\t}\n\t\t\tcss(elemWrapper.element, styles);\n\t\t} else {\n\t\t\tfor (n in styles) {\n\t\t\t\tserializedCss += n.replace(/([A-Z])/g, hyphenate) + ':' + styles[n] + ';';\n\t\t\t}\n\t\t\tattr(elem, 'style', serializedCss); // #1881\n\t\t}\n\n\n\t\t// re-build text\n\t\tif (textWidth && elemWrapper.added) {\n\t\t\telemWrapper.renderer.buildText(elemWrapper);\n\t\t}\n\n\t\treturn elemWrapper;\n\t},\n\n\t/**\n\t * Add an event listener\n\t * @param {String} eventType\n\t * @param {Function} handler\n\t */\n\ton: function (eventType, handler) {\n\t\tvar svgElement = this,\n\t\t\telement = svgElement.element;\n\t\t\n\t\t// touch\n\t\tif (hasTouch && eventType === 'click') {\n\t\t\telement.ontouchstart = function (e) {\t\t\t\n\t\t\t\tsvgElement.touchEventFired = Date.now();\t\t\t\t\n\t\t\t\te.preventDefault();\n\t\t\t\thandler.call(element, e);\n\t\t\t};\n\t\t\telement.onclick = function (e) {\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tif (userAgent.indexOf('Android') === -1 || Date.now() - (svgElement.touchEventFired || 0) > 1100) { // #2269\n\t\t\t\t\thandler.call(element, e);\n\t\t\t\t}\n\t\t\t};\t\t\t\n\t\t} else {\n\t\t\t// simplest possible event model for internal use\n\t\t\telement['on' + eventType] = handler;\n\t\t}\n\t\treturn this;\n\t},\n\n\t/**\n\t * Set the coordinates needed to draw a consistent radial gradient across\n\t * pie slices regardless of positioning inside the chart. The format is\n\t * [centerX, centerY, diameter] in pixels.\n\t */\n\tsetRadialReference: function (coordinates) {\n\t\tthis.element.radialReference = coordinates;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Move an object and its children by x and y values\n\t * @param {Number} x\n\t * @param {Number} y\n\t */\n\ttranslate: function (x, y) {\n\t\treturn this.attr({\n\t\t\ttranslateX: x,\n\t\t\ttranslateY: y\n\t\t});\n\t},\n\n\t/**\n\t * Invert a group, rotate and flip\n\t */\n\tinvert: function () {\n\t\tvar wrapper = this;\n\t\twrapper.inverted = true;\n\t\twrapper.updateTransform();\n\t\treturn wrapper;\n\t},\n\n\t/**\n\t * Apply CSS to HTML elements. This is used in text within SVG rendering and\n\t * by the VML renderer\n\t */\n\thtmlCss: function (styles) {\n\t\tvar wrapper = this,\n\t\t\telement = wrapper.element,\n\t\t\ttextWidth = styles && element.tagName === 'SPAN' && styles.width;\n\n\t\tif (textWidth) {\n\t\t\tdelete styles.width;\n\t\t\twrapper.textWidth = textWidth;\n\t\t\twrapper.updateTransform();\n\t\t}\n\n\t\twrapper.styles = extend(wrapper.styles, styles);\n\t\tcss(wrapper.element, styles);\n\n\t\treturn wrapper;\n\t},\n\n\n\n\t/**\n\t * VML and useHTML method for calculating the bounding box based on offsets\n\t * @param {Boolean} refresh Whether to force a fresh value from the DOM or to\n\t * use the cached value\n\t *\n\t * @return {Object} A hash containing values for x, y, width and height\n\t */\n\n\thtmlGetBBox: function () {\n\t\tvar wrapper = this,\n\t\t\telement = wrapper.element,\n\t\t\tbBox = wrapper.bBox;\n\n\t\t// faking getBBox in exported SVG in legacy IE\n\t\tif (!bBox) {\n\t\t\t// faking getBBox in exported SVG in legacy IE (is this a duplicate of the fix for #1079?)\n\t\t\tif (element.nodeName === 'text') {\n\t\t\t\telement.style.position = ABSOLUTE;\n\t\t\t}\n\n\t\t\tbBox = wrapper.bBox = {\n\t\t\t\tx: element.offsetLeft,\n\t\t\t\ty: element.offsetTop,\n\t\t\t\twidth: element.offsetWidth,\n\t\t\t\theight: element.offsetHeight\n\t\t\t};\n\t\t}\n\n\t\treturn bBox;\n\t},\n\n\t/**\n\t * VML override private method to update elements based on internal\n\t * properties based on SVG transform\n\t */\n\thtmlUpdateTransform: function () {\n\t\t// aligning non added elements is expensive\n\t\tif (!this.added) {\n\t\t\tthis.alignOnAdd = true;\n\t\t\treturn;\n\t\t}\n\n\t\tvar wrapper = this,\n\t\t\trenderer = wrapper.renderer,\n\t\t\telem = wrapper.element,\n\t\t\ttranslateX = wrapper.translateX || 0,\n\t\t\ttranslateY = wrapper.translateY || 0,\n\t\t\tx = wrapper.x || 0,\n\t\t\ty = wrapper.y || 0,\n\t\t\talign = wrapper.textAlign || 'left',\n\t\t\talignCorrection = { left: 0, center: 0.5, right: 1 }[align],\n\t\t\tnonLeft = align && align !== 'left',\n\t\t\tshadows = wrapper.shadows;\n\n\t\t// apply translate\n\t\tcss(elem, {\n\t\t\tmarginLeft: translateX,\n\t\t\tmarginTop: translateY\n\t\t});\n\t\tif (shadows) { // used in labels/tooltip\n\t\t\teach(shadows, function (shadow) {\n\t\t\t\tcss(shadow, {\n\t\t\t\t\tmarginLeft: translateX + 1,\n\t\t\t\t\tmarginTop: translateY + 1\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t// apply inversion\n\t\tif (wrapper.inverted) { // wrapper is a group\n\t\t\teach(elem.childNodes, function (child) {\n\t\t\t\trenderer.invertChild(child, elem);\n\t\t\t});\n\t\t}\n\n\t\tif (elem.tagName === 'SPAN') {\n\n\t\t\tvar width, height,\n\t\t\t\trotation = wrapper.rotation,\n\t\t\t\tbaseline,\n\t\t\t\tradians = 0,\n\t\t\t\tcostheta = 1,\n\t\t\t\tsintheta = 0,\n\t\t\t\tquad,\n\t\t\t\ttextWidth = pInt(wrapper.textWidth),\n\t\t\t\txCorr = wrapper.xCorr || 0,\n\t\t\t\tyCorr = wrapper.yCorr || 0,\n\t\t\t\tcurrentTextTransform = [rotation, align, elem.innerHTML, wrapper.textWidth].join(',');\n\n\t\t\tif (currentTextTransform !== wrapper.cTT) { // do the calculations and DOM access only if properties changed\n\n\t\t\t\tif (defined(rotation)) {\n\n\t\t\t\t\tradians = rotation * deg2rad; // deg to rad\n\t\t\t\t\tcostheta = mathCos(radians);\n\t\t\t\t\tsintheta = mathSin(radians);\n\n\t\t\t\t\twrapper.setSpanRotation(rotation, sintheta, costheta);\n\n\t\t\t\t}\n\n\t\t\t\twidth = pick(wrapper.elemWidth, elem.offsetWidth);\n\t\t\t\theight = pick(wrapper.elemHeight, elem.offsetHeight);\n\n\t\t\t\t// update textWidth\n\t\t\t\tif (width > textWidth && /[ \\-]/.test(elem.textContent || elem.innerText)) { // #983, #1254\n\t\t\t\t\tcss(elem, {\n\t\t\t\t\t\twidth: textWidth + PX,\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\twhiteSpace: 'normal'\n\t\t\t\t\t});\n\t\t\t\t\twidth = textWidth;\n\t\t\t\t}\n\n\t\t\t\t// correct x and y\n\t\t\t\tbaseline = renderer.fontMetrics(elem.style.fontSize).b;\n\t\t\t\txCorr = costheta < 0 && -width;\n\t\t\t\tyCorr = sintheta < 0 && -height;\n\n\t\t\t\t// correct for baseline and corners spilling out after rotation\n\t\t\t\tquad = costheta * sintheta < 0;\n\t\t\t\txCorr += sintheta * baseline * (quad ? 1 - alignCorrection : alignCorrection);\n\t\t\t\tyCorr -= costheta * baseline * (rotation ? (quad ? alignCorrection : 1 - alignCorrection) : 1);\n\n\t\t\t\t// correct for the length/height of the text\n\t\t\t\tif (nonLeft) {\n\t\t\t\t\txCorr -= width * alignCorrection * (costheta < 0 ? -1 : 1);\n\t\t\t\t\tif (rotation) {\n\t\t\t\t\t\tyCorr -= height * alignCorrection * (sintheta < 0 ? -1 : 1);\n\t\t\t\t\t}\n\t\t\t\t\tcss(elem, {\n\t\t\t\t\t\ttextAlign: align\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// record correction\n\t\t\t\twrapper.xCorr = xCorr;\n\t\t\t\twrapper.yCorr = yCorr;\n\t\t\t}\n\n\t\t\t// apply position with correction\n\t\t\tcss(elem, {\n\t\t\t\tleft: (x + xCorr) + PX,\n\t\t\t\ttop: (y + yCorr) + PX\n\t\t\t});\n\n\t\t\t// force reflow in webkit to apply the left and top on useHTML element (#1249)\n\t\t\tif (isWebKit) {\n\t\t\t\theight = elem.offsetHeight; // assigned to height for JSLint purpose\n\t\t\t}\n\n\t\t\t// record current text transform\n\t\t\twrapper.cTT = currentTextTransform;\n\t\t}\n\t},\n\n\t/**\n\t * Set the rotation of an individual HTML span\n\t */\n\tsetSpanRotation: function (rotation) {\n\t\tvar rotationStyle = {},\n\t\t\tcssTransformKey = isIE ? '-ms-transform' : isWebKit ? '-webkit-transform' : isFirefox ? 'MozTransform' : isOpera ? '-o-transform' : '';\n\n\t\trotationStyle[cssTransformKey] = rotationStyle.transform = 'rotate(' + rotation + 'deg)';\n\t\tcss(this.element, rotationStyle);\n\t},\n\n\t/**\n\t * Private method to update the transform attribute based on internal\n\t * properties\n\t */\n\tupdateTransform: function () {\n\t\tvar wrapper = this,\n\t\t\ttranslateX = wrapper.translateX || 0,\n\t\t\ttranslateY = wrapper.translateY || 0,\n\t\t\tscaleX = wrapper.scaleX,\n\t\t\tscaleY = wrapper.scaleY,\n\t\t\tinverted = wrapper.inverted,\n\t\t\trotation = wrapper.rotation,\n\t\t\ttransform;\n\n\t\t// flipping affects translate as adjustment for flipping around the group's axis\n\t\tif (inverted) {\n\t\t\ttranslateX += wrapper.attr('width');\n\t\t\ttranslateY += wrapper.attr('height');\n\t\t}\n\n\t\t// Apply translate. Nearly all transformed elements have translation, so instead\n\t\t// of checking for translate = 0, do it always (#1767, #1846).\n\t\ttransform = ['translate(' + translateX + ',' + translateY + ')'];\n\n\t\t// apply rotation\n\t\tif (inverted) {\n\t\t\ttransform.push('rotate(90) scale(-1,1)');\n\t\t} else if (rotation) { // text rotation\n\t\t\ttransform.push('rotate(' + rotation + ' ' + (wrapper.x || 0) + ' ' + (wrapper.y || 0) + ')');\n\t\t}\n\n\t\t// apply scale\n\t\tif (defined(scaleX) || defined(scaleY)) {\n\t\t\ttransform.push('scale(' + pick(scaleX, 1) + ' ' + pick(scaleY, 1) + ')');\n\t\t}\n\n\t\tif (transform.length) {\n\t\t\tattr(wrapper.element, 'transform', transform.join(' '));\n\t\t}\n\t},\n\t/**\n\t * Bring the element to the front\n\t */\n\ttoFront: function () {\n\t\tvar element = this.element;\n\t\telement.parentNode.appendChild(element);\n\t\treturn this;\n\t},\n\n\n\t/**\n\t * Break down alignment options like align, verticalAlign, x and y\n\t * to x and y relative to the chart.\n\t *\n\t * @param {Object} alignOptions\n\t * @param {Boolean} alignByTranslate\n\t * @param {String[Object} box The box to align to, needs a width and height. When the\n\t *        box is a string, it refers to an object in the Renderer. For example, when\n\t *        box is 'spacingBox', it refers to Renderer.spacingBox which holds width, height\n\t *        x and y properties.\n\t *\n\t */\n\talign: function (alignOptions, alignByTranslate, box) {\n\t\tvar align,\n\t\t\tvAlign,\n\t\t\tx,\n\t\t\ty,\n\t\t\tattribs = {},\n\t\t\talignTo,\n\t\t\trenderer = this.renderer,\n\t\t\talignedObjects = renderer.alignedObjects;\n\n\t\t// First call on instanciate\n\t\tif (alignOptions) {\n\t\t\tthis.alignOptions = alignOptions;\n\t\t\tthis.alignByTranslate = alignByTranslate;\n\t\t\tif (!box || isString(box)) { // boxes other than renderer handle this internally\n\t\t\t\tthis.alignTo = alignTo = box || 'renderer';\n\t\t\t\terase(alignedObjects, this); // prevent duplicates, like legendGroup after resize\n\t\t\t\talignedObjects.push(this);\n\t\t\t\tbox = null; // reassign it below\n\t\t\t}\n\n\t\t// When called on resize, no arguments are supplied\n\t\t} else {\n\t\t\talignOptions = this.alignOptions;\n\t\t\talignByTranslate = this.alignByTranslate;\n\t\t\talignTo = this.alignTo;\n\t\t}\n\n\t\tbox = pick(box, renderer[alignTo], renderer);\n\n\t\t// Assign variables\n\t\talign = alignOptions.align;\n\t\tvAlign = alignOptions.verticalAlign;\n\t\tx = (box.x || 0) + (alignOptions.x || 0); // default: left align\n\t\ty = (box.y || 0) + (alignOptions.y || 0); // default: top align\n\n\t\t// Align\n\t\tif (align === 'right' || align === 'center') {\n\t\t\tx += (box.width - (alignOptions.width || 0)) /\n\t\t\t\t\t{ right: 1, center: 2 }[align];\n\t\t}\n\t\tattribs[alignByTranslate ? 'translateX' : 'x'] = mathRound(x);\n\n\n\t\t// Vertical align\n\t\tif (vAlign === 'bottom' || vAlign === 'middle') {\n\t\t\ty += (box.height - (alignOptions.height || 0)) /\n\t\t\t\t\t({ bottom: 1, middle: 2 }[vAlign] || 1);\n\n\t\t}\n\t\tattribs[alignByTranslate ? 'translateY' : 'y'] = mathRound(y);\n\n\t\t// Animate only if already placed\n\t\tthis[this.placed ? 'animate' : 'attr'](attribs);\n\t\tthis.placed = true;\n\t\tthis.alignAttr = attribs;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Get the bounding box (width, height, x and y) for the element\n\t */\n\tgetBBox: function () {\n\t\tvar wrapper = this,\n\t\t\tbBox = wrapper.bBox,\n\t\t\trenderer = wrapper.renderer,\n\t\t\twidth,\n\t\t\theight,\n\t\t\trotation = wrapper.rotation,\n\t\t\telement = wrapper.element,\n\t\t\tstyles = wrapper.styles,\n\t\t\trad = rotation * deg2rad;\n\n\t\tif (!bBox) {\n\t\t\t// SVG elements\n\t\t\tif (element.namespaceURI === SVG_NS || renderer.forExport) {\n\t\t\t\ttry { // Fails in Firefox if the container has display: none.\n\n\t\t\t\t\tbBox = element.getBBox ?\n\t\t\t\t\t\t// SVG: use extend because IE9 is not allowed to change width and height in case\n\t\t\t\t\t\t// of rotation (below)\n\t\t\t\t\t\textend({}, element.getBBox()) :\n\t\t\t\t\t\t// Canvas renderer and legacy IE in export mode\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\twidth: element.offsetWidth,\n\t\t\t\t\t\t\theight: element.offsetHeight\n\t\t\t\t\t\t};\n\t\t\t\t} catch (e) {}\n\n\t\t\t\t// If the bBox is not set, the try-catch block above failed. The other condition\n\t\t\t\t// is for Opera that returns a width of -Infinity on hidden elements.\n\t\t\t\tif (!bBox || bBox.width < 0) {\n\t\t\t\t\tbBox = { width: 0, height: 0 };\n\t\t\t\t}\n\n\n\t\t\t// VML Renderer or useHTML within SVG\n\t\t\t} else {\n\n\t\t\t\tbBox = wrapper.htmlGetBBox();\n\n\t\t\t}\n\n\t\t\t// True SVG elements as well as HTML elements in modern browsers using the .useHTML option\n\t\t\t// need to compensated for rotation\n\t\t\tif (renderer.isSVG) {\n\t\t\t\twidth = bBox.width;\n\t\t\t\theight = bBox.height;\n\n\t\t\t\t// Workaround for wrong bounding box in IE9 and IE10 (#1101, #1505, #1669)\n\t\t\t\tif (isIE && styles && styles.fontSize === '11px' && height.toPrecision(3) === '22.7') {\n\t\t\t\t\tbBox.height = height = 14;\n\t\t\t\t}\n\n\t\t\t\t// Adjust for rotated text\n\t\t\t\tif (rotation) {\n\t\t\t\t\tbBox.width = mathAbs(height * mathSin(rad)) + mathAbs(width * mathCos(rad));\n\t\t\t\t\tbBox.height = mathAbs(height * mathCos(rad)) + mathAbs(width * mathSin(rad));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twrapper.bBox = bBox;\n\t\t}\n\t\treturn bBox;\n\t},\n\n\t/**\n\t * Show the element\n\t */\n\tshow: function () {\n\t\treturn this.attr({ visibility: VISIBLE });\n\t},\n\n\t/**\n\t * Hide the element\n\t */\n\thide: function () {\n\t\treturn this.attr({ visibility: HIDDEN });\n\t},\n\n\tfadeOut: function (duration) {\n\t\tvar elemWrapper = this;\n\t\telemWrapper.animate({\n\t\t\topacity: 0\n\t\t}, {\n\t\t\tduration: duration || 150,\n\t\t\tcomplete: function () {\n\t\t\t\telemWrapper.hide();\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Add the element\n\t * @param {Object|Undefined} parent Can be an element, an element wrapper or undefined\n\t *    to append the element to the renderer.box.\n\t */\n\tadd: function (parent) {\n\n\t\tvar renderer = this.renderer,\n\t\t\tparentWrapper = parent || renderer,\n\t\t\tparentNode = parentWrapper.element || renderer.box,\n\t\t\tchildNodes = parentNode.childNodes,\n\t\t\telement = this.element,\n\t\t\tzIndex = attr(element, 'zIndex'),\n\t\t\totherElement,\n\t\t\totherZIndex,\n\t\t\ti,\n\t\t\tinserted;\n\n\t\tif (parent) {\n\t\t\tthis.parentGroup = parent;\n\t\t}\n\n\t\t// mark as inverted\n\t\tthis.parentInverted = parent && parent.inverted;\n\n\t\t// build formatted text\n\t\tif (this.textStr !== undefined) {\n\t\t\trenderer.buildText(this);\n\t\t}\n\n\t\t// mark the container as having z indexed children\n\t\tif (zIndex) {\n\t\t\tparentWrapper.handleZ = true;\n\t\t\tzIndex = pInt(zIndex);\n\t\t}\n\n\t\t// insert according to this and other elements' zIndex\n\t\tif (parentWrapper.handleZ) { // this element or any of its siblings has a z index\n\t\t\tfor (i = 0; i < childNodes.length; i++) {\n\t\t\t\totherElement = childNodes[i];\n\t\t\t\totherZIndex = attr(otherElement, 'zIndex');\n\t\t\t\tif (otherElement !== element && (\n\t\t\t\t\t\t// insert before the first element with a higher zIndex\n\t\t\t\t\t\tpInt(otherZIndex) > zIndex ||\n\t\t\t\t\t\t// if no zIndex given, insert before the first element with a zIndex\n\t\t\t\t\t\t(!defined(zIndex) && defined(otherZIndex))\n\n\t\t\t\t\t\t)) {\n\t\t\t\t\tparentNode.insertBefore(element, otherElement);\n\t\t\t\t\tinserted = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// default: append at the end\n\t\tif (!inserted) {\n\t\t\tparentNode.appendChild(element);\n\t\t}\n\n\t\t// mark as added\n\t\tthis.added = true;\n\n\t\t// fire an event for internal hooks\n\t\tfireEvent(this, 'add');\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Removes a child either by removeChild or move to garbageBin.\n\t * Issue 490; in VML removeChild results in Orphaned nodes according to sIEve, discardElement does not.\n\t */\n\tsafeRemoveChild: function (element) {\n\t\tvar parentNode = element.parentNode;\n\t\tif (parentNode) {\n\t\t\tparentNode.removeChild(element);\n\t\t}\n\t},\n\n\t/**\n\t * Destroy the element and element wrapper\n\t */\n\tdestroy: function () {\n\t\tvar wrapper = this,\n\t\t\telement = wrapper.element || {},\n\t\t\tshadows = wrapper.shadows,\n\t\t\tparentToClean = wrapper.renderer.isSVG && element.nodeName === 'SPAN' && element.parentNode,\n\t\t\tgrandParent,\n\t\t\tkey,\n\t\t\ti;\n\n\t\t// remove events\n\t\telement.onclick = element.onmouseout = element.onmouseover = element.onmousemove = element.point = null;\n\t\tstop(wrapper); // stop running animations\n\n\t\tif (wrapper.clipPath) {\n\t\t\twrapper.clipPath = wrapper.clipPath.destroy();\n\t\t}\n\n\t\t// Destroy stops in case this is a gradient object\n\t\tif (wrapper.stops) {\n\t\t\tfor (i = 0; i < wrapper.stops.length; i++) {\n\t\t\t\twrapper.stops[i] = wrapper.stops[i].destroy();\n\t\t\t}\n\t\t\twrapper.stops = null;\n\t\t}\n\n\t\t// remove element\n\t\twrapper.safeRemoveChild(element);\n\n\t\t// destroy shadows\n\t\tif (shadows) {\n\t\t\teach(shadows, function (shadow) {\n\t\t\t\twrapper.safeRemoveChild(shadow);\n\t\t\t});\n\t\t}\n\n\t\t// In case of useHTML, clean up empty containers emulating SVG groups (#1960).\n\t\twhile (parentToClean && parentToClean.childNodes.length === 0) {\n\t\t\tgrandParent = parentToClean.parentNode;\n\t\t\twrapper.safeRemoveChild(parentToClean);\n\t\t\tparentToClean = grandParent;\n\t\t}\n\n\t\t// remove from alignObjects\n\t\tif (wrapper.alignTo) {\n\t\t\terase(wrapper.renderer.alignedObjects, wrapper);\n\t\t}\n\n\t\tfor (key in wrapper) {\n\t\t\tdelete wrapper[key];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Add a shadow to the element. Must be done after the element is added to the DOM\n\t * @param {Boolean|Object} shadowOptions\n\t */\n\tshadow: function (shadowOptions, group, cutOff) {\n\t\tvar shadows = [],\n\t\t\ti,\n\t\t\tshadow,\n\t\t\telement = this.element,\n\t\t\tstrokeWidth,\n\t\t\tshadowWidth,\n\t\t\tshadowElementOpacity,\n\n\t\t\t// compensate for inverted plot area\n\t\t\ttransform;\n\n\n\t\tif (shadowOptions) {\n\t\t\tshadowWidth = pick(shadowOptions.width, 3);\n\t\t\tshadowElementOpacity = (shadowOptions.opacity || 0.15) / shadowWidth;\n\t\t\ttransform = this.parentInverted ?\n\t\t\t\t'(-1,-1)' :\n\t\t\t\t'(' + pick(shadowOptions.offsetX, 1) + ', ' + pick(shadowOptions.offsetY, 1) + ')';\n\t\t\tfor (i = 1; i <= shadowWidth; i++) {\n\t\t\t\tshadow = element.cloneNode(0);\n\t\t\t\tstrokeWidth = (shadowWidth * 2) + 1 - (2 * i);\n\t\t\t\tattr(shadow, {\n\t\t\t\t\t'isShadow': 'true',\n\t\t\t\t\t'stroke': shadowOptions.color || 'black',\n\t\t\t\t\t'stroke-opacity': shadowElementOpacity * i,\n\t\t\t\t\t'stroke-width': strokeWidth,\n\t\t\t\t\t'transform': 'translate' + transform,\n\t\t\t\t\t'fill': NONE\n\t\t\t\t});\n\t\t\t\tif (cutOff) {\n\t\t\t\t\tattr(shadow, 'height', mathMax(attr(shadow, 'height') - strokeWidth, 0));\n\t\t\t\t\tshadow.cutHeight = strokeWidth;\n\t\t\t\t}\n\n\t\t\t\tif (group) {\n\t\t\t\t\tgroup.element.appendChild(shadow);\n\t\t\t\t} else {\n\t\t\t\t\telement.parentNode.insertBefore(shadow, element);\n\t\t\t\t}\n\n\t\t\t\tshadows.push(shadow);\n\t\t\t}\n\n\t\t\tthis.shadows = shadows;\n\t\t}\n\t\treturn this;\n\n\t}\n};\n\n\n/**\n * The default SVG renderer\n */\nvar SVGRenderer = function () {\n\tthis.init.apply(this, arguments);\n};\nSVGRenderer.prototype = {\n\tElement: SVGElement,\n\n\t/**\n\t * Initialize the SVGRenderer\n\t * @param {Object} container\n\t * @param {Number} width\n\t * @param {Number} height\n\t * @param {Boolean} forExport\n\t */\n\tinit: function (container, width, height, forExport) {\n\t\tvar renderer = this,\n\t\t\tloc = location,\n\t\t\tboxWrapper,\n\t\t\telement,\n\t\t\tdesc;\n\n\t\tboxWrapper = renderer.createElement('svg')\n\t\t\t.attr({\n\t\t\t\tversion: '1.1'\n\t\t\t});\n\t\telement = boxWrapper.element;\n\t\tcontainer.appendChild(element);\n\n\t\t// For browsers other than IE, add the namespace attribute (#1978)\n\t\tif (container.innerHTML.indexOf('xmlns') === -1) {\n\t\t\tattr(element, 'xmlns', SVG_NS);\n\t\t}\n\n\t\t// object properties\n\t\trenderer.isSVG = true;\n\t\trenderer.box = element;\n\t\trenderer.boxWrapper = boxWrapper;\n\t\trenderer.alignedObjects = [];\n\n\t\t// Page url used for internal references. #24, #672, #1070\n\t\trenderer.url = (isFirefox || isWebKit) && doc.getElementsByTagName('base').length ?\n\t\t\tloc.href\n\t\t\t\t.replace(/#.*?$/, '') // remove the hash\n\t\t\t\t.replace(/([\\('\\)])/g, '\\\\$1') // escape parantheses and quotes\n\t\t\t\t.replace(/ /g, '%20') : // replace spaces (needed for Safari only)\n\t\t\t'';\n\n\t\t// Add description\n\t\tdesc = this.createElement('desc').add();\n\t\tdesc.element.appendChild(doc.createTextNode('Created with ' + PRODUCT + ' ' + VERSION));\n\n\n\t\trenderer.defs = this.createElement('defs').add();\n\t\trenderer.forExport = forExport;\n\t\trenderer.gradients = {}; // Object where gradient SvgElements are stored\n\n\t\trenderer.setSize(width, height, false);\n\n\n\n\t\t// Issue 110 workaround:\n\t\t// In Firefox, if a div is positioned by percentage, its pixel position may land\n\t\t// between pixels. The container itself doesn't display this, but an SVG element\n\t\t// inside this container will be drawn at subpixel precision. In order to draw\n\t\t// sharp lines, this must be compensated for. This doesn't seem to work inside\n\t\t// iframes though (like in jsFiddle).\n\t\tvar subPixelFix, rect;\n\t\tif (isFirefox && container.getBoundingClientRect) {\n\t\t\trenderer.subPixelFix = subPixelFix = function () {\n\t\t\t\tcss(container, { left: 0, top: 0 });\n\t\t\t\trect = container.getBoundingClientRect();\n\t\t\t\tcss(container, {\n\t\t\t\t\tleft: (mathCeil(rect.left) - rect.left) + PX,\n\t\t\t\t\ttop: (mathCeil(rect.top) - rect.top) + PX\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// run the fix now\n\t\t\tsubPixelFix();\n\n\t\t\t// run it on resize\n\t\t\taddEvent(win, 'resize', subPixelFix);\n\t\t}\n\t},\n\n\t/**\n\t * Detect whether the renderer is hidden. This happens when one of the parent elements\n\t * has display: none. #608.\n\t */\n\tisHidden: function () {\n\t\treturn !this.boxWrapper.getBBox().width;\n\t},\n\n\t/**\n\t * Destroys the renderer and its allocated members.\n\t */\n\tdestroy: function () {\n\t\tvar renderer = this,\n\t\t\trendererDefs = renderer.defs;\n\t\trenderer.box = null;\n\t\trenderer.boxWrapper = renderer.boxWrapper.destroy();\n\n\t\t// Call destroy on all gradient elements\n\t\tdestroyObjectProperties(renderer.gradients || {});\n\t\trenderer.gradients = null;\n\n\t\t// Defs are null in VMLRenderer\n\t\t// Otherwise, destroy them here.\n\t\tif (rendererDefs) {\n\t\t\trenderer.defs = rendererDefs.destroy();\n\t\t}\n\n\t\t// Remove sub pixel fix handler\n\t\t// We need to check that there is a handler, otherwise all functions that are registered for event 'resize' are removed\n\t\t// See issue #982\n\t\tif (renderer.subPixelFix) {\n\t\t\tremoveEvent(win, 'resize', renderer.subPixelFix);\n\t\t}\n\n\t\trenderer.alignedObjects = null;\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Create a wrapper for an SVG element\n\t * @param {Object} nodeName\n\t */\n\tcreateElement: function (nodeName) {\n\t\tvar wrapper = new this.Element();\n\t\twrapper.init(this, nodeName);\n\t\treturn wrapper;\n\t},\n\n\t/**\n\t * Dummy function for use in canvas renderer\n\t */\n\tdraw: function () {},\n\n\t/**\n\t * Parse a simple HTML string into SVG tspans\n\t *\n\t * @param {Object} textNode The parent text SVG node\n\t */\n\tbuildText: function (wrapper) {\n\t\tvar textNode = wrapper.element,\n\t\t\trenderer = this,\n\t\t\tforExport = renderer.forExport,\n\t\t\tlines = pick(wrapper.textStr, '').toString()\n\t\t\t\t.replace(/<(b|strong)>/g, '<span style=\"font-weight:bold\">')\n\t\t\t\t.replace(/<(i|em)>/g, '<span style=\"font-style:italic\">')\n\t\t\t\t.replace(/<a/g, '<span')\n\t\t\t\t.replace(/<\\/(b|strong|i|em|a)>/g, '</span>')\n\t\t\t\t.split(/<br.*?>/g),\n\t\t\tchildNodes = textNode.childNodes,\n\t\t\tstyleRegex = /style=\"([^\"]+)\"/,\n\t\t\threfRegex = /href=\"(http[^\"]+)\"/,\n\t\t\tparentX = attr(textNode, 'x'),\n\t\t\ttextStyles = wrapper.styles,\n\t\t\twidth = textStyles && textStyles.width && pInt(textStyles.width),\n\t\t\ttextLineHeight = textStyles && textStyles.lineHeight,\n\t\t\ti = childNodes.length;\n\n\t\t/// remove old text\n\t\twhile (i--) {\n\t\t\ttextNode.removeChild(childNodes[i]);\n\t\t}\n\n\t\tif (width && !wrapper.added) {\n\t\t\tthis.box.appendChild(textNode); // attach it to the DOM to read offset width\n\t\t}\n\n\t\t// remove empty line at end\n\t\tif (lines[lines.length - 1] === '') {\n\t\t\tlines.pop();\n\t\t}\n\n\t\t// build the lines\n\t\teach(lines, function (line, lineNo) {\n\t\t\tvar spans, spanNo = 0;\n\n\t\t\tline = line.replace(/<span/g, '|||<span').replace(/<\\/span>/g, '</span>|||');\n\t\t\tspans = line.split('|||');\n\n\t\t\teach(spans, function (span) {\n\t\t\t\tif (span !== '' || spans.length === 1) {\n\t\t\t\t\tvar attributes = {},\n\t\t\t\t\t\ttspan = doc.createElementNS(SVG_NS, 'tspan'),\n\t\t\t\t\t\tspanStyle; // #390\n\t\t\t\t\tif (styleRegex.test(span)) {\n\t\t\t\t\t\tspanStyle = span.match(styleRegex)[1].replace(/(;| |^)color([ :])/, '$1fill$2');\n\t\t\t\t\t\tattr(tspan, 'style', spanStyle);\n\t\t\t\t\t}\n\t\t\t\t\tif (hrefRegex.test(span) && !forExport) { // Not for export - #1529\n\t\t\t\t\t\tattr(tspan, 'onclick', 'location.href=\\\"' + span.match(hrefRegex)[1] + '\\\"');\n\t\t\t\t\t\tcss(tspan, { cursor: 'pointer' });\n\t\t\t\t\t}\n\n\t\t\t\t\tspan = (span.replace(/<(.|\\n)*?>/g, '') || ' ')\n\t\t\t\t\t\t.replace(/&lt;/g, '<')\n\t\t\t\t\t\t.replace(/&gt;/g, '>');\n\n\t\t\t\t\t// Nested tags aren't supported, and cause crash in Safari (#1596)\n\t\t\t\t\tif (span !== ' ') {\n\n\t\t\t\t\t\t// add the text node\n\t\t\t\t\t\ttspan.appendChild(doc.createTextNode(span));\n\n\t\t\t\t\t\tif (!spanNo) { // first span in a line, align it to the left\n\t\t\t\t\t\t\tattributes.x = parentX;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tattributes.dx = 0; // #16\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// add attributes\n\t\t\t\t\t\tattr(tspan, attributes);\n\n\t\t\t\t\t\t// first span on subsequent line, add the line height\n\t\t\t\t\t\tif (!spanNo && lineNo) {\n\n\t\t\t\t\t\t\t// allow getting the right offset height in exporting in IE\n\t\t\t\t\t\t\tif (!hasSVG && forExport) {\n\t\t\t\t\t\t\t\tcss(tspan, { display: 'block' });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Set the line height based on the font size of either\n\t\t\t\t\t\t\t// the text element or the tspan element\n\t\t\t\t\t\t\tattr(\n\t\t\t\t\t\t\t\ttspan,\n\t\t\t\t\t\t\t\t'dy',\n\t\t\t\t\t\t\t\ttextLineHeight || renderer.fontMetrics(\n\t\t\t\t\t\t\t\t\t/px$/.test(tspan.style.fontSize) ?\n\t\t\t\t\t\t\t\t\t\ttspan.style.fontSize :\n\t\t\t\t\t\t\t\t\t\ttextStyles.fontSize\n\t\t\t\t\t\t\t\t).h,\n\t\t\t\t\t\t\t\t// Safari 6.0.2 - too optimized for its own good (#1539)\n\t\t\t\t\t\t\t\t// TODO: revisit this with future versions of Safari\n\t\t\t\t\t\t\t\tisWebKit && tspan.offsetHeight\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Append it\n\t\t\t\t\t\ttextNode.appendChild(tspan);\n\n\t\t\t\t\t\tspanNo++;\n\n\t\t\t\t\t\t// check width and apply soft breaks\n\t\t\t\t\t\tif (width) {\n\t\t\t\t\t\t\tvar words = span.replace(/([^\\^])-/g, '$1- ').split(' '), // #1273\n\t\t\t\t\t\t\t\ttooLong,\n\t\t\t\t\t\t\t\tactualWidth,\n\t\t\t\t\t\t\t\tclipHeight = wrapper._clipHeight,\n\t\t\t\t\t\t\t\trest = [],\n\t\t\t\t\t\t\t\tdy = pInt(textLineHeight || 16),\n\t\t\t\t\t\t\t\tsoftLineNo = 1,\n\t\t\t\t\t\t\t\tbBox;\n\n\t\t\t\t\t\t\twhile (words.length || rest.length) {\n\t\t\t\t\t\t\t\tdelete wrapper.bBox; // delete cache\n\t\t\t\t\t\t\t\tbBox = wrapper.getBBox();\n\t\t\t\t\t\t\t\tactualWidth = bBox.width;\n\t\t\t\t\t\t\t\ttooLong = actualWidth > width;\n\t\t\t\t\t\t\t\tif (!tooLong || words.length === 1) { // new line needed\n\t\t\t\t\t\t\t\t\twords = rest;\n\t\t\t\t\t\t\t\t\trest = [];\n\t\t\t\t\t\t\t\t\tif (words.length) {\n\t\t\t\t\t\t\t\t\t\tsoftLineNo++;\n\n\t\t\t\t\t\t\t\t\t\tif (clipHeight && softLineNo * dy > clipHeight) {\n\t\t\t\t\t\t\t\t\t\t\twords = ['...'];\n\t\t\t\t\t\t\t\t\t\t\twrapper.attr('title', wrapper.textStr);\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\ttspan = doc.createElementNS(SVG_NS, 'tspan');\n\t\t\t\t\t\t\t\t\t\t\tattr(tspan, {\n\t\t\t\t\t\t\t\t\t\t\t\tdy: dy,\n\t\t\t\t\t\t\t\t\t\t\t\tx: parentX\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tif (spanStyle) { // #390\n\t\t\t\t\t\t\t\t\t\t\t\tattr(tspan, 'style', spanStyle);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ttextNode.appendChild(tspan);\n\n\t\t\t\t\t\t\t\t\t\t\tif (actualWidth > width) { // a single word is pressing it out\n\t\t\t\t\t\t\t\t\t\t\t\twidth = actualWidth;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else { // append to existing line tspan\n\t\t\t\t\t\t\t\t\ttspan.removeChild(tspan.firstChild);\n\t\t\t\t\t\t\t\t\trest.unshift(words.pop());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (words.length) {\n\t\t\t\t\t\t\t\t\ttspan.appendChild(doc.createTextNode(words.join(' ').replace(/- /g, '-')));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Create a button with preset states\n\t * @param {String} text\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Function} callback\n\t * @param {Object} normalState\n\t * @param {Object} hoverState\n\t * @param {Object} pressedState\n\t */\n\tbutton: function (text, x, y, callback, normalState, hoverState, pressedState, disabledState) {\n\t\tvar label = this.label(text, x, y, null, null, null, null, null, 'button'),\n\t\t\tcurState = 0,\n\t\t\tstateOptions,\n\t\t\tstateStyle,\n\t\t\tnormalStyle,\n\t\t\thoverStyle,\n\t\t\tpressedStyle,\n\t\t\tdisabledStyle,\n\t\t\tSTYLE = 'style',\n\t\t\tverticalGradient = { x1: 0, y1: 0, x2: 0, y2: 1 };\n\n\t\t// Normal state - prepare the attributes\n\t\tnormalState = merge({\n\t\t\t'stroke-width': 1,\n\t\t\tstroke: '#CCCCCC',\n\t\t\tfill: {\n\t\t\t\tlinearGradient: verticalGradient,\n\t\t\t\tstops: [\n\t\t\t\t\t[0, '#FEFEFE'],\n\t\t\t\t\t[1, '#F6F6F6']\n\t\t\t\t]\n\t\t\t},\n\t\t\tr: 2,\n\t\t\tpadding: 5,\n\t\t\tstyle: {\n\t\t\t\tcolor: 'black'\n\t\t\t}\n\t\t}, normalState);\n\t\tnormalStyle = normalState[STYLE];\n\t\tdelete normalState[STYLE];\n\n\t\t// Hover state\n\t\thoverState = merge(normalState, {\n\t\t\tstroke: '#68A',\n\t\t\tfill: {\n\t\t\t\tlinearGradient: verticalGradient,\n\t\t\t\tstops: [\n\t\t\t\t\t[0, '#FFF'],\n\t\t\t\t\t[1, '#ACF']\n\t\t\t\t]\n\t\t\t}\n\t\t}, hoverState);\n\t\thoverStyle = hoverState[STYLE];\n\t\tdelete hoverState[STYLE];\n\n\t\t// Pressed state\n\t\tpressedState = merge(normalState, {\n\t\t\tstroke: '#68A',\n\t\t\tfill: {\n\t\t\t\tlinearGradient: verticalGradient,\n\t\t\t\tstops: [\n\t\t\t\t\t[0, '#9BD'],\n\t\t\t\t\t[1, '#CDF']\n\t\t\t\t]\n\t\t\t}\n\t\t}, pressedState);\n\t\tpressedStyle = pressedState[STYLE];\n\t\tdelete pressedState[STYLE];\n\n\t\t// Disabled state\n\t\tdisabledState = merge(normalState, {\n\t\t\tstyle: {\n\t\t\t\tcolor: '#CCC'\n\t\t\t}\n\t\t}, disabledState);\n\t\tdisabledStyle = disabledState[STYLE];\n\t\tdelete disabledState[STYLE];\n\n\t\t// Add the events. IE9 and IE10 need mouseover and mouseout to funciton (#667).\n\t\taddEvent(label.element, isIE ? 'mouseover' : 'mouseenter', function () {\n\t\t\tif (curState !== 3) {\n\t\t\t\tlabel.attr(hoverState)\n\t\t\t\t\t.css(hoverStyle);\n\t\t\t}\n\t\t});\n\t\taddEvent(label.element, isIE ? 'mouseout' : 'mouseleave', function () {\n\t\t\tif (curState !== 3) {\n\t\t\t\tstateOptions = [normalState, hoverState, pressedState][curState];\n\t\t\t\tstateStyle = [normalStyle, hoverStyle, pressedStyle][curState];\n\t\t\t\tlabel.attr(stateOptions)\n\t\t\t\t\t.css(stateStyle);\n\t\t\t}\n\t\t});\n\n\t\tlabel.setState = function (state) {\n\t\t\tlabel.state = curState = state;\n\t\t\tif (!state) {\n\t\t\t\tlabel.attr(normalState)\n\t\t\t\t\t.css(normalStyle);\n\t\t\t} else if (state === 2) {\n\t\t\t\tlabel.attr(pressedState)\n\t\t\t\t\t.css(pressedStyle);\n\t\t\t} else if (state === 3) {\n\t\t\t\tlabel.attr(disabledState)\n\t\t\t\t\t.css(disabledStyle);\n\t\t\t}\n\t\t};\n\n\t\treturn label\n\t\t\t.on('click', function () {\n\t\t\t\tif (curState !== 3) {\n\t\t\t\t\tcallback.call(label);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr(normalState)\n\t\t\t.css(extend({ cursor: 'default' }, normalStyle));\n\t},\n\n\t/**\n\t * Make a straight line crisper by not spilling out to neighbour pixels\n\t * @param {Array} points\n\t * @param {Number} width\n\t */\n\tcrispLine: function (points, width) {\n\t\t// points format: [M, 0, 0, L, 100, 0]\n\t\t// normalize to a crisp line\n\t\tif (points[1] === points[4]) {\n\t\t\t// Substract due to #1129. Now bottom and left axis gridlines behave the same.\n\t\t\tpoints[1] = points[4] = mathRound(points[1]) - (width % 2 / 2);\n\t\t}\n\t\tif (points[2] === points[5]) {\n\t\t\tpoints[2] = points[5] = mathRound(points[2]) + (width % 2 / 2);\n\t\t}\n\t\treturn points;\n\t},\n\n\n\t/**\n\t * Draw a path\n\t * @param {Array} path An SVG path in array form\n\t */\n\tpath: function (path) {\n\t\tvar attr = {\n\t\t\tfill: NONE\n\t\t};\n\t\tif (isArray(path)) {\n\t\t\tattr.d = path;\n\t\t} else if (isObject(path)) { // attributes\n\t\t\textend(attr, path);\n\t\t}\n\t\treturn this.createElement('path').attr(attr);\n\t},\n\n\t/**\n\t * Draw and return an SVG circle\n\t * @param {Number} x The x position\n\t * @param {Number} y The y position\n\t * @param {Number} r The radius\n\t */\n\tcircle: function (x, y, r) {\n\t\tvar attr = isObject(x) ?\n\t\t\tx :\n\t\t\t{\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\tr: r\n\t\t\t};\n\n\t\treturn this.createElement('circle').attr(attr);\n\t},\n\n\t/**\n\t * Draw and return an arc\n\t * @param {Number} x X position\n\t * @param {Number} y Y position\n\t * @param {Number} r Radius\n\t * @param {Number} innerR Inner radius like used in donut charts\n\t * @param {Number} start Starting angle\n\t * @param {Number} end Ending angle\n\t */\n\tarc: function (x, y, r, innerR, start, end) {\n\t\tvar arc;\n\n\t\tif (isObject(x)) {\n\t\t\ty = x.y;\n\t\t\tr = x.r;\n\t\t\tinnerR = x.innerR;\n\t\t\tstart = x.start;\n\t\t\tend = x.end;\n\t\t\tx = x.x;\n\t\t}\n\n\t\t// Arcs are defined as symbols for the ability to set\n\t\t// attributes in attr and animate\n\t\tarc = this.symbol('arc', x || 0, y || 0, r || 0, r || 0, {\n\t\t\tinnerR: innerR || 0,\n\t\t\tstart: start || 0,\n\t\t\tend: end || 0\n\t\t});\n\t\tarc.r = r; // #959\n\t\treturn arc;\n\t},\n\n\t/**\n\t * Draw and return a rectangle\n\t * @param {Number} x Left position\n\t * @param {Number} y Top position\n\t * @param {Number} width\n\t * @param {Number} height\n\t * @param {Number} r Border corner radius\n\t * @param {Number} strokeWidth A stroke width can be supplied to allow crisp drawing\n\t */\n\trect: function (x, y, width, height, r, strokeWidth) {\n\n\t\tr = isObject(x) ? x.r : r;\n\n\t\tvar wrapper = this.createElement('rect').attr({\n\t\t\t\trx: r,\n\t\t\t\try: r,\n\t\t\t\tfill: NONE\n\t\t\t});\n\t\treturn wrapper.attr(\n\t\t\t\tisObject(x) ?\n\t\t\t\t\tx :\n\t\t\t\t\t// do not crispify when an object is passed in (as in column charts)\n\t\t\t\t\twrapper.crisp(strokeWidth, x, y, mathMax(width, 0), mathMax(height, 0))\n\t\t\t);\n\t},\n\n\t/**\n\t * Resize the box and re-align all aligned elements\n\t * @param {Object} width\n\t * @param {Object} height\n\t * @param {Boolean} animate\n\t *\n\t */\n\tsetSize: function (width, height, animate) {\n\t\tvar renderer = this,\n\t\t\talignedObjects = renderer.alignedObjects,\n\t\t\ti = alignedObjects.length;\n\n\t\trenderer.width = width;\n\t\trenderer.height = height;\n\n\t\trenderer.boxWrapper[pick(animate, true) ? 'animate' : 'attr']({\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t});\n\n\t\twhile (i--) {\n\t\t\talignedObjects[i].align();\n\t\t}\n\t},\n\n\t/**\n\t * Create a group\n\t * @param {String} name The group will be given a class name of 'highcharts-{name}'.\n\t *     This can be used for styling and scripting.\n\t */\n\tg: function (name) {\n\t\tvar elem = this.createElement('g');\n\t\treturn defined(name) ? elem.attr({ 'class': PREFIX + name }) : elem;\n\t},\n\n\t/**\n\t * Display an image\n\t * @param {String} src\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} width\n\t * @param {Number} height\n\t */\n\timage: function (src, x, y, width, height) {\n\t\tvar attribs = {\n\t\t\t\tpreserveAspectRatio: NONE\n\t\t\t},\n\t\t\telemWrapper;\n\n\t\t// optional properties\n\t\tif (arguments.length > 1) {\n\t\t\textend(attribs, {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t});\n\t\t}\n\n\t\telemWrapper = this.createElement('image').attr(attribs);\n\n\t\t// set the href in the xlink namespace\n\t\tif (elemWrapper.element.setAttributeNS) {\n\t\t\telemWrapper.element.setAttributeNS('http://www.w3.org/1999/xlink',\n\t\t\t\t'href', src);\n\t\t} else {\n\t\t\t// could be exporting in IE\n\t\t\t// using href throws \"not supported\" in ie7 and under, requries regex shim to fix later\n\t\t\telemWrapper.element.setAttribute('hc-svg-href', src);\n\t}\n\n\t\treturn elemWrapper;\n\t},\n\n\t/**\n\t * Draw a symbol out of pre-defined shape paths from the namespace 'symbol' object.\n\t *\n\t * @param {Object} symbol\n\t * @param {Object} x\n\t * @param {Object} y\n\t * @param {Object} radius\n\t * @param {Object} options\n\t */\n\tsymbol: function (symbol, x, y, width, height, options) {\n\n\t\tvar obj,\n\n\t\t\t// get the symbol definition function\n\t\t\tsymbolFn = this.symbols[symbol],\n\n\t\t\t// check if there's a path defined for this symbol\n\t\t\tpath = symbolFn && symbolFn(\n\t\t\t\tmathRound(x),\n\t\t\t\tmathRound(y),\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\toptions\n\t\t\t),\n\n\t\t\timageElement,\n\t\t\timageRegex = /^url\\((.*?)\\)$/,\n\t\t\timageSrc,\n\t\t\timageSize,\n\t\t\tcenterImage;\n\n\t\tif (path) {\n\n\t\t\tobj = this.path(path);\n\t\t\t// expando properties for use in animate and attr\n\t\t\textend(obj, {\n\t\t\t\tsymbolName: symbol,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t});\n\t\t\tif (options) {\n\t\t\t\textend(obj, options);\n\t\t\t}\n\n\n\t\t// image symbols\n\t\t} else if (imageRegex.test(symbol)) {\n\n\t\t\t// On image load, set the size and position\n\t\t\tcenterImage = function (img, size) {\n\t\t\t\tif (img.element) { // it may be destroyed in the meantime (#1390)\n\t\t\t\t\timg.attr({\n\t\t\t\t\t\twidth: size[0],\n\t\t\t\t\t\theight: size[1]\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!img.alignByTranslate) { // #185\n\t\t\t\t\t\timg.translate(\n\t\t\t\t\t\t\tmathRound((width - size[0]) / 2), // #1378\n\t\t\t\t\t\t\tmathRound((height - size[1]) / 2)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\timageSrc = symbol.match(imageRegex)[1];\n\t\t\timageSize = symbolSizes[imageSrc];\n\n\t\t\t// Ireate the image synchronously, add attribs async\n\t\t\tobj = this.image(imageSrc)\n\t\t\t\t.attr({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t});\n\t\t\tobj.isImg = true;\n\n\t\t\tif (imageSize) {\n\t\t\t\tcenterImage(obj, imageSize);\n\t\t\t} else {\n\t\t\t\t// Initialize image to be 0 size so export will still function if there's no cached sizes.\n\t\t\t\t//\n\t\t\t\tobj.attr({ width: 0, height: 0 });\n\n\t\t\t\t// Create a dummy JavaScript image to get the width and height. Due to a bug in IE < 8,\n\t\t\t\t// the created element must be assigned to a variable in order to load (#292).\n\t\t\t\timageElement = createElement('img', {\n\t\t\t\t\tonload: function () {\n\t\t\t\t\t\tcenterImage(obj, symbolSizes[imageSrc] = [this.width, this.height]);\n\t\t\t\t\t},\n\t\t\t\t\tsrc: imageSrc\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t/**\n\t * An extendable collection of functions for defining symbol paths.\n\t */\n\tsymbols: {\n\t\t'circle': function (x, y, w, h) {\n\t\t\tvar cpw = 0.166 * w;\n\t\t\treturn [\n\t\t\t\tM, x + w / 2, y,\n\t\t\t\t'C', x + w + cpw, y, x + w + cpw, y + h, x + w / 2, y + h,\n\t\t\t\t'C', x - cpw, y + h, x - cpw, y, x + w / 2, y,\n\t\t\t\t'Z'\n\t\t\t];\n\t\t},\n\n\t\t'square': function (x, y, w, h) {\n\t\t\treturn [\n\t\t\t\tM, x, y,\n\t\t\t\tL, x + w, y,\n\t\t\t\tx + w, y + h,\n\t\t\t\tx, y + h,\n\t\t\t\t'Z'\n\t\t\t];\n\t\t},\n\n\t\t'triangle': function (x, y, w, h) {\n\t\t\treturn [\n\t\t\t\tM, x + w / 2, y,\n\t\t\t\tL, x + w, y + h,\n\t\t\t\tx, y + h,\n\t\t\t\t'Z'\n\t\t\t];\n\t\t},\n\n\t\t'triangle-down': function (x, y, w, h) {\n\t\t\treturn [\n\t\t\t\tM, x, y,\n\t\t\t\tL, x + w, y,\n\t\t\t\tx + w / 2, y + h,\n\t\t\t\t'Z'\n\t\t\t];\n\t\t},\n\t\t'diamond': function (x, y, w, h) {\n\t\t\treturn [\n\t\t\t\tM, x + w / 2, y,\n\t\t\t\tL, x + w, y + h / 2,\n\t\t\t\tx + w / 2, y + h,\n\t\t\t\tx, y + h / 2,\n\t\t\t\t'Z'\n\t\t\t];\n\t\t},\n\t\t'arc': function (x, y, w, h, options) {\n\t\t\tvar start = options.start,\n\t\t\t\tradius = options.r || w || h,\n\t\t\t\tend = options.end - 0.001, // to prevent cos and sin of start and end from becoming equal on 360 arcs (related: #1561)\n\t\t\t\tinnerRadius = options.innerR,\n\t\t\t\topen = options.open,\n\t\t\t\tcosStart = mathCos(start),\n\t\t\t\tsinStart = mathSin(start),\n\t\t\t\tcosEnd = mathCos(end),\n\t\t\t\tsinEnd = mathSin(end),\n\t\t\t\tlongArc = options.end - start < mathPI ? 0 : 1;\n\n\t\t\treturn [\n\t\t\t\tM,\n\t\t\t\tx + radius * cosStart,\n\t\t\t\ty + radius * sinStart,\n\t\t\t\t'A', // arcTo\n\t\t\t\tradius, // x radius\n\t\t\t\tradius, // y radius\n\t\t\t\t0, // slanting\n\t\t\t\tlongArc, // long or short arc\n\t\t\t\t1, // clockwise\n\t\t\t\tx + radius * cosEnd,\n\t\t\t\ty + radius * sinEnd,\n\t\t\t\topen ? M : L,\n\t\t\t\tx + innerRadius * cosEnd,\n\t\t\t\ty + innerRadius * sinEnd,\n\t\t\t\t'A', // arcTo\n\t\t\t\tinnerRadius, // x radius\n\t\t\t\tinnerRadius, // y radius\n\t\t\t\t0, // slanting\n\t\t\t\tlongArc, // long or short arc\n\t\t\t\t0, // clockwise\n\t\t\t\tx + innerRadius * cosStart,\n\t\t\t\ty + innerRadius * sinStart,\n\n\t\t\t\topen ? '' : 'Z' // close\n\t\t\t];\n\t\t}\n\t},\n\n\t/**\n\t * Define a clipping rectangle\n\t * @param {String} id\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} width\n\t * @param {Number} height\n\t */\n\tclipRect: function (x, y, width, height) {\n\t\tvar wrapper,\n\t\t\tid = PREFIX + idCounter++,\n\n\t\t\tclipPath = this.createElement('clipPath').attr({\n\t\t\t\tid: id\n\t\t\t}).add(this.defs);\n\n\t\twrapper = this.rect(x, y, width, height, 0).add(clipPath);\n\t\twrapper.id = id;\n\t\twrapper.clipPath = clipPath;\n\n\t\treturn wrapper;\n\t},\n\n\n\t/**\n\t * Take a color and return it if it's a string, make it a gradient if it's a\n\t * gradient configuration object. Prior to Highstock, an array was used to define\n\t * a linear gradient with pixel positions relative to the SVG. In newer versions\n\t * we change the coordinates to apply relative to the shape, using coordinates\n\t * 0-1 within the shape. To preserve backwards compatibility, linearGradient\n\t * in this definition is an object of x1, y1, x2 and y2.\n\t *\n\t * @param {Object} color The color or config object\n\t */\n\tcolor: function (color, elem, prop) {\n\t\tvar renderer = this,\n\t\t\tcolorObject,\n\t\t\tregexRgba = /^rgba/,\n\t\t\tgradName,\n\t\t\tgradAttr,\n\t\t\tgradients,\n\t\t\tgradientObject,\n\t\t\tstops,\n\t\t\tstopColor,\n\t\t\tstopOpacity,\n\t\t\tradialReference,\n\t\t\tn,\n\t\t\tid,\n\t\t\tkey = [];\n\n\t\t// Apply linear or radial gradients\n\t\tif (color && color.linearGradient) {\n\t\t\tgradName = 'linearGradient';\n\t\t} else if (color && color.radialGradient) {\n\t\t\tgradName = 'radialGradient';\n\t\t}\n\n\t\tif (gradName) {\n\t\t\tgradAttr = color[gradName];\n\t\t\tgradients = renderer.gradients;\n\t\t\tstops = color.stops;\n\t\t\tradialReference = elem.radialReference;\n\n\t\t\t// Keep < 2.2 kompatibility\n\t\t\tif (isArray(gradAttr)) {\n\t\t\t\tcolor[gradName] = gradAttr = {\n\t\t\t\t\tx1: gradAttr[0],\n\t\t\t\t\ty1: gradAttr[1],\n\t\t\t\t\tx2: gradAttr[2],\n\t\t\t\t\ty2: gradAttr[3],\n\t\t\t\t\tgradientUnits: 'userSpaceOnUse'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Correct the radial gradient for the radial reference system\n\t\t\tif (gradName === 'radialGradient' && radialReference && !defined(gradAttr.gradientUnits)) {\n\t\t\t\tgradAttr = merge(gradAttr, {\n\t\t\t\t\tcx: (radialReference[0] - radialReference[2] / 2) + gradAttr.cx * radialReference[2],\n\t\t\t\t\tcy: (radialReference[1] - radialReference[2] / 2) + gradAttr.cy * radialReference[2],\n\t\t\t\t\tr: gradAttr.r * radialReference[2],\n\t\t\t\t\tgradientUnits: 'userSpaceOnUse'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Build the unique key to detect whether we need to create a new element (#1282)\n\t\t\tfor (n in gradAttr) {\n\t\t\t\tif (n !== 'id') {\n\t\t\t\t\tkey.push(n, gradAttr[n]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (n in stops) {\n\t\t\t\tkey.push(stops[n]);\n\t\t\t}\n\t\t\tkey = key.join(',');\n\n\t\t\t// Check if a gradient object with the same config object is created within this renderer\n\t\t\tif (gradients[key]) {\n\t\t\t\tid = gradients[key].id;\n\n\t\t\t} else {\n\n\t\t\t\t// Set the id and create the element\n\t\t\t\tgradAttr.id = id = PREFIX + idCounter++;\n\t\t\t\tgradients[key] = gradientObject = renderer.createElement(gradName)\n\t\t\t\t\t.attr(gradAttr)\n\t\t\t\t\t.add(renderer.defs);\n\n\n\t\t\t\t// The gradient needs to keep a list of stops to be able to destroy them\n\t\t\t\tgradientObject.stops = [];\n\t\t\t\teach(stops, function (stop) {\n\t\t\t\t\tvar stopObject;\n\t\t\t\t\tif (regexRgba.test(stop[1])) {\n\t\t\t\t\t\tcolorObject = Color(stop[1]);\n\t\t\t\t\t\tstopColor = colorObject.get('rgb');\n\t\t\t\t\t\tstopOpacity = colorObject.get('a');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstopColor = stop[1];\n\t\t\t\t\t\tstopOpacity = 1;\n\t\t\t\t\t}\n\t\t\t\t\tstopObject = renderer.createElement('stop').attr({\n\t\t\t\t\t\toffset: stop[0],\n\t\t\t\t\t\t'stop-color': stopColor,\n\t\t\t\t\t\t'stop-opacity': stopOpacity\n\t\t\t\t\t}).add(gradientObject);\n\n\t\t\t\t\t// Add the stop element to the gradient\n\t\t\t\t\tgradientObject.stops.push(stopObject);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Return the reference to the gradient object\n\t\t\treturn 'url(' + renderer.url + '#' + id + ')';\n\n\t\t// Webkit and Batik can't show rgba.\n\t\t} else if (regexRgba.test(color)) {\n\t\t\tcolorObject = Color(color);\n\t\t\tattr(elem, prop + '-opacity', colorObject.get('a'));\n\n\t\t\treturn colorObject.get('rgb');\n\n\n\t\t} else {\n\t\t\t// Remove the opacity attribute added above. Does not throw if the attribute is not there.\n\t\t\telem.removeAttribute(prop + '-opacity');\n\n\t\t\treturn color;\n\t\t}\n\n\t},\n\n\n\t/**\n\t * Add text to the SVG object\n\t * @param {String} str\n\t * @param {Number} x Left position\n\t * @param {Number} y Top position\n\t * @param {Boolean} useHTML Use HTML to render the text\n\t */\n\ttext: function (str, x, y, useHTML) {\n\n\t\t// declare variables\n\t\tvar renderer = this,\n\t\t\tdefaultChartStyle = defaultOptions.chart.style,\n\t\t\tfakeSVG = useCanVG || (!hasSVG && renderer.forExport),\n\t\t\twrapper;\n\n\t\tif (useHTML && !renderer.forExport) {\n\t\t\treturn renderer.html(str, x, y);\n\t\t}\n\n\t\tx = mathRound(pick(x, 0));\n\t\ty = mathRound(pick(y, 0));\n\n\t\twrapper = renderer.createElement('text')\n\t\t\t.attr({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\ttext: str\n\t\t\t})\n\t\t\t.css({\n\t\t\t\tfontFamily: defaultChartStyle.fontFamily,\n\t\t\t\tfontSize: defaultChartStyle.fontSize\n\t\t\t});\n\n\t\t// Prevent wrapping from creating false offsetWidths in export in legacy IE (#1079, #1063)\n\t\tif (fakeSVG) {\n\t\t\twrapper.css({\n\t\t\t\tposition: ABSOLUTE\n\t\t\t});\n\t\t}\n\n\t\twrapper.x = x;\n\t\twrapper.y = y;\n\t\treturn wrapper;\n\t},\n\n\n\t/**\n\t * Create HTML text node. This is used by the VML renderer as well as the SVG\n\t * renderer through the useHTML option.\n\t *\n\t * @param {String} str\n\t * @param {Number} x\n\t * @param {Number} y\n\t */\n\thtml: function (str, x, y) {\n\t\tvar defaultChartStyle = defaultOptions.chart.style,\n\t\t\twrapper = this.createElement('span'),\n\t\t\tattrSetters = wrapper.attrSetters,\n\t\t\telement = wrapper.element,\n\t\t\trenderer = wrapper.renderer;\n\n\t\t// Text setter\n\t\tattrSetters.text = function (value) {\n\t\t\tif (value !== element.innerHTML) {\n\t\t\t\tdelete this.bBox;\n\t\t\t}\n\t\t\telement.innerHTML = value;\n\t\t\treturn false;\n\t\t};\n\n\t\t// Various setters which rely on update transform\n\t\tattrSetters.x = attrSetters.y = attrSetters.align = function (value, key) {\n\t\t\tif (key === 'align') {\n\t\t\t\tkey = 'textAlign'; // Do not overwrite the SVGElement.align method. Same as VML.\n\t\t\t}\n\t\t\twrapper[key] = value;\n\t\t\twrapper.htmlUpdateTransform();\n\t\t\treturn false;\n\t\t};\n\n\t\t// Set the default attributes\n\t\twrapper.attr({\n\t\t\t\ttext: str,\n\t\t\t\tx: mathRound(x),\n\t\t\t\ty: mathRound(y)\n\t\t\t})\n\t\t\t.css({\n\t\t\t\tposition: ABSOLUTE,\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\tfontFamily: defaultChartStyle.fontFamily,\n\t\t\t\tfontSize: defaultChartStyle.fontSize\n\t\t\t});\n\n\t\t// Use the HTML specific .css method\n\t\twrapper.css = wrapper.htmlCss;\n\n\t\t// This is specific for HTML within SVG\n\t\tif (renderer.isSVG) {\n\t\t\twrapper.add = function (svgGroupWrapper) {\n\n\t\t\t\tvar htmlGroup,\n\t\t\t\t\tcontainer = renderer.box.parentNode,\n\t\t\t\t\tparentGroup,\n\t\t\t\t\tparents = [];\n\n\t\t\t\t// Create a mock group to hold the HTML elements\n\t\t\t\tif (svgGroupWrapper) {\n\t\t\t\t\thtmlGroup = svgGroupWrapper.div;\n\t\t\t\t\tif (!htmlGroup) {\n\n\t\t\t\t\t\t// Read the parent chain into an array and read from top down\n\t\t\t\t\t\tparentGroup = svgGroupWrapper;\n\t\t\t\t\t\twhile (parentGroup) {\n\n\t\t\t\t\t\t\tparents.push(parentGroup);\n\n\t\t\t\t\t\t\t// Move up to the next parent group\n\t\t\t\t\t\t\tparentGroup = parentGroup.parentGroup;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Ensure dynamically updating position when any parent is translated\n\t\t\t\t\t\teach(parents.reverse(), function (parentGroup) {\n\t\t\t\t\t\t\tvar htmlGroupStyle;\n\n\t\t\t\t\t\t\t// Create a HTML div and append it to the parent div to emulate\n\t\t\t\t\t\t\t// the SVG group structure\n\t\t\t\t\t\t\thtmlGroup = parentGroup.div = parentGroup.div || createElement(DIV, {\n\t\t\t\t\t\t\t\tclassName: attr(parentGroup.element, 'class')\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tposition: ABSOLUTE,\n\t\t\t\t\t\t\t\tleft: (parentGroup.translateX || 0) + PX,\n\t\t\t\t\t\t\t\ttop: (parentGroup.translateY || 0) + PX\n\t\t\t\t\t\t\t}, htmlGroup || container); // the top group is appended to container\n\n\t\t\t\t\t\t\t// Shortcut\n\t\t\t\t\t\t\thtmlGroupStyle = htmlGroup.style;\n\n\t\t\t\t\t\t\t// Set listeners to update the HTML div's position whenever the SVG group\n\t\t\t\t\t\t\t// position is changed\n\t\t\t\t\t\t\textend(parentGroup.attrSetters, {\n\t\t\t\t\t\t\t\ttranslateX: function (value) {\n\t\t\t\t\t\t\t\t\thtmlGroupStyle.left = value + PX;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttranslateY: function (value) {\n\t\t\t\t\t\t\t\t\thtmlGroupStyle.top = value + PX;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tvisibility: function (value, key) {\n\t\t\t\t\t\t\t\t\thtmlGroupStyle[key] = value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thtmlGroup = container;\n\t\t\t\t}\n\n\t\t\t\thtmlGroup.appendChild(element);\n\n\t\t\t\t// Shared with VML:\n\t\t\t\twrapper.added = true;\n\t\t\t\tif (wrapper.alignOnAdd) {\n\t\t\t\t\twrapper.htmlUpdateTransform();\n\t\t\t\t}\n\n\t\t\t\treturn wrapper;\n\t\t\t};\n\t\t}\n\t\treturn wrapper;\n\t},\n\n\t/**\n\t * Utility to return the baseline offset and total line height from the font size\n\t */\n\tfontMetrics: function (fontSize) {\n\t\tfontSize = pInt(fontSize || 11);\n\n\t\t// Empirical values found by comparing font size and bounding box height.\n\t\t// Applies to the default font family. http://jsfiddle.net/highcharts/7xvn7/\n\t\tvar lineHeight = fontSize < 24 ? fontSize + 4 : mathRound(fontSize * 1.2),\n\t\t\tbaseline = mathRound(lineHeight * 0.8);\n\n\t\treturn {\n\t\t\th: lineHeight,\n\t\t\tb: baseline\n\t\t};\n\t},\n\n\t/**\n\t * Add a label, a text item that can hold a colored or gradient background\n\t * as well as a border and shadow.\n\t * @param {string} str\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {String} shape\n\t * @param {Number} anchorX In case the shape has a pointer, like a flag, this is the\n\t *    coordinates it should be pinned to\n\t * @param {Number} anchorY\n\t * @param {Boolean} baseline Whether to position the label relative to the text baseline,\n\t *    like renderer.text, or to the upper border of the rectangle.\n\t * @param {String} className Class name for the group\n\t */\n\tlabel: function (str, x, y, shape, anchorX, anchorY, useHTML, baseline, className) {\n\n\t\tvar renderer = this,\n\t\t\twrapper = renderer.g(className),\n\t\t\ttext = renderer.text('', 0, 0, useHTML)\n\t\t\t\t.attr({\n\t\t\t\t\tzIndex: 1\n\t\t\t\t}),\n\t\t\t\t//.add(wrapper),\n\t\t\tbox,\n\t\t\tbBox,\n\t\t\talignFactor = 0,\n\t\t\tpadding = 3,\n\t\t\tpaddingLeft = 0,\n\t\t\twidth,\n\t\t\theight,\n\t\t\twrapperX,\n\t\t\twrapperY,\n\t\t\tcrispAdjust = 0,\n\t\t\tdeferredAttr = {},\n\t\t\tbaselineOffset,\n\t\t\tattrSetters = wrapper.attrSetters,\n\t\t\tneedsBox;\n\n\t\t/**\n\t\t * This function runs after the label is added to the DOM (when the bounding box is\n\t\t * available), and after the text of the label is updated to detect the new bounding\n\t\t * box and reflect it in the border box.\n\t\t */\n\t\tfunction updateBoxSize() {\n\t\t\tvar boxX,\n\t\t\t\tboxY,\n\t\t\t\tstyle = text.element.style;\n\n\t\t\tbBox = (width === undefined || height === undefined || wrapper.styles.textAlign) &&\n\t\t\t\ttext.getBBox();\n\t\t\twrapper.width = (width || bBox.width || 0) + 2 * padding + paddingLeft;\n\t\t\twrapper.height = (height || bBox.height || 0) + 2 * padding;\n\n\t\t\t// update the label-scoped y offset\n\t\t\tbaselineOffset = padding + renderer.fontMetrics(style && style.fontSize).b;\n\n\t\t\tif (needsBox) {\n\n\t\t\t\t// create the border box if it is not already present\n\t\t\t\tif (!box) {\n\t\t\t\t\tboxX = mathRound(-alignFactor * padding);\n\t\t\t\t\tboxY = baseline ? -baselineOffset : 0;\n\n\t\t\t\t\twrapper.box = box = shape ?\n\t\t\t\t\t\trenderer.symbol(shape, boxX, boxY, wrapper.width, wrapper.height) :\n\t\t\t\t\t\trenderer.rect(boxX, boxY, wrapper.width, wrapper.height, 0, deferredAttr[STROKE_WIDTH]);\n\t\t\t\t\tbox.add(wrapper);\n\t\t\t\t}\n\n\t\t\t\t// apply the box attributes\n\t\t\t\tif (!box.isImg) { // #1630\n\t\t\t\t\tbox.attr(merge({\n\t\t\t\t\t\twidth: wrapper.width,\n\t\t\t\t\t\theight: wrapper.height\n\t\t\t\t\t}, deferredAttr));\n\t\t\t\t}\n\t\t\t\tdeferredAttr = null;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * This function runs after setting text or padding, but only if padding is changed\n\t\t */\n\t\tfunction updateTextPadding() {\n\t\t\tvar styles = wrapper.styles,\n\t\t\t\ttextAlign = styles && styles.textAlign,\n\t\t\t\tx = paddingLeft + padding * (1 - alignFactor),\n\t\t\t\ty;\n\n\t\t\t// determin y based on the baseline\n\t\t\ty = baseline ? 0 : baselineOffset;\n\n\t\t\t// compensate for alignment\n\t\t\tif (defined(width) && (textAlign === 'center' || textAlign === 'right')) {\n\t\t\t\tx += { center: 0.5, right: 1 }[textAlign] * (width - bBox.width);\n\t\t\t}\n\n\t\t\t// update if anything changed\n\t\t\tif (x !== text.x || y !== text.y) {\n\t\t\t\ttext.attr({\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// record current values\n\t\t\ttext.x = x;\n\t\t\ttext.y = y;\n\t\t}\n\n\t\t/**\n\t\t * Set a box attribute, or defer it if the box is not yet created\n\t\t * @param {Object} key\n\t\t * @param {Object} value\n\t\t */\n\t\tfunction boxAttr(key, value) {\n\t\t\tif (box) {\n\t\t\t\tbox.attr(key, value);\n\t\t\t} else {\n\t\t\t\tdeferredAttr[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tfunction getSizeAfterAdd() {\n\t\t\ttext.add(wrapper);\n\t\t\twrapper.attr({\n\t\t\t\ttext: str, // alignment is available now\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t});\n\n\t\t\tif (box && defined(anchorX)) {\n\t\t\t\twrapper.attr({\n\t\t\t\t\tanchorX: anchorX,\n\t\t\t\t\tanchorY: anchorY\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * After the text element is added, get the desired size of the border box\n\t\t * and add it before the text in the DOM.\n\t\t */\n\t\taddEvent(wrapper, 'add', getSizeAfterAdd);\n\n\t\t/*\n\t\t * Add specific attribute setters.\n\t\t */\n\n\t\t// only change local variables\n\t\tattrSetters.width = function (value) {\n\t\t\twidth = value;\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.height = function (value) {\n\t\t\theight = value;\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.padding =  function (value) {\n\t\t\tif (defined(value) && value !== padding) {\n\t\t\t\tpadding = value;\n\t\t\t\tupdateTextPadding();\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.paddingLeft =  function (value) {\n\t\t\tif (defined(value) && value !== paddingLeft) {\n\t\t\t\tpaddingLeft = value;\n\t\t\t\tupdateTextPadding();\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\n\t\t// change local variable and set attribue as well\n\t\tattrSetters.align = function (value) {\n\t\t\talignFactor = { left: 0, center: 0.5, right: 1 }[value];\n\t\t\treturn false; // prevent setting text-anchor on the group\n\t\t};\n\n\t\t// apply these to the box and the text alike\n\t\tattrSetters.text = function (value, key) {\n\t\t\ttext.attr(key, value);\n\t\t\tupdateBoxSize();\n\t\t\tupdateTextPadding();\n\t\t\treturn false;\n\t\t};\n\n\t\t// apply these to the box but not to the text\n\t\tattrSetters[STROKE_WIDTH] = function (value, key) {\n\t\t\tneedsBox = true;\n\t\t\tcrispAdjust = value % 2 / 2;\n\t\t\tboxAttr(key, value);\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.stroke = attrSetters.fill = attrSetters.r = function (value, key) {\n\t\t\tif (key === 'fill') {\n\t\t\t\tneedsBox = true;\n\t\t\t}\n\t\t\tboxAttr(key, value);\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.anchorX = function (value, key) {\n\t\t\tanchorX = value;\n\t\t\tboxAttr(key, value + crispAdjust - wrapperX);\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.anchorY = function (value, key) {\n\t\t\tanchorY = value;\n\t\t\tboxAttr(key, value - wrapperY);\n\t\t\treturn false;\n\t\t};\n\n\t\t// rename attributes\n\t\tattrSetters.x = function (value) {\n\t\t\twrapper.x = value; // for animation getter\n\t\t\tvalue -= alignFactor * ((width || bBox.width) + padding);\n\t\t\twrapperX = mathRound(value);\n\n\t\t\twrapper.attr('translateX', wrapperX);\n\t\t\treturn false;\n\t\t};\n\t\tattrSetters.y = function (value) {\n\t\t\twrapperY = wrapper.y = mathRound(value);\n\t\t\twrapper.attr('translateY', wrapperY);\n\t\t\treturn false;\n\t\t};\n\n\t\t// Redirect certain methods to either the box or the text\n\t\tvar baseCss = wrapper.css;\n\t\treturn extend(wrapper, {\n\t\t\t/**\n\t\t\t * Pick up some properties and apply them to the text instead of the wrapper\n\t\t\t */\n\t\t\tcss: function (styles) {\n\t\t\t\tif (styles) {\n\t\t\t\t\tvar textStyles = {};\n\t\t\t\t\tstyles = merge(styles); // create a copy to avoid altering the original object (#537)\n\t\t\t\t\teach(['fontSize', 'fontWeight', 'fontFamily', 'color', 'lineHeight', 'width', 'textDecoration', 'textShadow'], function (prop) {\n\t\t\t\t\t\tif (styles[prop] !== UNDEFINED) {\n\t\t\t\t\t\t\ttextStyles[prop] = styles[prop];\n\t\t\t\t\t\t\tdelete styles[prop];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttext.css(textStyles);\n\t\t\t\t}\n\t\t\t\treturn baseCss.call(wrapper, styles);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Return the bounding box of the box, not the group\n\t\t\t */\n\t\t\tgetBBox: function () {\n\t\t\t\treturn {\n\t\t\t\t\twidth: bBox.width + 2 * padding,\n\t\t\t\t\theight: bBox.height + 2 * padding,\n\t\t\t\t\tx: bBox.x - padding,\n\t\t\t\t\ty: bBox.y - padding\n\t\t\t\t};\n\t\t\t},\n\t\t\t/**\n\t\t\t * Apply the shadow to the box\n\t\t\t */\n\t\t\tshadow: function (b) {\n\t\t\t\tif (box) {\n\t\t\t\t\tbox.shadow(b);\n\t\t\t\t}\n\t\t\t\treturn wrapper;\n\t\t\t},\n\t\t\t/**\n\t\t\t * Destroy and release memory.\n\t\t\t */\n\t\t\tdestroy: function () {\n\t\t\t\tremoveEvent(wrapper, 'add', getSizeAfterAdd);\n\n\t\t\t\t// Added by button implementation\n\t\t\t\tremoveEvent(wrapper.element, 'mouseenter');\n\t\t\t\tremoveEvent(wrapper.element, 'mouseleave');\n\n\t\t\t\tif (text) {\n\t\t\t\t\ttext = text.destroy();\n\t\t\t\t}\n\t\t\t\tif (box) {\n\t\t\t\t\tbox = box.destroy();\n\t\t\t\t}\n\t\t\t\t// Call base implementation to destroy the rest\n\t\t\t\tSVGElement.prototype.destroy.call(wrapper);\n\n\t\t\t\t// Release local pointers (#1298)\n\t\t\t\twrapper = renderer = updateBoxSize = updateTextPadding = boxAttr = getSizeAfterAdd = null;\n\t\t\t}\n\t\t});\n\t}\n}; // end SVGRenderer\n\n\n// general renderer\nRenderer = SVGRenderer;\n\n\n/* ****************************************************************************\n *                                                                            *\n * START OF INTERNET EXPLORER <= 8 SPECIFIC CODE                              *\n *                                                                            *\n * For applications and websites that don't need IE support, like platform    *\n * targeted mobile apps and web apps, this code can be removed.               *\n *                                                                            *\n *****************************************************************************/\n\n/**\n * @constructor\n */\nvar VMLRenderer, VMLElement;\nif (!hasSVG && !useCanVG) {\n\n/**\n * The VML element wrapper.\n */\nHighcharts.VMLElement = VMLElement = {\n\n\t/**\n\t * Initialize a new VML element wrapper. It builds the markup as a string\n\t * to minimize DOM traffic.\n\t * @param {Object} renderer\n\t * @param {Object} nodeName\n\t */\n\tinit: function (renderer, nodeName) {\n\t\tvar wrapper = this,\n\t\t\tmarkup =  ['<', nodeName, ' filled=\"f\" stroked=\"f\"'],\n\t\t\tstyle = ['position: ', ABSOLUTE, ';'],\n\t\t\tisDiv = nodeName === DIV;\n\n\t\t// divs and shapes need size\n\t\tif (nodeName === 'shape' || isDiv) {\n\t\t\tstyle.push('left:0;top:0;width:1px;height:1px;');\n\t\t}\n\t\tstyle.push('visibility: ', isDiv ? HIDDEN : VISIBLE);\n\n\t\tmarkup.push(' style=\"', style.join(''), '\"/>');\n\n\t\t// create element with default attributes and style\n\t\tif (nodeName) {\n\t\t\tmarkup = isDiv || nodeName === 'span' || nodeName === 'img' ?\n\t\t\t\tmarkup.join('')\n\t\t\t\t: renderer.prepVML(markup);\n\t\t\twrapper.element = createElement(markup);\n\t\t}\n\n\t\twrapper.renderer = renderer;\n\t\twrapper.attrSetters = {};\n\t},\n\n\t/**\n\t * Add the node to the given parent\n\t * @param {Object} parent\n\t */\n\tadd: function (parent) {\n\t\tvar wrapper = this,\n\t\t\trenderer = wrapper.renderer,\n\t\t\telement = wrapper.element,\n\t\t\tbox = renderer.box,\n\t\t\tinverted = parent && parent.inverted,\n\n\t\t\t// get the parent node\n\t\t\tparentNode = parent ?\n\t\t\t\tparent.element || parent :\n\t\t\t\tbox;\n\n\n\t\t// if the parent group is inverted, apply inversion on all children\n\t\tif (inverted) { // only on groups\n\t\t\trenderer.invertChild(element, parentNode);\n\t\t}\n\n\t\t// append it\n\t\tparentNode.appendChild(element);\n\n\t\t// align text after adding to be able to read offset\n\t\twrapper.added = true;\n\t\tif (wrapper.alignOnAdd && !wrapper.deferUpdateTransform) {\n\t\t\twrapper.updateTransform();\n\t\t}\n\n\t\t// fire an event for internal hooks\n\t\tfireEvent(wrapper, 'add');\n\n\t\treturn wrapper;\n\t},\n\n\t/**\n\t * VML always uses htmlUpdateTransform\n\t */\n\tupdateTransform: SVGElement.prototype.htmlUpdateTransform,\n\n\t/**\n\t * Set the rotation of a span with oldIE's filter\n\t */\n\tsetSpanRotation: function (rotation, sintheta, costheta) {\n\t\t// Adjust for alignment and rotation. Rotation of useHTML content is not yet implemented\n\t\t// but it can probably be implemented for Firefox 3.5+ on user request. FF3.5+\n\t\t// has support for CSS3 transform. The getBBox method also needs to be updated\n\t\t// to compensate for the rotation, like it currently does for SVG.\n\t\t// Test case: http://highcharts.com/tests/?file=text-rotation\n\t\tcss(this.element, {\n\t\t\tfilter: rotation ? ['progid:DXImageTransform.Microsoft.Matrix(M11=', costheta,\n\t\t\t\t', M12=', -sintheta, ', M21=', sintheta, ', M22=', costheta,\n\t\t\t\t', sizingMethod=\\'auto expand\\')'].join('') : NONE\n\t\t});\n\t},\n\n\t/**\n\t * Converts a subset of an SVG path definition to its VML counterpart. Takes an array\n\t * as the parameter and returns a string.\n\t */\n\tpathToVML: function (value) {\n\t\t// convert paths\n\t\tvar i = value.length,\n\t\t\tpath = [],\n\t\t\tclockwise;\n\n\t\twhile (i--) {\n\n\t\t\t// Multiply by 10 to allow subpixel precision.\n\t\t\t// Substracting half a pixel seems to make the coordinates\n\t\t\t// align with SVG, but this hasn't been tested thoroughly\n\t\t\tif (isNumber(value[i])) {\n\t\t\t\tpath[i] = mathRound(value[i] * 10) - 5;\n\t\t\t} else if (value[i] === 'Z') { // close the path\n\t\t\t\tpath[i] = 'x';\n\t\t\t} else {\n\t\t\t\tpath[i] = value[i];\n\n\t\t\t\t// When the start X and end X coordinates of an arc are too close,\n\t\t\t\t// they are rounded to the same value above. In this case, substract 1 from the end X\n\t\t\t\t// position. #760, #1371.\n\t\t\t\tif (value.isArc && (value[i] === 'wa' || value[i] === 'at')) {\n\t\t\t\t\tclockwise = value[i] === 'wa' ? 1 : -1; // #1642\n\t\t\t\t\tif (path[i + 5] === path[i + 7]) {\n\t\t\t\t\t\tpath[i + 7] -= clockwise;\n\t\t\t\t\t}\n\t\t\t\t\t// Start and end Y (#1410)\n\t\t\t\t\tif (path[i + 6] === path[i + 8]) {\n\t\t\t\t\t\tpath[i + 8] -= clockwise;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// Loop up again to handle path shortcuts (#2132)\n\t\t/*while (i++ < path.length) {\n\t\t\tif (path[i] === 'H') { // horizontal line to\n\t\t\t\tpath[i] = 'L';\n\t\t\t\tpath.splice(i + 2, 0, path[i - 1]);\n\t\t\t} else if (path[i] === 'V') { // vertical line to\n\t\t\t\tpath[i] = 'L';\n\t\t\t\tpath.splice(i + 1, 0, path[i - 2]);\n\t\t\t}\n\t\t}*/\n\t\treturn path.join(' ') || 'x';\n\t},\n\n\t/**\n\t * Get or set attributes\n\t */\n\tattr: function (hash, val) {\n\t\tvar wrapper = this,\n\t\t\tkey,\n\t\t\tvalue,\n\t\t\ti,\n\t\t\tresult,\n\t\t\telement = wrapper.element || {},\n\t\t\telemStyle = element.style,\n\t\t\tnodeName = element.nodeName,\n\t\t\trenderer = wrapper.renderer,\n\t\t\tsymbolName = wrapper.symbolName,\n\t\t\thasSetSymbolSize,\n\t\t\tshadows = wrapper.shadows,\n\t\t\tskipAttr,\n\t\t\tattrSetters = wrapper.attrSetters,\n\t\t\tret = wrapper;\n\n\t\t// single key-value pair\n\t\tif (isString(hash) && defined(val)) {\n\t\t\tkey = hash;\n\t\t\thash = {};\n\t\t\thash[key] = val;\n\t\t}\n\n\t\t// used as a getter, val is undefined\n\t\tif (isString(hash)) {\n\t\t\tkey = hash;\n\t\t\tif (key === 'strokeWidth' || key === 'stroke-width') {\n\t\t\t\tret = wrapper.strokeweight;\n\t\t\t} else {\n\t\t\t\tret = wrapper[key];\n\t\t\t}\n\n\t\t// setter\n\t\t} else {\n\t\t\tfor (key in hash) {\n\t\t\t\tvalue = hash[key];\n\t\t\t\tskipAttr = false;\n\n\t\t\t\t// check for a specific attribute setter\n\t\t\t\tresult = attrSetters[key] && attrSetters[key].call(wrapper, value, key);\n\n\t\t\t\tif (result !== false && value !== null) { // #620\n\n\t\t\t\t\tif (result !== UNDEFINED) {\n\t\t\t\t\t\tvalue = result; // the attribute setter has returned a new value to set\n\t\t\t\t\t}\n\n\n\t\t\t\t\t// prepare paths\n\t\t\t\t\t// symbols\n\t\t\t\t\tif (symbolName && /^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(key)) {\n\t\t\t\t\t\t// if one of the symbol size affecting parameters are changed,\n\t\t\t\t\t\t// check all the others only once for each call to an element's\n\t\t\t\t\t\t// .attr() method\n\t\t\t\t\t\tif (!hasSetSymbolSize) {\n\t\t\t\t\t\t\twrapper.symbolAttr(hash);\n\n\t\t\t\t\t\t\thasSetSymbolSize = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t} else if (key === 'd') {\n\t\t\t\t\t\tvalue = value || [];\n\t\t\t\t\t\twrapper.d = value.join(' '); // used in getter for animation\n\n\t\t\t\t\t\telement.path = value = wrapper.pathToVML(value);\n\n\t\t\t\t\t\t// update shadows\n\t\t\t\t\t\tif (shadows) {\n\t\t\t\t\t\t\ti = shadows.length;\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tshadows[i].path = shadows[i].cutOff ? this.cutOffPath(value, shadows[i].cutOff) : value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// handle visibility\n\t\t\t\t\t} else if (key === 'visibility') {\n\n\t\t\t\t\t\t// let the shadow follow the main element\n\t\t\t\t\t\tif (shadows) {\n\t\t\t\t\t\t\ti = shadows.length;\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tshadows[i].style[key] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Instead of toggling the visibility CSS property, move the div out of the viewport.\n\t\t\t\t\t\t// This works around #61 and #586\n\t\t\t\t\t\tif (nodeName === 'DIV') {\n\t\t\t\t\t\t\tvalue = value === HIDDEN ? '-999em' : 0;\n\n\t\t\t\t\t\t\t// In order to redraw, IE7 needs the div to be visible when tucked away\n\t\t\t\t\t\t\t// outside the viewport. So the visibility is actually opposite of\n\t\t\t\t\t\t\t// the expected value. This applies to the tooltip only.\n\t\t\t\t\t\t\tif (!docMode8) {\n\t\t\t\t\t\t\t\telemStyle[key] = value ? VISIBLE : HIDDEN;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tkey = 'top';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telemStyle[key] = value;\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// directly mapped to css\n\t\t\t\t\t} else if (key === 'zIndex') {\n\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\telemStyle[key] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// x, y, width, height\n\t\t\t\t\t} else if (inArray(key, ['x', 'y', 'width', 'height']) !== -1) {\n\n\t\t\t\t\t\twrapper[key] = value; // used in getter\n\n\t\t\t\t\t\tif (key === 'x' || key === 'y') {\n\t\t\t\t\t\t\tkey = { x: 'left', y: 'top' }[key];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvalue = mathMax(0, value); // don't set width or height below zero (#311)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// clipping rectangle special\n\t\t\t\t\t\tif (wrapper.updateClipping) {\n\t\t\t\t\t\t\twrapper[key] = value; // the key is now 'left' or 'top' for 'x' and 'y'\n\t\t\t\t\t\t\twrapper.updateClipping();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// normal\n\t\t\t\t\t\t\telemStyle[key] = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// class name\n\t\t\t\t\t} else if (key === 'class' && nodeName === 'DIV') {\n\t\t\t\t\t\t// IE8 Standards mode has problems retrieving the className\n\t\t\t\t\t\telement.className = value;\n\n\t\t\t\t\t// stroke\n\t\t\t\t\t} else if (key === 'stroke') {\n\n\t\t\t\t\t\tvalue = renderer.color(value, element, key);\n\n\t\t\t\t\t\tkey = 'strokecolor';\n\n\t\t\t\t\t// stroke width\n\t\t\t\t\t} else if (key === 'stroke-width' || key === 'strokeWidth') {\n\t\t\t\t\t\telement.stroked = value ? true : false;\n\t\t\t\t\t\tkey = 'strokeweight';\n\t\t\t\t\t\twrapper[key] = value; // used in getter, issue #113\n\t\t\t\t\t\tif (isNumber(value)) {\n\t\t\t\t\t\t\tvalue += PX;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// dashStyle\n\t\t\t\t\t} else if (key === 'dashstyle') {\n\t\t\t\t\t\tvar strokeElem = element.getElementsByTagName('stroke')[0] ||\n\t\t\t\t\t\t\tcreateElement(renderer.prepVML(['<stroke/>']), null, null, element);\n\t\t\t\t\t\tstrokeElem[key] = value || 'solid';\n\t\t\t\t\t\twrapper.dashstyle = value; /* because changing stroke-width will change the dash length\n\t\t\t\t\t\t\tand cause an epileptic effect */\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// fill\n\t\t\t\t\t} else if (key === 'fill') {\n\n\t\t\t\t\t\tif (nodeName === 'SPAN') { // text color\n\t\t\t\t\t\t\telemStyle.color = value;\n\t\t\t\t\t\t} else if (nodeName !== 'IMG') { // #1336\n\t\t\t\t\t\t\telement.filled = value !== NONE ? true : false;\n\n\t\t\t\t\t\t\tvalue = renderer.color(value, element, key, wrapper);\n\n\t\t\t\t\t\t\tkey = 'fillcolor';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// opacity: don't bother - animation is too slow and filters introduce artifacts\n\t\t\t\t\t} else if (key === 'opacity') {\n\t\t\t\t\t\t/*css(element, {\n\t\t\t\t\t\t\topacity: value\n\t\t\t\t\t\t});*/\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// rotation on VML elements\n\t\t\t\t\t} else if (nodeName === 'shape' && key === 'rotation') {\n\n\t\t\t\t\t\twrapper[key] = element.style[key] = value; // style is for #1873\n\n\t\t\t\t\t\t// Correction for the 1x1 size of the shape container. Used in gauge needles.\n\t\t\t\t\t\telement.style.left = -mathRound(mathSin(value * deg2rad) + 1) + PX;\n\t\t\t\t\t\telement.style.top = mathRound(mathCos(value * deg2rad)) + PX;\n\n\t\t\t\t\t// translation for animation\n\t\t\t\t\t} else if (key === 'translateX' || key === 'translateY' || key === 'rotation') {\n\t\t\t\t\t\twrapper[key] = value;\n\t\t\t\t\t\twrapper.updateTransform();\n\n\t\t\t\t\t\tskipAttr = true;\n\n\t\t\t\t\t// text for rotated and non-rotated elements\n\t\t\t\t\t} else if (key === 'text') {\n\t\t\t\t\t\tthis.bBox = null;\n\t\t\t\t\t\telement.innerHTML = value;\n\t\t\t\t\t\tskipAttr = true;\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (!skipAttr) {\n\t\t\t\t\t\tif (docMode8) { // IE8 setAttribute bug\n\t\t\t\t\t\t\telement[key] = value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tattr(element, key, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t},\n\n\t/**\n\t * Set the element's clipping to a predefined rectangle\n\t *\n\t * @param {String} id The id of the clip rectangle\n\t */\n\tclip: function (clipRect) {\n\t\tvar wrapper = this,\n\t\t\tclipMembers,\n\t\t\tcssRet;\n\n\t\tif (clipRect) {\n\t\t\tclipMembers = clipRect.members;\n\t\t\terase(clipMembers, wrapper); // Ensure unique list of elements (#1258)\n\t\t\tclipMembers.push(wrapper);\n\t\t\twrapper.destroyClip = function () {\n\t\t\t\terase(clipMembers, wrapper);\n\t\t\t};\n\t\t\tcssRet = clipRect.getCSS(wrapper);\n\n\t\t} else {\n\t\t\tif (wrapper.destroyClip) {\n\t\t\t\twrapper.destroyClip();\n\t\t\t}\n\t\t\tcssRet = { clip: docMode8 ? 'inherit' : 'rect(auto)' }; // #1214\n\t\t}\n\n\t\treturn wrapper.css(cssRet);\n\n\t},\n\n\t/**\n\t * Set styles for the element\n\t * @param {Object} styles\n\t */\n\tcss: SVGElement.prototype.htmlCss,\n\n\t/**\n\t * Removes a child either by removeChild or move to garbageBin.\n\t * Issue 490; in VML removeChild results in Orphaned nodes according to sIEve, discardElement does not.\n\t */\n\tsafeRemoveChild: function (element) {\n\t\t// discardElement will detach the node from its parent before attaching it\n\t\t// to the garbage bin. Therefore it is important that the node is attached and have parent.\n\t\tif (element.parentNode) {\n\t\t\tdiscardElement(element);\n\t\t}\n\t},\n\n\t/**\n\t * Extend element.destroy by removing it from the clip members array\n\t */\n\tdestroy: function () {\n\t\tif (this.destroyClip) {\n\t\t\tthis.destroyClip();\n\t\t}\n\n\t\treturn SVGElement.prototype.destroy.apply(this);\n\t},\n\n\t/**\n\t * Add an event listener. VML override for normalizing event parameters.\n\t * @param {String} eventType\n\t * @param {Function} handler\n\t */\n\ton: function (eventType, handler) {\n\t\t// simplest possible event model for internal use\n\t\tthis.element['on' + eventType] = function () {\n\t\t\tvar evt = win.event;\n\t\t\tevt.target = evt.srcElement;\n\t\t\thandler(evt);\n\t\t};\n\t\treturn this;\n\t},\n\n\t/**\n\t * In stacked columns, cut off the shadows so that they don't overlap\n\t */\n\tcutOffPath: function (path, length) {\n\n\t\tvar len;\n\n\t\tpath = path.split(/[ ,]/);\n\t\tlen = path.length;\n\n\t\tif (len === 9 || len === 11) {\n\t\t\tpath[len - 4] = path[len - 2] = pInt(path[len - 2]) - 10 * length;\n\t\t}\n\t\treturn path.join(' ');\n\t},\n\n\t/**\n\t * Apply a drop shadow by copying elements and giving them different strokes\n\t * @param {Boolean|Object} shadowOptions\n\t */\n\tshadow: function (shadowOptions, group, cutOff) {\n\t\tvar shadows = [],\n\t\t\ti,\n\t\t\telement = this.element,\n\t\t\trenderer = this.renderer,\n\t\t\tshadow,\n\t\t\telemStyle = element.style,\n\t\t\tmarkup,\n\t\t\tpath = element.path,\n\t\t\tstrokeWidth,\n\t\t\tmodifiedPath,\n\t\t\tshadowWidth,\n\t\t\tshadowElementOpacity;\n\n\t\t// some times empty paths are not strings\n\t\tif (path && typeof path.value !== 'string') {\n\t\t\tpath = 'x';\n\t\t}\n\t\tmodifiedPath = path;\n\n\t\tif (shadowOptions) {\n\t\t\tshadowWidth = pick(shadowOptions.width, 3);\n\t\t\tshadowElementOpacity = (shadowOptions.opacity || 0.15) / shadowWidth;\n\t\t\tfor (i = 1; i <= 3; i++) {\n\n\t\t\t\tstrokeWidth = (shadowWidth * 2) + 1 - (2 * i);\n\n\t\t\t\t// Cut off shadows for stacked column items\n\t\t\t\tif (cutOff) {\n\t\t\t\t\tmodifiedPath = this.cutOffPath(path.value, strokeWidth + 0.5);\n\t\t\t\t}\n\n\t\t\t\tmarkup = ['<shape isShadow=\"true\" strokeweight=\"', strokeWidth,\n\t\t\t\t\t'\" filled=\"false\" path=\"', modifiedPath,\n\t\t\t\t\t'\" coordsize=\"10 10\" style=\"', element.style.cssText, '\" />'];\n\n\t\t\t\tshadow = createElement(renderer.prepVML(markup),\n\t\t\t\t\tnull, {\n\t\t\t\t\t\tleft: pInt(elemStyle.left) + pick(shadowOptions.offsetX, 1),\n\t\t\t\t\t\ttop: pInt(elemStyle.top) + pick(shadowOptions.offsetY, 1)\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif (cutOff) {\n\t\t\t\t\tshadow.cutOff = strokeWidth + 1;\n\t\t\t\t}\n\n\t\t\t\t// apply the opacity\n\t\t\t\tmarkup = ['<stroke color=\"', shadowOptions.color || 'black', '\" opacity=\"', shadowElementOpacity * i, '\"/>'];\n\t\t\t\tcreateElement(renderer.prepVML(markup), null, null, shadow);\n\n\n\t\t\t\t// insert it\n\t\t\t\tif (group) {\n\t\t\t\t\tgroup.element.appendChild(shadow);\n\t\t\t\t} else {\n\t\t\t\t\telement.parentNode.insertBefore(shadow, element);\n\t\t\t\t}\n\n\t\t\t\t// record it\n\t\t\t\tshadows.push(shadow);\n\n\t\t\t}\n\n\t\t\tthis.shadows = shadows;\n\t\t}\n\t\treturn this;\n\n\t}\n};\nVMLElement = extendClass(SVGElement, VMLElement);\n\n/**\n * The VML renderer\n */\nvar VMLRendererExtension = { // inherit SVGRenderer\n\n\tElement: VMLElement,\n\tisIE8: userAgent.indexOf('MSIE 8.0') > -1,\n\n\n\t/**\n\t * Initialize the VMLRenderer\n\t * @param {Object} container\n\t * @param {Number} width\n\t * @param {Number} height\n\t */\n\tinit: function (container, width, height) {\n\t\tvar renderer = this,\n\t\t\tboxWrapper,\n\t\t\tbox;\n\n\t\trenderer.alignedObjects = [];\n\n\t\tboxWrapper = renderer.createElement(DIV);\n\t\tbox = boxWrapper.element;\n\t\tbox.style.position = RELATIVE; // for freeform drawing using renderer directly\n\t\tcontainer.appendChild(boxWrapper.element);\n\n\n\t\t// generate the containing box\n\t\trenderer.isVML = true;\n\t\trenderer.box = box;\n\t\trenderer.boxWrapper = boxWrapper;\n\n\n\t\trenderer.setSize(width, height, false);\n\n\t\t// The only way to make IE6 and IE7 print is to use a global namespace. However,\n\t\t// with IE8 the only way to make the dynamic shapes visible in screen and print mode\n\t\t// seems to be to add the xmlns attribute and the behaviour style inline.\n\t\tif (!doc.namespaces.hcv) {\n\n\t\t\tdoc.namespaces.add('hcv', 'urn:schemas-microsoft-com:vml');\n\n\t\t\t// Setup default CSS (#2153)\n\t\t\t(doc.styleSheets.length ? doc.styleSheets[0] : doc.createStyleSheet()).cssText +=\n\t\t\t\t'hcv\\\\:fill, hcv\\\\:path, hcv\\\\:shape, hcv\\\\:stroke' +\n\t\t\t\t'{ behavior:url(#default#VML); display: inline-block; } ';\n\n\t\t}\n\t},\n\n\n\t/**\n\t * Detect whether the renderer is hidden. This happens when one of the parent elements\n\t * has display: none\n\t */\n\tisHidden: function () {\n\t\treturn !this.box.offsetWidth;\n\t},\n\n\t/**\n\t * Define a clipping rectangle. In VML it is accomplished by storing the values\n\t * for setting the CSS style to all associated members.\n\t *\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} width\n\t * @param {Number} height\n\t */\n\tclipRect: function (x, y, width, height) {\n\n\t\t// create a dummy element\n\t\tvar clipRect = this.createElement(),\n\t\t\tisObj = isObject(x);\n\n\t\t// mimic a rectangle with its style object for automatic updating in attr\n\t\treturn extend(clipRect, {\n\t\t\tmembers: [],\n\t\t\tleft: (isObj ? x.x : x) + 1,\n\t\t\ttop: (isObj ? x.y : y) + 1,\n\t\t\twidth: (isObj ? x.width : width) - 1,\n\t\t\theight: (isObj ? x.height : height) - 1,\n\t\t\tgetCSS: function (wrapper) {\n\t\t\t\tvar element = wrapper.element,\n\t\t\t\t\tnodeName = element.nodeName,\n\t\t\t\t\tisShape = nodeName === 'shape',\n\t\t\t\t\tinverted = wrapper.inverted,\n\t\t\t\t\trect = this,\n\t\t\t\t\ttop = rect.top - (isShape ? element.offsetTop : 0),\n\t\t\t\t\tleft = rect.left,\n\t\t\t\t\tright = left + rect.width,\n\t\t\t\t\tbottom = top + rect.height,\n\t\t\t\t\tret = {\n\t\t\t\t\t\tclip: 'rect(' +\n\t\t\t\t\t\t\tmathRound(inverted ? left : top) + 'px,' +\n\t\t\t\t\t\t\tmathRound(inverted ? bottom : right) + 'px,' +\n\t\t\t\t\t\t\tmathRound(inverted ? right : bottom) + 'px,' +\n\t\t\t\t\t\t\tmathRound(inverted ? top : left) + 'px)'\n\t\t\t\t\t};\n\n\t\t\t\t// issue 74 workaround\n\t\t\t\tif (!inverted && docMode8 && nodeName === 'DIV') {\n\t\t\t\t\textend(ret, {\n\t\t\t\t\t\twidth: right + PX,\n\t\t\t\t\t\theight: bottom + PX\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// used in attr and animation to update the clipping of all members\n\t\t\tupdateClipping: function () {\n\t\t\t\teach(clipRect.members, function (member) {\n\t\t\t\t\tmember.css(clipRect.getCSS(member));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t},\n\n\n\t/**\n\t * Take a color and return it if it's a string, make it a gradient if it's a\n\t * gradient configuration object, and apply opacity.\n\t *\n\t * @param {Object} color The color or config object\n\t */\n\tcolor: function (color, elem, prop, wrapper) {\n\t\tvar renderer = this,\n\t\t\tcolorObject,\n\t\t\tregexRgba = /^rgba/,\n\t\t\tmarkup,\n\t\t\tfillType,\n\t\t\tret = NONE;\n\n\t\t// Check for linear or radial gradient\n\t\tif (color && color.linearGradient) {\n\t\t\tfillType = 'gradient';\n\t\t} else if (color && color.radialGradient) {\n\t\t\tfillType = 'pattern';\n\t\t}\n\n\n\t\tif (fillType) {\n\n\t\t\tvar stopColor,\n\t\t\t\tstopOpacity,\n\t\t\t\tgradient = color.linearGradient || color.radialGradient,\n\t\t\t\tx1,\n\t\t\t\ty1,\n\t\t\t\tx2,\n\t\t\t\ty2,\n\t\t\t\topacity1,\n\t\t\t\topacity2,\n\t\t\t\tcolor1,\n\t\t\t\tcolor2,\n\t\t\t\tfillAttr = '',\n\t\t\t\tstops = color.stops,\n\t\t\t\tfirstStop,\n\t\t\t\tlastStop,\n\t\t\t\tcolors = [],\n\t\t\t\taddFillNode = function () {\n\t\t\t\t\t// Add the fill subnode. When colors attribute is used, the meanings of opacity and o:opacity2\n\t\t\t\t\t// are reversed.\n\t\t\t\t\tmarkup = ['<fill colors=\"' + colors.join(',') + '\" opacity=\"', opacity2, '\" o:opacity2=\"', opacity1,\n\t\t\t\t\t\t'\" type=\"', fillType, '\" ', fillAttr, 'focus=\"100%\" method=\"any\" />'];\n\t\t\t\t\tcreateElement(renderer.prepVML(markup), null, null, elem);\n\t\t\t\t};\n\n\t\t\t// Extend from 0 to 1\n\t\t\tfirstStop = stops[0];\n\t\t\tlastStop = stops[stops.length - 1];\n\t\t\tif (firstStop[0] > 0) {\n\t\t\t\tstops.unshift([\n\t\t\t\t\t0,\n\t\t\t\t\tfirstStop[1]\n\t\t\t\t]);\n\t\t\t}\n\t\t\tif (lastStop[0] < 1) {\n\t\t\t\tstops.push([\n\t\t\t\t\t1,\n\t\t\t\t\tlastStop[1]\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\t// Compute the stops\n\t\t\teach(stops, function (stop, i) {\n\t\t\t\tif (regexRgba.test(stop[1])) {\n\t\t\t\t\tcolorObject = Color(stop[1]);\n\t\t\t\t\tstopColor = colorObject.get('rgb');\n\t\t\t\t\tstopOpacity = colorObject.get('a');\n\t\t\t\t} else {\n\t\t\t\t\tstopColor = stop[1];\n\t\t\t\t\tstopOpacity = 1;\n\t\t\t\t}\n\n\t\t\t\t// Build the color attribute\n\t\t\t\tcolors.push((stop[0] * 100) + '% ' + stopColor);\n\n\t\t\t\t// Only start and end opacities are allowed, so we use the first and the last\n\t\t\t\tif (!i) {\n\t\t\t\t\topacity1 = stopOpacity;\n\t\t\t\t\tcolor2 = stopColor;\n\t\t\t\t} else {\n\t\t\t\t\topacity2 = stopOpacity;\n\t\t\t\t\tcolor1 = stopColor;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Apply the gradient to fills only.\n\t\t\tif (prop === 'fill') {\n\n\t\t\t\t// Handle linear gradient angle\n\t\t\t\tif (fillType === 'gradient') {\n\t\t\t\t\tx1 = gradient.x1 || gradient[0] || 0;\n\t\t\t\t\ty1 = gradient.y1 || gradient[1] || 0;\n\t\t\t\t\tx2 = gradient.x2 || gradient[2] || 0;\n\t\t\t\t\ty2 = gradient.y2 || gradient[3] || 0;\n\t\t\t\t\tfillAttr = 'angle=\"' + (90  - math.atan(\n\t\t\t\t\t\t(y2 - y1) / // y vector\n\t\t\t\t\t\t(x2 - x1) // x vector\n\t\t\t\t\t\t) * 180 / mathPI) + '\"';\n\n\t\t\t\t\taddFillNode();\n\n\t\t\t\t// Radial (circular) gradient\n\t\t\t\t} else {\n\n\t\t\t\t\tvar r = gradient.r,\n\t\t\t\t\t\tsizex = r * 2,\n\t\t\t\t\t\tsizey = r * 2,\n\t\t\t\t\t\tcx = gradient.cx,\n\t\t\t\t\t\tcy = gradient.cy,\n\t\t\t\t\t\tradialReference = elem.radialReference,\n\t\t\t\t\t\tbBox,\n\t\t\t\t\t\tapplyRadialGradient = function () {\n\t\t\t\t\t\t\tif (radialReference) {\n\t\t\t\t\t\t\t\tbBox = wrapper.getBBox();\n\t\t\t\t\t\t\t\tcx += (radialReference[0] - bBox.x) / bBox.width - 0.5;\n\t\t\t\t\t\t\t\tcy += (radialReference[1] - bBox.y) / bBox.height - 0.5;\n\t\t\t\t\t\t\t\tsizex *= radialReference[2] / bBox.width;\n\t\t\t\t\t\t\t\tsizey *= radialReference[2] / bBox.height;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfillAttr = 'src=\"' + defaultOptions.global.VMLRadialGradientURL + '\" ' +\n\t\t\t\t\t\t\t\t'size=\"' + sizex + ',' + sizey + '\" ' +\n\t\t\t\t\t\t\t\t'origin=\"0.5,0.5\" ' +\n\t\t\t\t\t\t\t\t'position=\"' + cx + ',' + cy + '\" ' +\n\t\t\t\t\t\t\t\t'color2=\"' + color2 + '\" ';\n\n\t\t\t\t\t\t\taddFillNode();\n\t\t\t\t\t\t};\n\n\t\t\t\t\t// Apply radial gradient\n\t\t\t\t\tif (wrapper.added) {\n\t\t\t\t\t\tapplyRadialGradient();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// We need to know the bounding box to get the size and position right\n\t\t\t\t\t\taddEvent(wrapper, 'add', applyRadialGradient);\n\t\t\t\t\t}\n\n\t\t\t\t\t// The fill element's color attribute is broken in IE8 standards mode, so we\n\t\t\t\t\t// need to set the parent shape's fillcolor attribute instead.\n\t\t\t\t\tret = color1;\n\t\t\t\t}\n\n\t\t\t// Gradients are not supported for VML stroke, return the first color. #722.\n\t\t\t} else {\n\t\t\t\tret = stopColor;\n\t\t\t}\n\n\t\t// if the color is an rgba color, split it and add a fill node\n\t\t// to hold the opacity component\n\t\t} else if (regexRgba.test(color) && elem.tagName !== 'IMG') {\n\n\t\t\tcolorObject = Color(color);\n\n\t\t\tmarkup = ['<', prop, ' opacity=\"', colorObject.get('a'), '\"/>'];\n\t\t\tcreateElement(this.prepVML(markup), null, null, elem);\n\n\t\t\tret = colorObject.get('rgb');\n\n\n\t\t} else {\n\t\t\tvar propNodes = elem.getElementsByTagName(prop); // 'stroke' or 'fill' node\n\t\t\tif (propNodes.length) {\n\t\t\t\tpropNodes[0].opacity = 1;\n\t\t\t\tpropNodes[0].type = 'solid';\n\t\t\t}\n\t\t\tret = color;\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\t/**\n\t * Take a VML string and prepare it for either IE8 or IE6/IE7.\n\t * @param {Array} markup A string array of the VML markup to prepare\n\t */\n\tprepVML: function (markup) {\n\t\tvar vmlStyle = 'display:inline-block;behavior:url(#default#VML);',\n\t\t\tisIE8 = this.isIE8;\n\n\t\tmarkup = markup.join('');\n\n\t\tif (isIE8) { // add xmlns and style inline\n\t\t\tmarkup = markup.replace('/>', ' xmlns=\"urn:schemas-microsoft-com:vml\" />');\n\t\t\tif (markup.indexOf('style=\"') === -1) {\n\t\t\t\tmarkup = markup.replace('/>', ' style=\"' + vmlStyle + '\" />');\n\t\t\t} else {\n\t\t\t\tmarkup = markup.replace('style=\"', 'style=\"' + vmlStyle);\n\t\t\t}\n\n\t\t} else { // add namespace\n\t\t\tmarkup = markup.replace('<', '<hcv:');\n\t\t}\n\n\t\treturn markup;\n\t},\n\n\t/**\n\t * Create rotated and aligned text\n\t * @param {String} str\n\t * @param {Number} x\n\t * @param {Number} y\n\t */\n\ttext: SVGRenderer.prototype.html,\n\n\t/**\n\t * Create and return a path element\n\t * @param {Array} path\n\t */\n\tpath: function (path) {\n\t\tvar attr = {\n\t\t\t// subpixel precision down to 0.1 (width and height = 1px)\n\t\t\tcoordsize: '10 10'\n\t\t};\n\t\tif (isArray(path)) {\n\t\t\tattr.d = path;\n\t\t} else if (isObject(path)) { // attributes\n\t\t\textend(attr, path);\n\t\t}\n\t\t// create the shape\n\t\treturn this.createElement('shape').attr(attr);\n\t},\n\n\t/**\n\t * Create and return a circle element. In VML circles are implemented as\n\t * shapes, which is faster than v:oval\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} r\n\t */\n\tcircle: function (x, y, r) {\n\t\tvar circle = this.symbol('circle');\n\t\tif (isObject(x)) {\n\t\t\tr = x.r;\n\t\t\ty = x.y;\n\t\t\tx = x.x;\n\t\t}\n\t\tcircle.isCircle = true; // Causes x and y to mean center (#1682)\n\t\tcircle.r = r;\n\t\treturn circle.attr({ x: x, y: y });\n\t},\n\n\t/**\n\t * Create a group using an outer div and an inner v:group to allow rotating\n\t * and flipping. A simple v:group would have problems with positioning\n\t * child HTML elements and CSS clip.\n\t *\n\t * @param {String} name The name of the group\n\t */\n\tg: function (name) {\n\t\tvar wrapper,\n\t\t\tattribs;\n\n\t\t// set the class name\n\t\tif (name) {\n\t\t\tattribs = { 'className': PREFIX + name, 'class': PREFIX + name };\n\t\t}\n\n\t\t// the div to hold HTML and clipping\n\t\twrapper = this.createElement(DIV).attr(attribs);\n\n\t\treturn wrapper;\n\t},\n\n\t/**\n\t * VML override to create a regular HTML image\n\t * @param {String} src\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @param {Number} width\n\t * @param {Number} height\n\t */\n\timage: function (src, x, y, width, height) {\n\t\tvar obj = this.createElement('img')\n\t\t\t.attr({ src: src });\n\n\t\tif (arguments.length > 1) {\n\t\t\tobj.attr({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t});\n\t\t}\n\t\treturn obj;\n\t},\n\n\t/**\n\t * VML uses a shape for rect to overcome bugs and rotation problems\n\t */\n\trect: function (x, y, width, height, r, strokeWidth) {\n\n\t\tvar wrapper = this.symbol('rect');\n\t\twrapper.r = isObject(x) ? x.r : r;\n\n\t\t//return wrapper.attr(wrapper.crisp(strokeWidth, x, y, mathMax(width, 0), mathMax(height, 0)));\n\t\treturn wrapper.attr(\n\t\t\t\tisObject(x) ?\n\t\t\t\t\tx :\n\t\t\t\t\t// do not crispify when an object is passed in (as in column charts)\n\t\t\t\t\twrapper.crisp(strokeWidth, x, y, mathMax(width, 0), mathMax(height, 0))\n\t\t\t);\n\t},\n\n\t/**\n\t * In the VML renderer, each child of an inverted div (group) is inverted\n\t * @param {Object} element\n\t * @param {Object} parentNode\n\t */\n\tinvertChild: function (element, parentNode) {\n\t\tvar parentStyle = parentNode.style;\n\t\tcss(element, {\n\t\t\tflip: 'x',\n\t\t\tleft: pInt(parentStyle.width) - 1,\n\t\t\ttop: pInt(parentStyle.height) - 1,\n\t\t\trotation: -90\n\t\t});\n\t},\n\n\t/**\n\t * Symbol definitions that override the parent SVG renderer's symbols\n\t *\n\t */\n\tsymbols: {\n\t\t// VML specific arc function\n\t\tarc: function (x, y, w, h, options) {\n\t\t\tvar start = options.start,\n\t\t\t\tend = options.end,\n\t\t\t\tradius = options.r || w || h,\n\t\t\t\tinnerRadius = options.innerR,\n\t\t\t\tcosStart = mathCos(start),\n\t\t\t\tsinStart = mathSin(start),\n\t\t\t\tcosEnd = mathCos(end),\n\t\t\t\tsinEnd = mathSin(end),\n\t\t\t\tret;\n\n\t\t\tif (end - start === 0) { // no angle, don't show it.\n\t\t\t\treturn ['x'];\n\t\t\t}\n\n\t\t\tret = [\n\t\t\t\t'wa', // clockwise arc to\n\t\t\t\tx - radius, // left\n\t\t\t\ty - radius, // top\n\t\t\t\tx + radius, // right\n\t\t\t\ty + radius, // bottom\n\t\t\t\tx + radius * cosStart, // start x\n\t\t\t\ty + radius * sinStart, // start y\n\t\t\t\tx + radius * cosEnd, // end x\n\t\t\t\ty + radius * sinEnd  // end y\n\t\t\t];\n\n\t\t\tif (options.open && !innerRadius) {\n\t\t\t\tret.push(\n\t\t\t\t\t'e',\n\t\t\t\t\tM,\n\t\t\t\t\tx,// - innerRadius,\n\t\t\t\t\ty// - innerRadius\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tret.push(\n\t\t\t\t'at', // anti clockwise arc to\n\t\t\t\tx - innerRadius, // left\n\t\t\t\ty - innerRadius, // top\n\t\t\t\tx + innerRadius, // right\n\t\t\t\ty + innerRadius, // bottom\n\t\t\t\tx + innerRadius * cosEnd, // start x\n\t\t\t\ty + innerRadius * sinEnd, // start y\n\t\t\t\tx + innerRadius * cosStart, // end x\n\t\t\t\ty + innerRadius * sinStart, // end y\n\t\t\t\t'x', // finish path\n\t\t\t\t'e' // close\n\t\t\t);\n\n\t\t\tret.isArc = true;\n\t\t\treturn ret;\n\n\t\t},\n\t\t// Add circle symbol path. This performs significantly faster than v:oval.\n\t\tcircle: function (x, y, w, h, wrapper) {\n\n\t\t\tif (wrapper) {\n\t\t\t\tw = h = 2 * wrapper.r;\n\t\t\t}\n\n\t\t\t// Center correction, #1682\n\t\t\tif (wrapper && wrapper.isCircle) {\n\t\t\t\tx -= w / 2;\n\t\t\t\ty -= h / 2;\n\t\t\t}\n\n\t\t\t// Return the path\n\t\t\treturn [\n\t\t\t\t'wa', // clockwisearcto\n\t\t\t\tx, // left\n\t\t\t\ty, // top\n\t\t\t\tx + w, // right\n\t\t\t\ty + h, // bottom\n\t\t\t\tx + w, // start x\n\t\t\t\ty + h / 2,     // start y\n\t\t\t\tx + w, // end x\n\t\t\t\ty + h / 2,     // end y\n\t\t\t\t//'x', // finish path\n\t\t\t\t'e' // close\n\t\t\t];\n\t\t},\n\t\t/**\n\t\t * Add rectangle symbol path which eases rotation and omits arcsize problems\n\t\t * compared to the built-in VML roundrect shape\n\t\t *\n\t\t * @param {Number} left Left position\n\t\t * @param {Number} top Top position\n\t\t * @param {Number} r Border radius\n\t\t * @param {Object} options Width and height\n\t\t */\n\n\t\trect: function (left, top, width, height, options) {\n\n\t\t\tvar right = left + width,\n\t\t\t\tbottom = top + height,\n\t\t\t\tret,\n\t\t\t\tr;\n\n\t\t\t// No radius, return the more lightweight square\n\t\t\tif (!defined(options) || !options.r) {\n\t\t\t\tret = SVGRenderer.prototype.symbols.square.apply(0, arguments);\n\n\t\t\t// Has radius add arcs for the corners\n\t\t\t} else {\n\n\t\t\t\tr = mathMin(options.r, width, height);\n\t\t\t\tret = [\n\t\t\t\t\tM,\n\t\t\t\t\tleft + r, top,\n\n\t\t\t\t\tL,\n\t\t\t\t\tright - r, top,\n\t\t\t\t\t'wa',\n\t\t\t\t\tright - 2 * r, top,\n\t\t\t\t\tright, top + 2 * r,\n\t\t\t\t\tright - r, top,\n\t\t\t\t\tright, top + r,\n\n\t\t\t\t\tL,\n\t\t\t\t\tright, bottom - r,\n\t\t\t\t\t'wa',\n\t\t\t\t\tright - 2 * r, bottom - 2 * r,\n\t\t\t\t\tright, bottom,\n\t\t\t\t\tright, bottom - r,\n\t\t\t\t\tright - r, bottom,\n\n\t\t\t\t\tL,\n\t\t\t\t\tleft + r, bottom,\n\t\t\t\t\t'wa',\n\t\t\t\t\tleft, bottom - 2 * r,\n\t\t\t\t\tleft + 2 * r, bottom,\n\t\t\t\t\tleft + r, bottom,\n\t\t\t\t\tleft, bottom - r,\n\n\t\t\t\t\tL,\n\t\t\t\t\tleft, top + r,\n\t\t\t\t\t'wa',\n\t\t\t\t\tleft, top,\n\t\t\t\t\tleft + 2 * r, top + 2 * r,\n\t\t\t\t\tleft, top + r,\n\t\t\t\t\tleft + r, top,\n\n\n\t\t\t\t\t'x',\n\t\t\t\t\t'e'\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t}\n};\nHighcharts.VMLRenderer = VMLRenderer = function () {\n\tthis.init.apply(this, arguments);\n};\nVMLRenderer.prototype = merge(SVGRenderer.prototype, VMLRendererExtension);\n\n\t// general renderer\n\tRenderer = VMLRenderer;\n}\n\n/* ****************************************************************************\n *                                                                            *\n * END OF INTERNET EXPLORER <= 8 SPECIFIC CODE                                *\n *                                                                            *\n *****************************************************************************/\n/* ****************************************************************************\n *                                                                            *\n * START OF ANDROID < 3 SPECIFIC CODE. THIS CAN BE REMOVED IF YOU'RE NOT      *\n * TARGETING THAT SYSTEM.                                                     *\n *                                                                            *\n *****************************************************************************/\nvar CanVGRenderer,\n\tCanVGController;\n\nif (useCanVG) {\n\t/**\n\t * The CanVGRenderer is empty from start to keep the source footprint small.\n\t * When requested, the CanVGController downloads the rest of the source packaged\n\t * together with the canvg library.\n\t */\n\tHighcharts.CanVGRenderer = CanVGRenderer = function () {\n\t\t// Override the global SVG namespace to fake SVG/HTML that accepts CSS\n\t\tSVG_NS = 'http://www.w3.org/1999/xhtml';\n\t};\n\n\t/**\n\t * Start with an empty symbols object. This is needed when exporting is used (exporting.src.js will add a few symbols), but \n\t * the implementation from SvgRenderer will not be merged in until first render.\n\t */\n\tCanVGRenderer.prototype.symbols = {};\n\n\t/**\n\t * Handles on demand download of canvg rendering support.\n\t */\n\tCanVGController = (function () {\n\t\t// List of renderering calls\n\t\tvar deferredRenderCalls = [];\n\n\t\t/**\n\t\t * When downloaded, we are ready to draw deferred charts.\n\t\t */\n\t\tfunction drawDeferred() {\n\t\t\tvar callLength = deferredRenderCalls.length,\n\t\t\t\tcallIndex;\n\n\t\t\t// Draw all pending render calls\n\t\t\tfor (callIndex = 0; callIndex < callLength; callIndex++) {\n\t\t\t\tdeferredRenderCalls[callIndex]();\n\t\t\t}\n\t\t\t// Clear the list\n\t\t\tdeferredRenderCalls = [];\n\t\t}\n\n\t\treturn {\n\t\t\tpush: function (func, scriptLocation) {\n\t\t\t\t// Only get the script once\n\t\t\t\tif (deferredRenderCalls.length === 0) {\n\t\t\t\t\tgetScript(scriptLocation, drawDeferred);\n\t\t\t\t}\n\t\t\t\t// Register render call\n\t\t\t\tdeferredRenderCalls.push(func);\n\t\t\t}\n\t\t};\n\t}());\n\n\tRenderer = CanVGRenderer;\n} // end CanVGRenderer\n\n/* ****************************************************************************\n *                                                                            *\n * END OF ANDROID < 3 SPECIFIC CODE                                           *\n *                                                                            *\n *****************************************************************************/\n\n/**\n * The Tick class\n */\nfunction Tick(axis, pos, type, noLabel) {\n\tthis.axis = axis;\n\tthis.pos = pos;\n\tthis.type = type || '';\n\tthis.isNew = true;\n\n\tif (!type && !noLabel) {\n\t\tthis.addLabel();\n\t}\n}\n\nTick.prototype = {\n\t/**\n\t * Write the tick label\n\t */\n\taddLabel: function () {\n\t\tvar tick = this,\n\t\t\taxis = tick.axis,\n\t\t\toptions = axis.options,\n\t\t\tchart = axis.chart,\n\t\t\thoriz = axis.horiz,\n\t\t\tcategories = axis.categories,\n\t\t\tnames = axis.series[0] && axis.series[0].names,\n\t\t\tpos = tick.pos,\n\t\t\tlabelOptions = options.labels,\n\t\t\tstr,\n\t\t\ttickPositions = axis.tickPositions,\n\t\t\twidth = (horiz && categories &&\n\t\t\t\t!labelOptions.step && !labelOptions.staggerLines &&\n\t\t\t\t!labelOptions.rotation &&\n\t\t\t\tchart.plotWidth / tickPositions.length) ||\n\t\t\t\t(!horiz && (chart.margin[3] || chart.chartWidth * 0.33)), // #1580, #1931\n\t\t\tisFirst = pos === tickPositions[0],\n\t\t\tisLast = pos === tickPositions[tickPositions.length - 1],\n\t\t\tcss,\n\t\t\tattr,\n\t\t\tvalue = categories ?\n\t\t\t\tpick(categories[pos], names && names[pos], pos) : \n\t\t\t\tpos,\n\t\t\tlabel = tick.label,\n\t\t\ttickPositionInfo = tickPositions.info,\n\t\t\tdateTimeLabelFormat;\n\n\t\t// Set the datetime label format. If a higher rank is set for this position, use that. If not,\n\t\t// use the general format.\n\t\tif (axis.isDatetimeAxis && tickPositionInfo) {\n\t\t\tdateTimeLabelFormat = options.dateTimeLabelFormats[tickPositionInfo.higherRanks[pos] || tickPositionInfo.unitName];\n\t\t}\n\n\t\t// set properties for access in render method\n\t\ttick.isFirst = isFirst;\n\t\ttick.isLast = isLast;\n\n\t\t// get the string\n\t\tstr = axis.labelFormatter.call({\n\t\t\taxis: axis,\n\t\t\tchart: chart,\n\t\t\tisFirst: isFirst,\n\t\t\tisLast: isLast,\n\t\t\tdateTimeLabelFormat: dateTimeLabelFormat,\n\t\t\tvalue: axis.isLog ? correctFloat(lin2log(value)) : value\n\t\t});\n\n\t\t// prepare CSS\n\t\tcss = width && { width: mathMax(1, mathRound(width - 2 * (labelOptions.padding || 10))) + PX };\n\t\tcss = extend(css, labelOptions.style);\n\n\t\t// first call\n\t\tif (!defined(label)) {\n\t\t\tattr = {\n\t\t\t\talign: axis.labelAlign\n\t\t\t};\n\t\t\tif (isNumber(labelOptions.rotation)) {\n\t\t\t\tattr.rotation = labelOptions.rotation;\n\t\t\t}\n\t\t\tif (width && labelOptions.ellipsis) {\n\t\t\t\tattr._clipHeight = axis.len / tickPositions.length;\n\t\t\t}\n\n\t\t\ttick.label =\n\t\t\t\tdefined(str) && labelOptions.enabled ?\n\t\t\t\t\tchart.renderer.text(\n\t\t\t\t\t\t\tstr,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tlabelOptions.useHTML\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.attr(attr)\n\t\t\t\t\t\t// without position absolute, IE export sometimes is wrong\n\t\t\t\t\t\t.css(css)\n\t\t\t\t\t\t.add(axis.labelGroup) :\n\t\t\t\t\tnull;\n\n\t\t// update\n\t\t} else if (label) {\n\t\t\tlabel.attr({\n\t\t\t\t\ttext: str\n\t\t\t\t})\n\t\t\t\t.css(css);\n\t\t}\n\t},\n\n\t/**\n\t * Get the offset height or width of the label\n\t */\n\tgetLabelSize: function () {\n\t\tvar label = this.label,\n\t\t\taxis = this.axis;\n\t\treturn label ?\n\t\t\t((this.labelBBox = label.getBBox()))[axis.horiz ? 'height' : 'width'] :\n\t\t\t0;\n\t},\n\n\t/**\n\t * Find how far the labels extend to the right and left of the tick's x position. Used for anti-collision\n\t * detection with overflow logic.\n\t */\n\tgetLabelSides: function () {\n\t\tvar bBox = this.labelBBox, // assume getLabelSize has run at this point\n\t\t\taxis = this.axis,\n\t\t\toptions = axis.options,\n\t\t\tlabelOptions = options.labels,\n\t\t\twidth = bBox.width,\n\t\t\tleftSide = width * { left: 0, center: 0.5, right: 1 }[axis.labelAlign] - labelOptions.x;\n\n\t\treturn [-leftSide, width - leftSide];\n\t},\n\n\t/**\n\t * Handle the label overflow by adjusting the labels to the left and right edge, or\n\t * hide them if they collide into the neighbour label.\n\t */\n\thandleOverflow: function (index, xy) {\n\t\tvar show = true,\n\t\t\taxis = this.axis,\n\t\t\tchart = axis.chart,\n\t\t\tisFirst = this.isFirst,\n\t\t\tisLast = this.isLast,\n\t\t\tx = xy.x,\n\t\t\treversed = axis.reversed,\n\t\t\ttickPositions = axis.tickPositions;\n\n\t\tif (isFirst || isLast) {\n\n\t\t\tvar sides = this.getLabelSides(),\n\t\t\t\tleftSide = sides[0],\n\t\t\t\trightSide = sides[1],\n\t\t\t\tplotLeft = chart.plotLeft,\n\t\t\t\tplotRight = plotLeft + axis.len,\n\t\t\t\tneighbour = axis.ticks[tickPositions[index + (isFirst ? 1 : -1)]],\n\t\t\t\tneighbourEdge = neighbour && neighbour.label.xy && neighbour.label.xy.x + neighbour.getLabelSides()[isFirst ? 0 : 1];\n\n\t\t\tif ((isFirst && !reversed) || (isLast && reversed)) {\n\t\t\t\t// Is the label spilling out to the left of the plot area?\n\t\t\t\tif (x + leftSide < plotLeft) {\n\n\t\t\t\t\t// Align it to plot left\n\t\t\t\t\tx = plotLeft - leftSide;\n\n\t\t\t\t\t// Hide it if it now overlaps the neighbour label\n\t\t\t\t\tif (neighbour && x + rightSide > neighbourEdge) {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// Is the label spilling out to the right of the plot area?\n\t\t\t\tif (x + rightSide > plotRight) {\n\n\t\t\t\t\t// Align it to plot right\n\t\t\t\t\tx = plotRight - rightSide;\n\n\t\t\t\t\t// Hide it if it now overlaps the neighbour label\n\t\t\t\t\tif (neighbour && x + leftSide < neighbourEdge) {\n\t\t\t\t\t\tshow = false;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set the modified x position of the label\n\t\t\txy.x = x;\n\t\t}\n\t\treturn show;\n\t},\n\n\t/**\n\t * Get the x and y position for ticks and labels\n\t */\n\tgetPosition: function (horiz, pos, tickmarkOffset, old) {\n\t\tvar axis = this.axis,\n\t\t\tchart = axis.chart,\n\t\t\tcHeight = (old && chart.oldChartHeight) || chart.chartHeight;\n\t\t\n\t\treturn {\n\t\t\tx: horiz ?\n\t\t\t\taxis.translate(pos + tickmarkOffset, null, null, old) + axis.transB :\n\t\t\t\taxis.left + axis.offset + (axis.opposite ? ((old && chart.oldChartWidth) || chart.chartWidth) - axis.right - axis.left : 0),\n\n\t\t\ty: horiz ?\n\t\t\t\tcHeight - axis.bottom + axis.offset - (axis.opposite ? axis.height : 0) :\n\t\t\t\tcHeight - axis.translate(pos + tickmarkOffset, null, null, old) - axis.transB\n\t\t};\n\t\t\n\t},\n\t\n\t/**\n\t * Get the x, y position of the tick label\n\t */\n\tgetLabelPosition: function (x, y, label, horiz, labelOptions, tickmarkOffset, index, step) {\n\t\tvar axis = this.axis,\n\t\t\ttransA = axis.transA,\n\t\t\treversed = axis.reversed,\n\t\t\tstaggerLines = axis.staggerLines,\n\t\t\tbaseline = axis.chart.renderer.fontMetrics(labelOptions.style.fontSize).b,\n\t\t\trotation = labelOptions.rotation;\n\t\t\t\n\t\tx = x + labelOptions.x - (tickmarkOffset && horiz ?\n\t\t\ttickmarkOffset * transA * (reversed ? -1 : 1) : 0);\n\t\ty = y + labelOptions.y - (tickmarkOffset && !horiz ?\n\t\t\ttickmarkOffset * transA * (reversed ? 1 : -1) : 0);\n\n\t\t// Correct for rotation (#1764)\n\t\tif (rotation && axis.side === 2) {\n\t\t\ty -= baseline - baseline * mathCos(rotation * deg2rad);\n\t\t}\n\t\t\n\t\t// Vertically centered\n\t\tif (!defined(labelOptions.y) && !rotation) { // #1951\n\t\t\ty += baseline - label.getBBox().height / 2;\n\t\t}\n\t\t\n\t\t// Correct for staggered labels\n\t\tif (staggerLines) {\n\t\t\ty += (index / (step || 1) % staggerLines) * (axis.labelOffset / staggerLines);\n\t\t}\n\t\t\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t},\n\t\n\t/**\n\t * Extendible method to return the path of the marker\n\t */\n\tgetMarkPath: function (x, y, tickLength, tickWidth, horiz, renderer) {\n\t\treturn renderer.crispLine([\n\t\t\t\tM,\n\t\t\t\tx,\n\t\t\t\ty,\n\t\t\t\tL,\n\t\t\t\tx + (horiz ? 0 : -tickLength),\n\t\t\t\ty + (horiz ? tickLength : 0)\n\t\t\t], tickWidth);\n\t},\n\n\t/**\n\t * Put everything in place\n\t *\n\t * @param index {Number}\n\t * @param old {Boolean} Use old coordinates to prepare an animation into new position\n\t */\n\trender: function (index, old, opacity) {\n\t\tvar tick = this,\n\t\t\taxis = tick.axis,\n\t\t\toptions = axis.options,\n\t\t\tchart = axis.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\thoriz = axis.horiz,\n\t\t\ttype = tick.type,\n\t\t\tlabel = tick.label,\n\t\t\tpos = tick.pos,\n\t\t\tlabelOptions = options.labels,\n\t\t\tgridLine = tick.gridLine,\n\t\t\tgridPrefix = type ? type + 'Grid' : 'grid',\n\t\t\ttickPrefix = type ? type + 'Tick' : 'tick',\n\t\t\tgridLineWidth = options[gridPrefix + 'LineWidth'],\n\t\t\tgridLineColor = options[gridPrefix + 'LineColor'],\n\t\t\tdashStyle = options[gridPrefix + 'LineDashStyle'],\n\t\t\ttickLength = options[tickPrefix + 'Length'],\n\t\t\ttickWidth = options[tickPrefix + 'Width'] || 0,\n\t\t\ttickColor = options[tickPrefix + 'Color'],\n\t\t\ttickPosition = options[tickPrefix + 'Position'],\n\t\t\tgridLinePath,\n\t\t\tmark = tick.mark,\n\t\t\tmarkPath,\n\t\t\tstep = labelOptions.step,\n\t\t\tattribs,\n\t\t\tshow = true,\n\t\t\ttickmarkOffset = axis.tickmarkOffset,\n\t\t\txy = tick.getPosition(horiz, pos, tickmarkOffset, old),\n\t\t\tx = xy.x,\n\t\t\ty = xy.y,\n\t\t\treverseCrisp = ((horiz && x === axis.pos + axis.len) || (!horiz && y === axis.pos)) ? -1 : 1, // #1480, #1687\n\t\t\tstaggerLines = axis.staggerLines;\n\n\t\tthis.isActive = true;\n\t\t\n\t\t// create the grid line\n\t\tif (gridLineWidth) {\n\t\t\tgridLinePath = axis.getPlotLinePath(pos + tickmarkOffset, gridLineWidth * reverseCrisp, old, true);\n\n\t\t\tif (gridLine === UNDEFINED) {\n\t\t\t\tattribs = {\n\t\t\t\t\tstroke: gridLineColor,\n\t\t\t\t\t'stroke-width': gridLineWidth\n\t\t\t\t};\n\t\t\t\tif (dashStyle) {\n\t\t\t\t\tattribs.dashstyle = dashStyle;\n\t\t\t\t}\n\t\t\t\tif (!type) {\n\t\t\t\t\tattribs.zIndex = 1;\n\t\t\t\t}\n\t\t\t\tif (old) {\n\t\t\t\t\tattribs.opacity = 0;\n\t\t\t\t}\n\t\t\t\ttick.gridLine = gridLine =\n\t\t\t\t\tgridLineWidth ?\n\t\t\t\t\t\trenderer.path(gridLinePath)\n\t\t\t\t\t\t\t.attr(attribs).add(axis.gridGroup) :\n\t\t\t\t\t\tnull;\n\t\t\t}\n\n\t\t\t// If the parameter 'old' is set, the current call will be followed\n\t\t\t// by another call, therefore do not do any animations this time\n\t\t\tif (!old && gridLine && gridLinePath) {\n\t\t\t\tgridLine[tick.isNew ? 'attr' : 'animate']({\n\t\t\t\t\td: gridLinePath,\n\t\t\t\t\topacity: opacity\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// create the tick mark\n\t\tif (tickWidth && tickLength) {\n\n\t\t\t// negate the length\n\t\t\tif (tickPosition === 'inside') {\n\t\t\t\ttickLength = -tickLength;\n\t\t\t}\n\t\t\tif (axis.opposite) {\n\t\t\t\ttickLength = -tickLength;\n\t\t\t}\n\n\t\t\tmarkPath = tick.getMarkPath(x, y, tickLength, tickWidth * reverseCrisp, horiz, renderer);\n\n\t\t\tif (mark) { // updating\n\t\t\t\tmark.animate({\n\t\t\t\t\td: markPath,\n\t\t\t\t\topacity: opacity\n\t\t\t\t});\n\t\t\t} else { // first time\n\t\t\t\ttick.mark = renderer.path(\n\t\t\t\t\tmarkPath\n\t\t\t\t).attr({\n\t\t\t\t\tstroke: tickColor,\n\t\t\t\t\t'stroke-width': tickWidth,\n\t\t\t\t\topacity: opacity\n\t\t\t\t}).add(axis.axisGroup);\n\t\t\t}\n\t\t}\n\n\t\t// the label is created on init - now move it into place\n\t\tif (label && !isNaN(x)) {\n\t\t\tlabel.xy = xy = tick.getLabelPosition(x, y, label, horiz, labelOptions, tickmarkOffset, index, step);\n\n\t\t\t// Apply show first and show last. If the tick is both first and last, it is \n\t\t\t// a single centered tick, in which case we show the label anyway (#2100).\n\t\t\tif ((tick.isFirst && !tick.isLast && !pick(options.showFirstLabel, 1)) ||\n\t\t\t\t\t(tick.isLast && !tick.isFirst && !pick(options.showLastLabel, 1))) {\n\t\t\t\tshow = false;\n\n\t\t\t// Handle label overflow and show or hide accordingly\n\t\t\t} else if (!staggerLines && horiz && labelOptions.overflow === 'justify' && !tick.handleOverflow(index, xy)) {\n\t\t\t\tshow = false;\n\t\t\t}\n\n\t\t\t// apply step\n\t\t\tif (step && index % step) {\n\t\t\t\t// show those indices dividable by step\n\t\t\t\tshow = false;\n\t\t\t}\n\n\t\t\t// Set the new position, and show or hide\n\t\t\tif (show && !isNaN(xy.y)) {\n\t\t\t\txy.opacity = opacity;\n\t\t\t\tlabel[tick.isNew ? 'attr' : 'animate'](xy);\n\t\t\t\ttick.isNew = false;\n\t\t\t} else {\n\t\t\t\tlabel.attr('y', -9999); // #1338\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Destructor for the tick prototype\n\t */\n\tdestroy: function () {\n\t\tdestroyObjectProperties(this, this.axis);\n\t}\n};\n\n/**\n * The object wrapper for plot lines and plot bands\n * @param {Object} options\n */\nfunction PlotLineOrBand(axis, options) {\n\tthis.axis = axis;\n\n\tif (options) {\n\t\tthis.options = options;\n\t\tthis.id = options.id;\n\t}\n}\n\nPlotLineOrBand.prototype = {\n\t\n\t/**\n\t * Render the plot line or plot band. If it is already existing,\n\t * move it.\n\t */\n\trender: function () {\n\t\tvar plotLine = this,\n\t\t\taxis = plotLine.axis,\n\t\t\thoriz = axis.horiz,\n\t\t\thalfPointRange = (axis.pointRange || 0) / 2,\n\t\t\toptions = plotLine.options,\n\t\t\toptionsLabel = options.label,\n\t\t\tlabel = plotLine.label,\n\t\t\twidth = options.width,\n\t\t\tto = options.to,\n\t\t\tfrom = options.from,\n\t\t\tisBand = defined(from) && defined(to),\n\t\t\tvalue = options.value,\n\t\t\tdashStyle = options.dashStyle,\n\t\t\tsvgElem = plotLine.svgElem,\n\t\t\tpath = [],\n\t\t\taddEvent,\n\t\t\teventType,\n\t\t\txs,\n\t\t\tys,\n\t\t\tx,\n\t\t\ty,\n\t\t\tcolor = options.color,\n\t\t\tzIndex = options.zIndex,\n\t\t\tevents = options.events,\n\t\t\tattribs,\n\t\t\trenderer = axis.chart.renderer;\n\n\t\t// logarithmic conversion\n\t\tif (axis.isLog) {\n\t\t\tfrom = log2lin(from);\n\t\t\tto = log2lin(to);\n\t\t\tvalue = log2lin(value);\n\t\t}\n\n\t\t// plot line\n\t\tif (width) {\n\t\t\tpath = axis.getPlotLinePath(value, width);\n\t\t\tattribs = {\n\t\t\t\tstroke: color,\n\t\t\t\t'stroke-width': width\n\t\t\t};\n\t\t\tif (dashStyle) {\n\t\t\t\tattribs.dashstyle = dashStyle;\n\t\t\t}\n\t\t} else if (isBand) { // plot band\n\t\t\t\n\t\t\t// keep within plot area\n\t\t\tfrom = mathMax(from, axis.min - halfPointRange);\n\t\t\tto = mathMin(to, axis.max + halfPointRange);\n\t\t\t\n\t\t\tpath = axis.getPlotBandPath(from, to, options);\n\t\t\tattribs = {\n\t\t\t\tfill: color\n\t\t\t};\n\t\t\tif (options.borderWidth) {\n\t\t\t\tattribs.stroke = options.borderColor;\n\t\t\t\tattribs['stroke-width'] = options.borderWidth;\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\t// zIndex\n\t\tif (defined(zIndex)) {\n\t\t\tattribs.zIndex = zIndex;\n\t\t}\n\n\t\t// common for lines and bands\n\t\tif (svgElem) {\n\t\t\tif (path) {\n\t\t\t\tsvgElem.animate({\n\t\t\t\t\td: path\n\t\t\t\t}, null, svgElem.onGetPath);\n\t\t\t} else {\n\t\t\t\tsvgElem.hide();\n\t\t\t\tsvgElem.onGetPath = function () {\n\t\t\t\t\tsvgElem.show();\n\t\t\t\t};\n\t\t\t}\n\t\t} else if (path && path.length) {\n\t\t\tplotLine.svgElem = svgElem = renderer.path(path)\n\t\t\t\t.attr(attribs).add();\n\n\t\t\t// events\n\t\t\tif (events) {\n\t\t\t\taddEvent = function (eventType) {\n\t\t\t\t\tsvgElem.on(eventType, function (e) {\n\t\t\t\t\t\tevents[eventType].apply(plotLine, [e]);\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tfor (eventType in events) {\n\t\t\t\t\taddEvent(eventType);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// the plot band/line label\n\t\tif (optionsLabel && defined(optionsLabel.text) && path && path.length && axis.width > 0 && axis.height > 0) {\n\t\t\t// apply defaults\n\t\t\toptionsLabel = merge({\n\t\t\t\talign: horiz && isBand && 'center',\n\t\t\t\tx: horiz ? !isBand && 4 : 10,\n\t\t\t\tverticalAlign : !horiz && isBand && 'middle',\n\t\t\t\ty: horiz ? isBand ? 16 : 10 : isBand ? 6 : -4,\n\t\t\t\trotation: horiz && !isBand && 90\n\t\t\t}, optionsLabel);\n\n\t\t\t// add the SVG element\n\t\t\tif (!label) {\n\t\t\t\tplotLine.label = label = renderer.text(\n\t\t\t\t\t\toptionsLabel.text,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\toptionsLabel.useHTML\n\t\t\t\t\t)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\talign: optionsLabel.textAlign || optionsLabel.align,\n\t\t\t\t\t\trotation: optionsLabel.rotation,\n\t\t\t\t\t\tzIndex: zIndex\n\t\t\t\t\t})\n\t\t\t\t\t.css(optionsLabel.style)\n\t\t\t\t\t.add();\n\t\t\t}\n\n\t\t\t// get the bounding box and align the label\n\t\t\txs = [path[1], path[4], pick(path[6], path[1])];\n\t\t\tys = [path[2], path[5], pick(path[7], path[2])];\n\t\t\tx = arrayMin(xs);\n\t\t\ty = arrayMin(ys);\n\n\t\t\tlabel.align(optionsLabel, false, {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: arrayMax(xs) - x,\n\t\t\t\theight: arrayMax(ys) - y\n\t\t\t});\n\t\t\tlabel.show();\n\n\t\t} else if (label) { // move out of sight\n\t\t\tlabel.hide();\n\t\t}\n\n\t\t// chainable\n\t\treturn plotLine;\n\t},\n\n\t/**\n\t * Remove the plot line or band\n\t */\n\tdestroy: function () {\n\t\t// remove it from the lookup\n\t\terase(this.axis.plotLinesAndBands, this);\n\t\t\n\t\tdelete this.axis;\n\t\tdestroyObjectProperties(this);\n\t}\n};\n/**\n * The class for stack items\n */\nfunction StackItem(axis, options, isNegative, x, stackOption, stacking) {\n\t\n\tvar inverted = axis.chart.inverted;\n\n\tthis.axis = axis;\n\n\t// Tells if the stack is negative\n\tthis.isNegative = isNegative;\n\n\t// Save the options to be able to style the label\n\tthis.options = options;\n\n\t// Save the x value to be able to position the label later\n\tthis.x = x;\n\n\t// Initialize total value\n\tthis.total = null;\n\n\t// This will keep each points' extremes stored by series.index\n\tthis.points = {};\n\n\t// Save the stack option on the series configuration object, and whether to treat it as percent\n\tthis.stack = stackOption;\n\tthis.percent = stacking === 'percent';\n\n\t// The align options and text align varies on whether the stack is negative and\n\t// if the chart is inverted or not.\n\t// First test the user supplied value, then use the dynamic.\n\tthis.alignOptions = {\n\t\talign: options.align || (inverted ? (isNegative ? 'left' : 'right') : 'center'),\n\t\tverticalAlign: options.verticalAlign || (inverted ? 'middle' : (isNegative ? 'bottom' : 'top')),\n\t\ty: pick(options.y, inverted ? 4 : (isNegative ? 14 : -6)),\n\t\tx: pick(options.x, inverted ? (isNegative ? -6 : 6) : 0)\n\t};\n\n\tthis.textAlign = options.textAlign || (inverted ? (isNegative ? 'right' : 'left') : 'center');\n}\n\nStackItem.prototype = {\n\tdestroy: function () {\n\t\tdestroyObjectProperties(this, this.axis);\n\t},\n\n\t/**\n\t * Renders the stack total label and adds it to the stack label group.\n\t */\n\trender: function (group) {\n\t\tvar options = this.options,\n\t\t\tformatOption = options.format,\n\t\t\tstr = formatOption ?\n\t\t\t\tformat(formatOption, this) : \n\t\t\t\toptions.formatter.call(this);  // format the text in the label\n\n\t\t// Change the text to reflect the new total and set visibility to hidden in case the serie is hidden\n\t\tif (this.label) {\n\t\t\tthis.label.attr({text: str, visibility: HIDDEN});\n\t\t// Create new label\n\t\t} else {\n\t\t\tthis.label =\n\t\t\t\tthis.axis.chart.renderer.text(str, 0, 0, options.useHTML)\t\t// dummy positions, actual position updated with setOffset method in columnseries\n\t\t\t\t\t.css(options.style)\t\t\t\t// apply style\n\t\t\t\t\t.attr({\n\t\t\t\t\t\talign: this.textAlign,\t\t\t\t// fix the text-anchor\n\t\t\t\t\t\trotation: options.rotation,\t// rotation\n\t\t\t\t\t\tvisibility: HIDDEN\t\t\t\t\t// hidden until setOffset is called\n\t\t\t\t\t})\t\t\t\t\n\t\t\t\t\t.add(group);\t\t\t\t\t\t\t// add to the labels-group\n\t\t}\n\t},\n\n\t/**\n\t * Sets the offset that the stack has from the x value and repositions the label.\n\t */\n\tsetOffset: function (xOffset, xWidth) {\n\t\tvar stackItem = this,\n\t\t\taxis = stackItem.axis,\n\t\t\tchart = axis.chart,\n\t\t\tinverted = chart.inverted,\n\t\t\tneg = this.isNegative,\t\t\t\t\t\t\t// special treatment is needed for negative stacks\n\t\t\ty = axis.translate(this.percent ? 100 : this.total, 0, 0, 0, 1), // stack value translated mapped to chart coordinates\n\t\t\tyZero = axis.translate(0),\t\t\t\t\t\t// stack origin\n\t\t\th = mathAbs(y - yZero),\t\t\t\t\t\t\t// stack height\n\t\t\tx = chart.xAxis[0].translate(this.x) + xOffset,\t// stack x position\n\t\t\tplotHeight = chart.plotHeight,\n\t\t\tstackBox = {\t// this is the box for the complete stack\n\t\t\t\tx: inverted ? (neg ? y : y - h) : x,\n\t\t\t\ty: inverted ? plotHeight - x - xWidth : (neg ? (plotHeight - y - h) : plotHeight - y),\n\t\t\t\twidth: inverted ? h : xWidth,\n\t\t\t\theight: inverted ? xWidth : h\n\t\t\t},\n\t\t\tlabel = this.label,\n\t\t\talignAttr;\n\t\t\n\t\tif (label) {\n\t\t\tlabel.align(this.alignOptions, null, stackBox);\t// align the label to the box\n\t\t\t\t\n\t\t\t// Set visibility (#678)\n\t\t\talignAttr = label.alignAttr;\n\t\t\tlabel.attr({ \n\t\t\t\tvisibility: this.options.crop === false || chart.isInsidePlot(alignAttr.x, alignAttr.y) ? \n\t\t\t\t\t(hasSVG ? 'inherit' : VISIBLE) : \n\t\t\t\t\tHIDDEN\n\t\t\t});\n\t\t}\n\t}\n};\n/**\n * Create a new axis object\n * @param {Object} chart\n * @param {Object} options\n */\nfunction Axis() {\n\tthis.init.apply(this, arguments);\n}\n\nAxis.prototype = {\n\t\n\t/**\n\t * Default options for the X axis - the Y axis has extended defaults \n\t */\n\tdefaultOptions: {\n\t\t// allowDecimals: null,\n\t\t// alternateGridColor: null,\n\t\t// categories: [],\n\t\tdateTimeLabelFormats: {\n\t\t\tmillisecond: '%H:%M:%S.%L',\n\t\t\tsecond: '%H:%M:%S',\n\t\t\tminute: '%H:%M',\n\t\t\thour: '%H:%M',\n\t\t\tday: '%e. %b',\n\t\t\tweek: '%e. %b',\n\t\t\tmonth: '%b \\'%y',\n\t\t\tyear: '%Y'\n\t\t},\n\t\tendOnTick: false,\n\t\tgridLineColor: '#C0C0C0',\n\t\t// gridLineDashStyle: 'solid',\n\t\t// gridLineWidth: 0,\n\t\t// reversed: false,\n\t\n\t\tlabels: defaultLabelOptions,\n\t\t\t// { step: null },\n\t\tlineColor: '#C0D0E0',\n\t\tlineWidth: 1,\n\t\t//linkedTo: null,\n\t\t//max: undefined,\n\t\t//min: undefined,\n\t\tminPadding: 0.01,\n\t\tmaxPadding: 0.01,\n\t\t//minRange: null,\n\t\tminorGridLineColor: '#E0E0E0',\n\t\t// minorGridLineDashStyle: null,\n\t\tminorGridLineWidth: 1,\n\t\tminorTickColor: '#A0A0A0',\n\t\t//minorTickInterval: null,\n\t\tminorTickLength: 2,\n\t\tminorTickPosition: 'outside', // inside or outside\n\t\t//minorTickWidth: 0,\n\t\t//opposite: false,\n\t\t//offset: 0,\n\t\t//plotBands: [{\n\t\t//\tevents: {},\n\t\t//\tzIndex: 1,\n\t\t//\tlabels: { align, x, verticalAlign, y, style, rotation, textAlign }\n\t\t//}],\n\t\t//plotLines: [{\n\t\t//\tevents: {}\n\t\t//  dashStyle: {}\n\t\t//\tzIndex:\n\t\t//\tlabels: { align, x, verticalAlign, y, style, rotation, textAlign }\n\t\t//}],\n\t\t//reversed: false,\n\t\t// showFirstLabel: true,\n\t\t// showLastLabel: true,\n\t\tstartOfWeek: 1,\n\t\tstartOnTick: false,\n\t\ttickColor: '#C0D0E0',\n\t\t//tickInterval: null,\n\t\ttickLength: 5,\n\t\ttickmarkPlacement: 'between', // on or between\n\t\ttickPixelInterval: 100,\n\t\ttickPosition: 'outside',\n\t\ttickWidth: 1,\n\t\ttitle: {\n\t\t\t//text: null,\n\t\t\talign: 'middle', // low, middle or high\n\t\t\t//margin: 0 for horizontal, 10 for vertical axes,\n\t\t\t//rotation: 0,\n\t\t\t//side: 'outside',\n\t\t\tstyle: {\n\t\t\t\tcolor: '#4d759e',\n\t\t\t\t//font: defaultFont.replace('normal', 'bold')\n\t\t\t\tfontWeight: 'bold'\n\t\t\t}\n\t\t\t//x: 0,\n\t\t\t//y: 0\n\t\t},\n\t\ttype: 'linear' // linear, logarithmic or datetime\n\t},\n\t\n\t/**\n\t * This options set extends the defaultOptions for Y axes\n\t */\n\tdefaultYAxisOptions: {\n\t\tendOnTick: true,\n\t\tgridLineWidth: 1,\n\t\ttickPixelInterval: 72,\n\t\tshowLastLabel: true,\n\t\tlabels: {\n\t\t\tx: -8,\n\t\t\ty: 3\n\t\t},\n\t\tlineWidth: 0,\n\t\tmaxPadding: 0.05,\n\t\tminPadding: 0.05,\n\t\tstartOnTick: true,\n\t\ttickWidth: 0,\n\t\ttitle: {\n\t\t\trotation: 270,\n\t\t\ttext: 'Values'\n\t\t},\n\t\tstackLabels: {\n\t\t\tenabled: false,\n\t\t\t//align: dynamic,\n\t\t\t//y: dynamic,\n\t\t\t//x: dynamic,\n\t\t\t//verticalAlign: dynamic,\n\t\t\t//textAlign: dynamic,\n\t\t\t//rotation: 0,\n\t\t\tformatter: function () {\n\t\t\t\treturn numberFormat(this.total, -1);\n\t\t\t},\n\t\t\tstyle: defaultLabelOptions.style\n\t\t}\n\t},\n\t\n\t/**\n\t * These options extend the defaultOptions for left axes\n\t */\n\tdefaultLeftAxisOptions: {\n\t\tlabels: {\n\t\t\tx: -8,\n\t\t\ty: null\n\t\t},\n\t\ttitle: {\n\t\t\trotation: 270\n\t\t}\n\t},\n\t\n\t/**\n\t * These options extend the defaultOptions for right axes\n\t */\n\tdefaultRightAxisOptions: {\n\t\tlabels: {\n\t\t\tx: 8,\n\t\t\ty: null\n\t\t},\n\t\ttitle: {\n\t\t\trotation: 90\n\t\t}\n\t},\n\t\n\t/**\n\t * These options extend the defaultOptions for bottom axes\n\t */\n\tdefaultBottomAxisOptions: {\n\t\tlabels: {\n\t\t\tx: 0,\n\t\t\ty: 14\n\t\t\t// overflow: undefined,\n\t\t\t// staggerLines: null\n\t\t},\n\t\ttitle: {\n\t\t\trotation: 0\n\t\t}\n\t},\n\t/**\n\t * These options extend the defaultOptions for left axes\n\t */\n\tdefaultTopAxisOptions: {\n\t\tlabels: {\n\t\t\tx: 0,\n\t\t\ty: -5\n\t\t\t// overflow: undefined\n\t\t\t// staggerLines: null\n\t\t},\n\t\ttitle: {\n\t\t\trotation: 0\n\t\t}\n\t},\n\t\n\t/**\n\t * Initialize the axis\n\t */\n\tinit: function (chart, userOptions) {\n\t\t\t\n\t\t\n\t\tvar isXAxis = userOptions.isX,\n\t\t\taxis = this;\n\t\n\t\t// Flag, is the axis horizontal\n\t\taxis.horiz = chart.inverted ? !isXAxis : isXAxis;\n\t\t\n\t\t// Flag, isXAxis\n\t\taxis.isXAxis = isXAxis;\n\t\taxis.xOrY = isXAxis ? 'x' : 'y';\n\t\n\t\n\t\taxis.opposite = userOptions.opposite; // needed in setOptions\n\t\taxis.side = axis.horiz ?\n\t\t\t\t(axis.opposite ? 0 : 2) : // top : bottom\n\t\t\t\t(axis.opposite ? 1 : 3);  // right : left\n\t\n\t\taxis.setOptions(userOptions);\n\t\t\n\t\n\t\tvar options = this.options,\n\t\t\ttype = options.type,\n\t\t\tisDatetimeAxis = type === 'datetime';\n\t\n\t\taxis.labelFormatter = options.labels.formatter || axis.defaultLabelFormatter; // can be overwritten by dynamic format\n\t\n\t\n\t\t// Flag, stagger lines or not\n\t\taxis.userOptions = userOptions;\n\t\n\t\t//axis.axisTitleMargin = UNDEFINED,// = options.title.margin,\n\t\taxis.minPixelPadding = 0;\n\t\t//axis.ignoreMinPadding = UNDEFINED; // can be set to true by a column or bar series\n\t\t//axis.ignoreMaxPadding = UNDEFINED;\n\t\n\t\taxis.chart = chart;\n\t\taxis.reversed = options.reversed;\n\t\taxis.zoomEnabled = options.zoomEnabled !== false;\n\t\n\t\t// Initial categories\n\t\taxis.categories = options.categories || type === 'category';\n\t\n\t\t// Elements\n\t\t//axis.axisGroup = UNDEFINED;\n\t\t//axis.gridGroup = UNDEFINED;\n\t\t//axis.axisTitle = UNDEFINED;\n\t\t//axis.axisLine = UNDEFINED;\n\t\n\t\t// Shorthand types\n\t\taxis.isLog = type === 'logarithmic';\n\t\taxis.isDatetimeAxis = isDatetimeAxis;\n\t\n\t\t// Flag, if axis is linked to another axis\n\t\taxis.isLinked = defined(options.linkedTo);\n\t\t// Linked axis.\n\t\t//axis.linkedParent = UNDEFINED;\t\n\t\t\n\t\t// Tick positions\n\t\t//axis.tickPositions = UNDEFINED; // array containing predefined positions\n\t\t// Tick intervals\n\t\t//axis.tickInterval = UNDEFINED;\n\t\t//axis.minorTickInterval = UNDEFINED;\n\t\t\n\t\taxis.tickmarkOffset = (axis.categories && options.tickmarkPlacement === 'between') ? 0.5 : 0;\n\t\n\t\t// Major ticks\n\t\taxis.ticks = {};\n\t\t// Minor ticks\n\t\taxis.minorTicks = {};\n\t\t//axis.tickAmount = UNDEFINED;\n\t\n\t\t// List of plotLines/Bands\n\t\taxis.plotLinesAndBands = [];\n\t\n\t\t// Alternate bands\n\t\taxis.alternateBands = {};\n\t\n\t\t// Axis metrics\n\t\t//axis.left = UNDEFINED;\n\t\t//axis.top = UNDEFINED;\n\t\t//axis.width = UNDEFINED;\n\t\t//axis.height = UNDEFINED;\n\t\t//axis.bottom = UNDEFINED;\n\t\t//axis.right = UNDEFINED;\n\t\t//axis.transA = UNDEFINED;\n\t\t//axis.transB = UNDEFINED;\n\t\t//axis.oldTransA = UNDEFINED;\n\t\taxis.len = 0;\n\t\t//axis.oldMin = UNDEFINED;\n\t\t//axis.oldMax = UNDEFINED;\n\t\t//axis.oldUserMin = UNDEFINED;\n\t\t//axis.oldUserMax = UNDEFINED;\n\t\t//axis.oldAxisLength = UNDEFINED;\n\t\taxis.minRange = axis.userMinRange = options.minRange || options.maxZoom;\n\t\taxis.range = options.range;\n\t\taxis.offset = options.offset || 0;\n\t\n\t\n\t\t// Dictionary for stacks\n\t\taxis.stacks = {};\n\t\taxis.oldStacks = {};\n\n\t\t// Dictionary for stacks max values\n\t\taxis.stackExtremes = {};\n\n\t\t// Min and max in the data\n\t\t//axis.dataMin = UNDEFINED,\n\t\t//axis.dataMax = UNDEFINED,\n\t\n\t\t// The axis range\n\t\taxis.max = null;\n\t\taxis.min = null;\n\t\n\t\t// User set min and max\n\t\t//axis.userMin = UNDEFINED,\n\t\t//axis.userMax = UNDEFINED,\n\n\t\t// Run Axis\n\t\t\n\t\tvar eventType,\n\t\t\tevents = axis.options.events;\n\n\t\t// Register\n\t\tif (inArray(axis, chart.axes) === -1) { // don't add it again on Axis.update()\n\t\t\tchart.axes.push(axis);\n\t\t\tchart[isXAxis ? 'xAxis' : 'yAxis'].push(axis);\n\t\t}\n\n\t\taxis.series = axis.series || []; // populated by Series\n\n\t\t// inverted charts have reversed xAxes as default\n\t\tif (chart.inverted && isXAxis && axis.reversed === UNDEFINED) {\n\t\t\taxis.reversed = true;\n\t\t}\n\n\t\taxis.removePlotBand = axis.removePlotBandOrLine;\n\t\taxis.removePlotLine = axis.removePlotBandOrLine;\n\n\n\t\t// register event listeners\n\t\tfor (eventType in events) {\n\t\t\taddEvent(axis, eventType, events[eventType]);\n\t\t}\n\n\t\t// extend logarithmic axis\n\t\tif (axis.isLog) {\n\t\t\taxis.val2lin = log2lin;\n\t\t\taxis.lin2val = lin2log;\n\t\t}\n\t},\n\t\n\t/**\n\t * Merge and set options\n\t */\n\tsetOptions: function (userOptions) {\n\t\tthis.options = merge(\n\t\t\tthis.defaultOptions,\n\t\t\tthis.isXAxis ? {} : this.defaultYAxisOptions,\n\t\t\t[this.defaultTopAxisOptions, this.defaultRightAxisOptions,\n\t\t\t\tthis.defaultBottomAxisOptions, this.defaultLeftAxisOptions][this.side],\n\t\t\tmerge(\n\t\t\t\tdefaultOptions[this.isXAxis ? 'xAxis' : 'yAxis'], // if set in setOptions (#1053)\n\t\t\t\tuserOptions\n\t\t\t)\n\t\t);\n\t},\n\n\t/**\n\t * Update the axis with a new options structure\n\t */\n\tupdate: function (newOptions, redraw) {\n\t\tvar chart = this.chart;\n\n\t\tnewOptions = chart.options[this.xOrY + 'Axis'][this.options.index] = merge(this.userOptions, newOptions);\n\n\t\tthis.destroy(true);\n\t\tthis._addedPlotLB = this.userMin = this.userMax = UNDEFINED; // #1611, #2306\n\n\t\tthis.init(chart, extend(newOptions, { events: UNDEFINED }));\n\n\t\tchart.isDirtyBox = true;\n\t\tif (pick(redraw, true)) {\n\t\t\tchart.redraw();\n\t\t}\n\t},\t\n\t\n\t/**\n     * Remove the axis from the chart\n     */\n\tremove: function (redraw) {\n\t\tvar chart = this.chart,\n\t\t\tkey = this.xOrY + 'Axis'; // xAxis or yAxis\n\n\t\t// Remove associated series\n\t\teach(this.series, function (series) {\n\t\t\tseries.remove(false);\n\t\t});\n\n\t\t// Remove the axis\n\t\terase(chart.axes, this);\n\t\terase(chart[key], this);\n\t\tchart.options[key].splice(this.options.index, 1);\n\t\teach(chart[key], function (axis, i) { // Re-index, #1706\n\t\t\taxis.options.index = i;\n\t\t});\n\t\tthis.destroy();\n\t\tchart.isDirtyBox = true;\n\n\t\tif (pick(redraw, true)) {\n\t\t\tchart.redraw();\n\t\t}\n\t},\n\t\n\t/** \n\t * The default label formatter. The context is a special config object for the label.\n\t */\n\tdefaultLabelFormatter: function () {\n\t\tvar axis = this.axis,\n\t\t\tvalue = this.value,\n\t\t\tcategories = axis.categories, \n\t\t\tdateTimeLabelFormat = this.dateTimeLabelFormat,\n\t\t\tnumericSymbols = defaultOptions.lang.numericSymbols,\n\t\t\ti = numericSymbols && numericSymbols.length,\n\t\t\tmulti,\n\t\t\tret,\n\t\t\tformatOption = axis.options.labels.format,\n\t\t\t\n\t\t\t// make sure the same symbol is added for all labels on a linear axis\n\t\t\tnumericSymbolDetector = axis.isLog ? value : axis.tickInterval;\n\n\t\tif (formatOption) {\n\t\t\tret = format(formatOption, this);\n\t\t\n\t\t} else if (categories) {\n\t\t\tret = value;\n\t\t\n\t\t} else if (dateTimeLabelFormat) { // datetime axis\n\t\t\tret = dateFormat(dateTimeLabelFormat, value);\n\t\t\n\t\t} else if (i && numericSymbolDetector >= 1000) {\n\t\t\t// Decide whether we should add a numeric symbol like k (thousands) or M (millions).\n\t\t\t// If we are to enable this in tooltip or other places as well, we can move this\n\t\t\t// logic to the numberFormatter and enable it by a parameter.\n\t\t\twhile (i-- && ret === UNDEFINED) {\n\t\t\t\tmulti = Math.pow(1000, i + 1);\n\t\t\t\tif (numericSymbolDetector >= multi && numericSymbols[i] !== null) {\n\t\t\t\t\tret = numberFormat(value / multi, -1) + numericSymbols[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (ret === UNDEFINED) {\n\t\t\tif (value >= 1000) { // add thousands separators\n\t\t\t\tret = numberFormat(value, 0);\n\n\t\t\t} else { // small numbers\n\t\t\t\tret = numberFormat(value, -1);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn ret;\n\t},\n\n\t/**\n\t * Get the minimum and maximum for the series of each axis\n\t */\n\tgetSeriesExtremes: function () {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart;\n\n\t\taxis.hasVisibleSeries = false;\n\n\t\t// reset dataMin and dataMax in case we're redrawing\n\t\taxis.dataMin = axis.dataMax = null;\n\n\t\t// reset cached stacking extremes\n\t\taxis.stackExtremes = {};\n\n\t\taxis.buildStacks();\n\n\t\t// loop through this axis' series\n\t\teach(axis.series, function (series) {\n\n\t\t\tif (series.visible || !chart.options.chart.ignoreHiddenSeries) {\n\n\t\t\t\tvar seriesOptions = series.options,\n\t\t\t\t\txData,\n\t\t\t\t\tthreshold = seriesOptions.threshold,\n\t\t\t\t\tseriesDataMin,\n\t\t\t\t\tseriesDataMax;\n\n\t\t\t\taxis.hasVisibleSeries = true;\n\n\t\t\t\t// Validate threshold in logarithmic axes\n\t\t\t\tif (axis.isLog && threshold <= 0) {\n\t\t\t\t\tthreshold = null;\n\t\t\t\t}\n\n\t\t\t\t// Get dataMin and dataMax for X axes\n\t\t\t\tif (axis.isXAxis) {\n\t\t\t\t\txData = series.xData;\n\t\t\t\t\tif (xData.length) {\n\t\t\t\t\t\taxis.dataMin = mathMin(pick(axis.dataMin, xData[0]), arrayMin(xData));\n\t\t\t\t\t\taxis.dataMax = mathMax(pick(axis.dataMax, xData[0]), arrayMax(xData));\n\t\t\t\t\t}\n\n\t\t\t\t// Get dataMin and dataMax for Y axes, as well as handle stacking and processed data\n\t\t\t\t} else {\n\n\t\t\t\t\t// Get this particular series extremes\n\t\t\t\t\tseries.getExtremes();\n\t\t\t\t\tseriesDataMax = series.dataMax;\n\t\t\t\t\tseriesDataMin = series.dataMin;\n\n\t\t\t\t\t// Get the dataMin and dataMax so far. If percentage is used, the min and max are\n\t\t\t\t\t// always 0 and 100. If seriesDataMin and seriesDataMax is null, then series\n\t\t\t\t\t// doesn't have active y data, we continue with nulls\n\t\t\t\t\tif (defined(seriesDataMin) && defined(seriesDataMax)) {\n\t\t\t\t\t\taxis.dataMin = mathMin(pick(axis.dataMin, seriesDataMin), seriesDataMin);\n\t\t\t\t\t\taxis.dataMax = mathMax(pick(axis.dataMax, seriesDataMax), seriesDataMax);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Adjust to threshold\n\t\t\t\t\tif (defined(threshold)) {\n\t\t\t\t\t\tif (axis.dataMin >= threshold) {\n\t\t\t\t\t\t\taxis.dataMin = threshold;\n\t\t\t\t\t\t\taxis.ignoreMinPadding = true;\n\t\t\t\t\t\t} else if (axis.dataMax < threshold) {\n\t\t\t\t\t\t\taxis.dataMax = threshold;\n\t\t\t\t\t\t\taxis.ignoreMaxPadding = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Translate from axis value to pixel position on the chart, or back\n\t *\n\t */\n\ttranslate: function (val, backwards, cvsCoord, old, handleLog, pointPlacement) {\n\t\tvar axis = this,\n\t\t\taxisLength = axis.len,\n\t\t\tsign = 1,\n\t\t\tcvsOffset = 0,\n\t\t\tlocalA = old ? axis.oldTransA : axis.transA,\n\t\t\tlocalMin = old ? axis.oldMin : axis.min,\n\t\t\treturnValue,\n\t\t\tminPixelPadding = axis.minPixelPadding,\n\t\t\tpostTranslate = (axis.options.ordinal || (axis.isLog && handleLog)) && axis.lin2val;\n\n\t\tif (!localA) {\n\t\t\tlocalA = axis.transA;\n\t\t}\n\n\t\t// In vertical axes, the canvas coordinates start from 0 at the top like in \n\t\t// SVG. \n\t\tif (cvsCoord) {\n\t\t\tsign *= -1; // canvas coordinates inverts the value\n\t\t\tcvsOffset = axisLength;\n\t\t}\n\n\t\t// Handle reversed axis\n\t\tif (axis.reversed) { \n\t\t\tsign *= -1;\n\t\t\tcvsOffset -= sign * axisLength;\n\t\t}\n\n\t\t// From pixels to value\n\t\tif (backwards) { // reverse translation\n\t\t\t\n\t\t\tval = val * sign + cvsOffset;\n\t\t\tval -= minPixelPadding;\n\t\t\treturnValue = val / localA + localMin; // from chart pixel to value\n\t\t\tif (postTranslate) { // log and ordinal axes\n\t\t\t\treturnValue = axis.lin2val(returnValue);\n\t\t\t}\n\n\t\t// From value to pixels\n\t\t} else {\n\t\t\tif (postTranslate) { // log and ordinal axes\n\t\t\t\tval = axis.val2lin(val);\n\t\t\t}\n\t\t\tif (pointPlacement === 'between') {\n\t\t\t\tpointPlacement = 0.5;\n\t\t\t}\n\t\t\treturnValue = sign * (val - localMin) * localA + cvsOffset + (sign * minPixelPadding) +\n\t\t\t\t(isNumber(pointPlacement) ? localA * pointPlacement * axis.pointRange : 0);\n\t\t}\n\n\t\treturn returnValue;\n\t},\n\n\t/**\n\t * Utility method to translate an axis value to pixel position. \n\t * @param {Number} value A value in terms of axis units\n\t * @param {Boolean} paneCoordinates Whether to return the pixel coordinate relative to the chart\n\t *        or just the axis/pane itself.\n\t */\n\ttoPixels: function (value, paneCoordinates) {\n\t\treturn this.translate(value, false, !this.horiz, null, true) + (paneCoordinates ? 0 : this.pos);\n\t},\n\n\t/*\n\t * Utility method to translate a pixel position in to an axis value\n\t * @param {Number} pixel The pixel value coordinate\n\t * @param {Boolean} paneCoordiantes Whether the input pixel is relative to the chart or just the\n\t *        axis/pane itself.\n\t */\n\ttoValue: function (pixel, paneCoordinates) {\n\t\treturn this.translate(pixel - (paneCoordinates ? 0 : this.pos), true, !this.horiz, null, true);\n\t},\n\n\t/**\n\t * Create the path for a plot line that goes from the given value on\n\t * this axis, across the plot to the opposite side\n\t * @param {Number} value\n\t * @param {Number} lineWidth Used for calculation crisp line\n\t * @param {Number] old Use old coordinates (for resizing and rescaling)\n\t */\n\tgetPlotLinePath: function (value, lineWidth, old, force) {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart,\n\t\t\taxisLeft = axis.left,\n\t\t\taxisTop = axis.top,\n\t\t\tx1,\n\t\t\ty1,\n\t\t\tx2,\n\t\t\ty2,\n\t\t\ttranslatedValue = axis.translate(value, null, null, old),\n\t\t\tcHeight = (old && chart.oldChartHeight) || chart.chartHeight,\n\t\t\tcWidth = (old && chart.oldChartWidth) || chart.chartWidth,\n\t\t\tskip,\n\t\t\ttransB = axis.transB;\n\n\t\tx1 = x2 = mathRound(translatedValue + transB);\n\t\ty1 = y2 = mathRound(cHeight - translatedValue - transB);\n\n\t\tif (isNaN(translatedValue)) { // no min or max\n\t\t\tskip = true;\n\n\t\t} else if (axis.horiz) {\n\t\t\ty1 = axisTop;\n\t\t\ty2 = cHeight - axis.bottom;\n\t\t\tif (x1 < axisLeft || x1 > axisLeft + axis.width) {\n\t\t\t\tskip = true;\n\t\t\t}\n\t\t} else {\n\t\t\tx1 = axisLeft;\n\t\t\tx2 = cWidth - axis.right;\n\n\t\t\tif (y1 < axisTop || y1 > axisTop + axis.height) {\n\t\t\t\tskip = true;\n\t\t\t}\n\t\t}\n\t\treturn skip && !force ?\n\t\t\tnull :\n\t\t\tchart.renderer.crispLine([M, x1, y1, L, x2, y2], lineWidth || 0);\n\t},\n\t\n\t/**\n\t * Create the path for a plot band\n\t */\n\tgetPlotBandPath: function (from, to) {\n\n\t\tvar toPath = this.getPlotLinePath(to),\n\t\t\tpath = this.getPlotLinePath(from);\n\t\t\t\n\t\tif (path && toPath) {\n\t\t\tpath.push(\n\t\t\t\ttoPath[4],\n\t\t\t\ttoPath[5],\n\t\t\t\ttoPath[1],\n\t\t\t\ttoPath[2]\n\t\t\t);\n\t\t} else { // outside the axis area\n\t\t\tpath = null;\n\t\t}\n\t\t\n\t\treturn path;\n\t},\n\t\n\t/**\n\t * Set the tick positions of a linear axis to round values like whole tens or every five.\n\t */\n\tgetLinearTickPositions: function (tickInterval, min, max) {\n\t\tvar pos,\n\t\t\tlastPos,\n\t\t\troundedMin = correctFloat(mathFloor(min / tickInterval) * tickInterval),\n\t\t\troundedMax = correctFloat(mathCeil(max / tickInterval) * tickInterval),\n\t\t\ttickPositions = [];\n\n\t\t// Populate the intermediate values\n\t\tpos = roundedMin;\n\t\twhile (pos <= roundedMax) {\n\n\t\t\t// Place the tick on the rounded value\n\t\t\ttickPositions.push(pos);\n\n\t\t\t// Always add the raw tickInterval, not the corrected one.\n\t\t\tpos = correctFloat(pos + tickInterval);\n\n\t\t\t// If the interval is not big enough in the current min - max range to actually increase\n\t\t\t// the loop variable, we need to break out to prevent endless loop. Issue #619\n\t\t\tif (pos === lastPos) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Record the last value\n\t\t\tlastPos = pos;\n\t\t}\n\t\treturn tickPositions;\n\t},\n\t\n\t/**\n\t * Set the tick positions of a logarithmic axis\n\t */\n\tgetLogTickPositions: function (interval, min, max, minor) {\n\t\tvar axis = this,\n\t\t\toptions = axis.options,\n\t\t\taxisLength = axis.len,\n\t\t\t// Since we use this method for both major and minor ticks,\n\t\t\t// use a local variable and return the result\n\t\t\tpositions = []; \n\t\t\n\t\t// Reset\n\t\tif (!minor) {\n\t\t\taxis._minorAutoInterval = null;\n\t\t}\n\t\t\n\t\t// First case: All ticks fall on whole logarithms: 1, 10, 100 etc.\n\t\tif (interval >= 0.5) {\n\t\t\tinterval = mathRound(interval);\n\t\t\tpositions = axis.getLinearTickPositions(interval, min, max);\n\t\t\t\n\t\t// Second case: We need intermediary ticks. For example \n\t\t// 1, 2, 4, 6, 8, 10, 20, 40 etc. \n\t\t} else if (interval >= 0.08) {\n\t\t\tvar roundedMin = mathFloor(min),\n\t\t\t\tintermediate,\n\t\t\t\ti,\n\t\t\t\tj,\n\t\t\t\tlen,\n\t\t\t\tpos,\n\t\t\t\tlastPos,\n\t\t\t\tbreak2;\n\t\t\t\t\n\t\t\tif (interval > 0.3) {\n\t\t\t\tintermediate = [1, 2, 4];\n\t\t\t} else if (interval > 0.15) { // 0.2 equals five minor ticks per 1, 10, 100 etc\n\t\t\t\tintermediate = [1, 2, 4, 6, 8];\n\t\t\t} else { // 0.1 equals ten minor ticks per 1, 10, 100 etc\n\t\t\t\tintermediate = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\t\t\t}\n\t\t\t\n\t\t\tfor (i = roundedMin; i < max + 1 && !break2; i++) {\n\t\t\t\tlen = intermediate.length;\n\t\t\t\tfor (j = 0; j < len && !break2; j++) {\n\t\t\t\t\tpos = log2lin(lin2log(i) * intermediate[j]);\n\t\t\t\t\t\n\t\t\t\t\tif (pos > min && (!minor || lastPos <= max)) { // #1670\n\t\t\t\t\t\tpositions.push(lastPos);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (lastPos > max) {\n\t\t\t\t\t\tbreak2 = true;\n\t\t\t\t\t}\n\t\t\t\t\tlastPos = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t// Third case: We are so deep in between whole logarithmic values that\n\t\t// we might as well handle the tick positions like a linear axis. For\n\t\t// example 1.01, 1.02, 1.03, 1.04.\n\t\t} else {\n\t\t\tvar realMin = lin2log(min),\n\t\t\t\trealMax = lin2log(max),\n\t\t\t\ttickIntervalOption = options[minor ? 'minorTickInterval' : 'tickInterval'],\n\t\t\t\tfilteredTickIntervalOption = tickIntervalOption === 'auto' ? null : tickIntervalOption,\n\t\t\t\ttickPixelIntervalOption = options.tickPixelInterval / (minor ? 5 : 1),\n\t\t\t\ttotalPixelLength = minor ? axisLength / axis.tickPositions.length : axisLength;\n\t\t\t\n\t\t\tinterval = pick(\n\t\t\t\tfilteredTickIntervalOption,\n\t\t\t\taxis._minorAutoInterval,\n\t\t\t\t(realMax - realMin) * tickPixelIntervalOption / (totalPixelLength || 1)\n\t\t\t);\n\t\t\t\n\t\t\tinterval = normalizeTickInterval(\n\t\t\t\tinterval, \n\t\t\t\tnull, \n\t\t\t\tgetMagnitude(interval)\n\t\t\t);\n\t\t\t\n\t\t\tpositions = map(axis.getLinearTickPositions(\n\t\t\t\tinterval, \n\t\t\t\trealMin,\n\t\t\t\trealMax\t\n\t\t\t), log2lin);\n\t\t\t\n\t\t\tif (!minor) {\n\t\t\t\taxis._minorAutoInterval = interval / 5;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Set the axis-level tickInterval variable \n\t\tif (!minor) {\n\t\t\taxis.tickInterval = interval;\n\t\t}\n\t\treturn positions;\n\t},\n\n\t/**\n\t * Return the minor tick positions. For logarithmic axes, reuse the same logic\n\t * as for major ticks.\n\t */\n\tgetMinorTickPositions: function () {\n\t\tvar axis = this,\n\t\t\toptions = axis.options,\n\t\t\ttickPositions = axis.tickPositions,\n\t\t\tminorTickInterval = axis.minorTickInterval,\n\t\t\tminorTickPositions = [],\n\t\t\tpos,\n\t\t\ti,\n\t\t\tlen;\n\t\t\n\t\tif (axis.isLog) {\n\t\t\tlen = tickPositions.length;\n\t\t\tfor (i = 1; i < len; i++) {\n\t\t\t\tminorTickPositions = minorTickPositions.concat(\n\t\t\t\t\taxis.getLogTickPositions(minorTickInterval, tickPositions[i - 1], tickPositions[i], true)\n\t\t\t\t);\t\n\t\t\t}\n\t\t} else if (axis.isDatetimeAxis && options.minorTickInterval === 'auto') { // #1314\n\t\t\tminorTickPositions = minorTickPositions.concat(\n\t\t\t\tgetTimeTicks(\n\t\t\t\t\tnormalizeTimeTickInterval(minorTickInterval),\n\t\t\t\t\taxis.min,\n\t\t\t\t\taxis.max,\n\t\t\t\t\toptions.startOfWeek\n\t\t\t\t)\n\t\t\t);\n\t\t\tif (minorTickPositions[0] < axis.min) {\n\t\t\t\tminorTickPositions.shift();\n\t\t\t}\n\t\t} else {\t\t\t\n\t\t\tfor (pos = axis.min + (tickPositions[0] - axis.min) % minorTickInterval; pos <= axis.max; pos += minorTickInterval) {\n\t\t\t\tminorTickPositions.push(pos);\n\t\t\t}\n\t\t}\n\t\treturn minorTickPositions;\n\t},\n\n\t/**\n\t * Adjust the min and max for the minimum range. Keep in mind that the series data is \n\t * not yet processed, so we don't have information on data cropping and grouping, or \n\t * updated axis.pointRange or series.pointRange. The data can't be processed until\n\t * we have finally established min and max.\n\t */\n\tadjustForMinRange: function () {\n\t\tvar axis = this,\n\t\t\toptions = axis.options,\n\t\t\tmin = axis.min,\n\t\t\tmax = axis.max,\n\t\t\tzoomOffset,\n\t\t\tspaceAvailable = axis.dataMax - axis.dataMin >= axis.minRange,\n\t\t\tclosestDataRange,\n\t\t\ti,\n\t\t\tdistance,\n\t\t\txData,\n\t\t\tloopLength,\n\t\t\tminArgs,\n\t\t\tmaxArgs;\n\n\t\t// Set the automatic minimum range based on the closest point distance\n\t\tif (axis.isXAxis && axis.minRange === UNDEFINED && !axis.isLog) {\n\n\t\t\tif (defined(options.min) || defined(options.max)) {\n\t\t\t\taxis.minRange = null; // don't do this again\n\n\t\t\t} else {\n\n\t\t\t\t// Find the closest distance between raw data points, as opposed to\n\t\t\t\t// closestPointRange that applies to processed points (cropped and grouped)\n\t\t\t\teach(axis.series, function (series) {\n\t\t\t\t\txData = series.xData;\n\t\t\t\t\tloopLength = series.xIncrement ? 1 : xData.length - 1;\n\t\t\t\t\tfor (i = loopLength; i > 0; i--) {\n\t\t\t\t\t\tdistance = xData[i] - xData[i - 1];\n\t\t\t\t\t\tif (closestDataRange === UNDEFINED || distance < closestDataRange) {\n\t\t\t\t\t\t\tclosestDataRange = distance;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\taxis.minRange = mathMin(closestDataRange * 5, axis.dataMax - axis.dataMin);\n\t\t\t}\n\t\t}\n\n\t\t// if minRange is exceeded, adjust\n\t\tif (max - min < axis.minRange) {\n\t\t\tvar minRange = axis.minRange;\n\t\t\tzoomOffset = (minRange - max + min) / 2;\n\n\t\t\t// if min and max options have been set, don't go beyond it\n\t\t\tminArgs = [min - zoomOffset, pick(options.min, min - zoomOffset)];\n\t\t\tif (spaceAvailable) { // if space is available, stay within the data range\n\t\t\t\tminArgs[2] = axis.dataMin;\n\t\t\t}\n\t\t\tmin = arrayMax(minArgs);\n\n\t\t\tmaxArgs = [min + minRange, pick(options.max, min + minRange)];\n\t\t\tif (spaceAvailable) { // if space is availabe, stay within the data range\n\t\t\t\tmaxArgs[2] = axis.dataMax;\n\t\t\t}\n\n\t\t\tmax = arrayMin(maxArgs);\n\n\t\t\t// now if the max is adjusted, adjust the min back\n\t\t\tif (max - min < minRange) {\n\t\t\t\tminArgs[0] = max - minRange;\n\t\t\t\tminArgs[1] = pick(options.min, max - minRange);\n\t\t\t\tmin = arrayMax(minArgs);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Record modified extremes\n\t\taxis.min = min;\n\t\taxis.max = max;\n\t},\n\n\t/**\n\t * Update translation information\n\t */\n\tsetAxisTranslation: function (saveOld) {\n\t\tvar axis = this,\n\t\t\trange = axis.max - axis.min,\n\t\t\tpointRange = 0,\n\t\t\tclosestPointRange,\n\t\t\tminPointOffset = 0,\n\t\t\tpointRangePadding = 0,\n\t\t\tlinkedParent = axis.linkedParent,\n\t\t\tordinalCorrection,\n\t\t\ttransA = axis.transA;\n\n\t\t// adjust translation for padding\n\t\tif (axis.isXAxis) {\n\t\t\tif (linkedParent) {\n\t\t\t\tminPointOffset = linkedParent.minPointOffset;\n\t\t\t\tpointRangePadding = linkedParent.pointRangePadding;\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\teach(axis.series, function (series) {\n\t\t\t\t\tvar seriesPointRange = series.pointRange,\n\t\t\t\t\t\tpointPlacement = series.options.pointPlacement,\n\t\t\t\t\t\tseriesClosestPointRange = series.closestPointRange;\n\n\t\t\t\t\tif (seriesPointRange > range) { // #1446\n\t\t\t\t\t\tseriesPointRange = 0;\n\t\t\t\t\t}\n\t\t\t\t\tpointRange = mathMax(pointRange, seriesPointRange);\n\t\t\t\t\t\n\t\t\t\t\t// minPointOffset is the value padding to the left of the axis in order to make\n\t\t\t\t\t// room for points with a pointRange, typically columns. When the pointPlacement option\n\t\t\t\t\t// is 'between' or 'on', this padding does not apply.\n\t\t\t\t\tminPointOffset = mathMax(\n\t\t\t\t\t\tminPointOffset, \n\t\t\t\t\t\tisString(pointPlacement) ? 0 : seriesPointRange / 2\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\t// Determine the total padding needed to the length of the axis to make room for the \n\t\t\t\t\t// pointRange. If the series' pointPlacement is 'on', no padding is added.\n\t\t\t\t\tpointRangePadding = mathMax(\n\t\t\t\t\t\tpointRangePadding,\n\t\t\t\t\t\tpointPlacement === 'on' ? 0 : seriesPointRange\n\t\t\t\t\t);\n\n\t\t\t\t\t// Set the closestPointRange\n\t\t\t\t\tif (!series.noSharedTooltip && defined(seriesClosestPointRange)) {\n\t\t\t\t\t\tclosestPointRange = defined(closestPointRange) ?\n\t\t\t\t\t\t\tmathMin(closestPointRange, seriesClosestPointRange) :\n\t\t\t\t\t\t\tseriesClosestPointRange;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t// Record minPointOffset and pointRangePadding\n\t\t\tordinalCorrection = axis.ordinalSlope && closestPointRange ? axis.ordinalSlope / closestPointRange : 1; // #988, #1853\n\t\t\taxis.minPointOffset = minPointOffset = minPointOffset * ordinalCorrection;\n\t\t\taxis.pointRangePadding = pointRangePadding = pointRangePadding * ordinalCorrection;\n\n\t\t\t// pointRange means the width reserved for each point, like in a column chart\n\t\t\taxis.pointRange = mathMin(pointRange, range);\n\n\t\t\t// closestPointRange means the closest distance between points. In columns\n\t\t\t// it is mostly equal to pointRange, but in lines pointRange is 0 while closestPointRange\n\t\t\t// is some other value\n\t\t\taxis.closestPointRange = closestPointRange;\n\t\t}\n\n\t\t// Secondary values\n\t\tif (saveOld) {\n\t\t\taxis.oldTransA = transA;\n\t\t}\n\t\taxis.translationSlope = axis.transA = transA = axis.len / ((range + pointRangePadding) || 1);\n\t\taxis.transB = axis.horiz ? axis.left : axis.bottom; // translation addend\n\t\taxis.minPixelPadding = transA * minPointOffset;\n\t},\n\n\t/**\n\t * Set the tick positions to round values and optionally extend the extremes\n\t * to the nearest tick\n\t */\n\tsetTickPositions: function (secondPass) {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart,\n\t\t\toptions = axis.options,\n\t\t\tisLog = axis.isLog,\n\t\t\tisDatetimeAxis = axis.isDatetimeAxis,\n\t\t\tisXAxis = axis.isXAxis,\n\t\t\tisLinked = axis.isLinked,\n\t\t\ttickPositioner = axis.options.tickPositioner,\n\t\t\tmaxPadding = options.maxPadding,\n\t\t\tminPadding = options.minPadding,\n\t\t\tlength,\n\t\t\tlinkedParentExtremes,\n\t\t\ttickIntervalOption = options.tickInterval,\n\t\t\tminTickIntervalOption = options.minTickInterval,\n\t\t\ttickPixelIntervalOption = options.tickPixelInterval,\n\t\t\ttickPositions,\n\t\t\tkeepTwoTicksOnly,\n\t\t\tcategories = axis.categories;\n\n\t\t// linked axis gets the extremes from the parent axis\n\t\tif (isLinked) {\n\t\t\taxis.linkedParent = chart[isXAxis ? 'xAxis' : 'yAxis'][options.linkedTo];\n\t\t\tlinkedParentExtremes = axis.linkedParent.getExtremes();\n\t\t\taxis.min = pick(linkedParentExtremes.min, linkedParentExtremes.dataMin);\n\t\t\taxis.max = pick(linkedParentExtremes.max, linkedParentExtremes.dataMax);\n\t\t\tif (options.type !== axis.linkedParent.options.type) {\n\t\t\t\terror(11, 1); // Can't link axes of different type\n\t\t\t}\n\t\t} else { // initial min and max from the extreme data values\n\t\t\taxis.min = pick(axis.userMin, options.min, axis.dataMin);\n\t\t\taxis.max = pick(axis.userMax, options.max, axis.dataMax);\n\t\t}\n\n\t\tif (isLog) {\n\t\t\tif (!secondPass && mathMin(axis.min, pick(axis.dataMin, axis.min)) <= 0) { // #978\n\t\t\t\terror(10, 1); // Can't plot negative values on log axis\n\t\t\t}\n\t\t\taxis.min = correctFloat(log2lin(axis.min)); // correctFloat cures #934\n\t\t\taxis.max = correctFloat(log2lin(axis.max));\n\t\t}\n\n\t\t// handle zoomed range\n\t\tif (axis.range) {\n\t\t\taxis.userMin = axis.min = mathMax(axis.min, axis.max - axis.range); // #618\n\t\t\taxis.userMax = axis.max;\n\t\t\tif (secondPass) {\n\t\t\t\taxis.range = null;  // don't use it when running setExtremes\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Hook for adjusting this.min and this.max. Used by bubble series.\n\t\tif (axis.beforePadding) {\n\t\t\taxis.beforePadding();\n\t\t}\n\n\t\t// adjust min and max for the minimum range\n\t\taxis.adjustForMinRange();\n\t\t\n\t\t// Pad the values to get clear of the chart's edges. To avoid tickInterval taking the padding\n\t\t// into account, we do this after computing tick interval (#1337).\n\t\tif (!categories && !axis.usePercentage && !isLinked && defined(axis.min) && defined(axis.max)) {\n\t\t\tlength = axis.max - axis.min;\n\t\t\tif (length) {\n\t\t\t\tif (!defined(options.min) && !defined(axis.userMin) && minPadding && (axis.dataMin < 0 || !axis.ignoreMinPadding)) {\n\t\t\t\t\taxis.min -= length * minPadding;\n\t\t\t\t}\n\t\t\t\tif (!defined(options.max) && !defined(axis.userMax)  && maxPadding && (axis.dataMax > 0 || !axis.ignoreMaxPadding)) {\n\t\t\t\t\taxis.max += length * maxPadding;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// get tickInterval\n\t\tif (axis.min === axis.max || axis.min === undefined || axis.max === undefined) {\n\t\t\taxis.tickInterval = 1;\n\t\t} else if (isLinked && !tickIntervalOption &&\n\t\t\t\ttickPixelIntervalOption === axis.linkedParent.options.tickPixelInterval) {\n\t\t\taxis.tickInterval = axis.linkedParent.tickInterval;\n\t\t} else {\n\t\t\taxis.tickInterval = pick(\n\t\t\t\ttickIntervalOption,\n\t\t\t\tcategories ? // for categoried axis, 1 is default, for linear axis use tickPix\n\t\t\t\t\t1 :\n\t\t\t\t\t// don't let it be more than the data range\n\t\t\t\t\t(axis.max - axis.min) * tickPixelIntervalOption / mathMax(axis.len, tickPixelIntervalOption)\n\t\t\t);\n\t\t\t// For squished axes, set only two ticks\n\t\t\tif (!defined(tickIntervalOption) && axis.len < tickPixelIntervalOption && !this.isRadial) {\n\t\t\t\tkeepTwoTicksOnly = true;\n\t\t\t\taxis.tickInterval /= 4; // tick extremes closer to the real values\n\t\t\t}\n\t\t}\n\n\t\t// Now we're finished detecting min and max, crop and group series data. This\n\t\t// is in turn needed in order to find tick positions in ordinal axes. \n\t\tif (isXAxis && !secondPass) {\n\t\t\teach(axis.series, function (series) {\n\t\t\t\tseries.processData(axis.min !== axis.oldMin || axis.max !== axis.oldMax);\n\t\t\t});\n\t\t}\n\n\t\t// set the translation factor used in translate function\n\t\taxis.setAxisTranslation(true);\n\n\t\t// hook for ordinal axes and radial axes\n\t\tif (axis.beforeSetTickPositions) {\n\t\t\taxis.beforeSetTickPositions();\n\t\t}\n\t\t\n\t\t// hook for extensions, used in Highstock ordinal axes\n\t\tif (axis.postProcessTickInterval) {\n\t\t\taxis.tickInterval = axis.postProcessTickInterval(axis.tickInterval);\n\t\t}\n\n\t\t// In column-like charts, don't cramp in more ticks than there are points (#1943)\n\t\tif (axis.pointRange) {\n\t\t\taxis.tickInterval = mathMax(axis.pointRange, axis.tickInterval);\n\t\t}\n\t\t\n\t\t// Before normalizing the tick interval, handle minimum tick interval. This applies only if tickInterval is not defined.\n\t\tif (!tickIntervalOption && axis.tickInterval < minTickIntervalOption) {\n\t\t\taxis.tickInterval = minTickIntervalOption;\n\t\t}\n\n\t\t// for linear axes, get magnitude and normalize the interval\n\t\tif (!isDatetimeAxis && !isLog) { // linear\n\t\t\tif (!tickIntervalOption) {\n\t\t\t\taxis.tickInterval = normalizeTickInterval(axis.tickInterval, null, getMagnitude(axis.tickInterval), options);\n\t\t\t}\n\t\t}\n\n\t\t// get minorTickInterval\n\t\taxis.minorTickInterval = options.minorTickInterval === 'auto' && axis.tickInterval ?\n\t\t\t\taxis.tickInterval / 5 : options.minorTickInterval;\n\n\t\t// find the tick positions\n\t\taxis.tickPositions = tickPositions = options.tickPositions ?\n\t\t\t[].concat(options.tickPositions) : // Work on a copy (#1565)\n\t\t\t(tickPositioner && tickPositioner.apply(axis, [axis.min, axis.max]));\n\t\tif (!tickPositions) {\n\t\t\t\n\t\t\t// Too many ticks\n\t\t\tif (!axis.ordinalPositions && (axis.max - axis.min) / axis.tickInterval > mathMax(2 * axis.len, 200)) {\n\t\t\t\terror(19, true);\n\t\t\t}\n\t\t\t\n\t\t\tif (isDatetimeAxis) {\n\t\t\t\ttickPositions = (axis.getNonLinearTimeTicks || getTimeTicks)(\n\t\t\t\t\tnormalizeTimeTickInterval(axis.tickInterval, options.units),\n\t\t\t\t\taxis.min,\n\t\t\t\t\taxis.max,\n\t\t\t\t\toptions.startOfWeek,\n\t\t\t\t\taxis.ordinalPositions,\n\t\t\t\t\taxis.closestPointRange,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t} else if (isLog) {\n\t\t\t\ttickPositions = axis.getLogTickPositions(axis.tickInterval, axis.min, axis.max);\n\t\t\t} else {\n\t\t\t\ttickPositions = axis.getLinearTickPositions(axis.tickInterval, axis.min, axis.max);\n\t\t\t}\n\t\t\tif (keepTwoTicksOnly) {\n\t\t\t\ttickPositions.splice(1, tickPositions.length - 2);\n\t\t\t}\n\n\t\t\taxis.tickPositions = tickPositions;\n\t\t}\n\n\t\tif (!isLinked) {\n\n\t\t\t// reset min/max or remove extremes based on start/end on tick\n\t\t\tvar roundedMin = tickPositions[0],\n\t\t\t\troundedMax = tickPositions[tickPositions.length - 1],\n\t\t\t\tminPointOffset = axis.minPointOffset || 0,\n\t\t\t\tsinglePad;\n\n\t\t\tif (options.startOnTick) {\n\t\t\t\taxis.min = roundedMin;\n\t\t\t} else if (axis.min - minPointOffset > roundedMin) {\n\t\t\t\ttickPositions.shift();\n\t\t\t}\n\n\t\t\tif (options.endOnTick) {\n\t\t\t\taxis.max = roundedMax;\n\t\t\t} else if (axis.max + minPointOffset < roundedMax) {\n\t\t\t\ttickPositions.pop();\n\t\t\t}\n\t\t\t\n\t\t\t// When there is only one point, or all points have the same value on this axis, then min\n\t\t\t// and max are equal and tickPositions.length is 1. In this case, add some padding\n\t\t\t// in order to center the point, but leave it with one tick. #1337.\n\t\t\tif (tickPositions.length === 1) {\n\t\t\t\tsinglePad = 0.001; // The lowest possible number to avoid extra padding on columns\n\t\t\t\taxis.min -= singlePad;\n\t\t\t\taxis.max += singlePad;\n\t\t\t}\n\t\t}\n\t},\n\t\n\t/**\n\t * Set the max ticks of either the x and y axis collection\n\t */\n\tsetMaxTicks: function () {\n\t\t\n\t\tvar chart = this.chart,\n\t\t\tmaxTicks = chart.maxTicks || {},\n\t\t\ttickPositions = this.tickPositions,\n\t\t\tkey = this._maxTicksKey = [this.xOrY, this.pos, this.len].join('-');\n\t\t\n\t\tif (!this.isLinked && !this.isDatetimeAxis && tickPositions && tickPositions.length > (maxTicks[key] || 0) && this.options.alignTicks !== false) {\n\t\t\tmaxTicks[key] = tickPositions.length;\n\t\t}\n\t\tchart.maxTicks = maxTicks;\n\t},\n\n\t/**\n\t * When using multiple axes, adjust the number of ticks to match the highest\n\t * number of ticks in that group\n\t */\n\tadjustTickAmount: function () {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart,\n\t\t\tkey = axis._maxTicksKey,\n\t\t\ttickPositions = axis.tickPositions,\n\t\t\tmaxTicks = chart.maxTicks;\n\n\t\tif (maxTicks && maxTicks[key] && !axis.isDatetimeAxis && !axis.categories && !axis.isLinked && axis.options.alignTicks !== false) { // only apply to linear scale\n\t\t\tvar oldTickAmount = axis.tickAmount,\n\t\t\t\tcalculatedTickAmount = tickPositions.length,\n\t\t\t\ttickAmount;\n\n\t\t\t// set the axis-level tickAmount to use below\n\t\t\taxis.tickAmount = tickAmount = maxTicks[key];\n\n\t\t\tif (calculatedTickAmount < tickAmount) {\n\t\t\t\twhile (tickPositions.length < tickAmount) {\n\t\t\t\t\ttickPositions.push(correctFloat(\n\t\t\t\t\t\ttickPositions[tickPositions.length - 1] + axis.tickInterval\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t\taxis.transA *= (calculatedTickAmount - 1) / (tickAmount - 1);\n\t\t\t\taxis.max = tickPositions[tickPositions.length - 1];\n\n\t\t\t}\n\t\t\tif (defined(oldTickAmount) && tickAmount !== oldTickAmount) {\n\t\t\t\taxis.isDirty = true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Set the scale based on data min and max, user set min and max or options\n\t *\n\t */\n\tsetScale: function () {\n\t\tvar axis = this,\n\t\t\tstacks = axis.stacks,\n\t\t\ttype,\n\t\t\ti,\n\t\t\tisDirtyData,\n\t\t\tisDirtyAxisLength;\n\n\t\taxis.oldMin = axis.min;\n\t\taxis.oldMax = axis.max;\n\t\taxis.oldAxisLength = axis.len;\n\n\t\t// set the new axisLength\n\t\taxis.setAxisSize();\n\t\t//axisLength = horiz ? axisWidth : axisHeight;\n\t\tisDirtyAxisLength = axis.len !== axis.oldAxisLength;\n\n\t\t// is there new data?\n\t\teach(axis.series, function (series) {\n\t\t\tif (series.isDirtyData || series.isDirty ||\n\t\t\t\t\tseries.xAxis.isDirty) { // when x axis is dirty, we need new data extremes for y as well\n\t\t\t\tisDirtyData = true;\n\t\t\t}\n\t\t});\n\n\t\t// do we really need to go through all this?\n\t\tif (isDirtyAxisLength || isDirtyData || axis.isLinked || axis.forceRedraw ||\n\t\t\taxis.userMin !== axis.oldUserMin || axis.userMax !== axis.oldUserMax) {\n\t\t\t\n\t\t\t// reset stacks\n\t\t\tif (!axis.isXAxis) {\n\t\t\t\tfor (type in stacks) {\n\t\t\t\t\tdelete stacks[type];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\taxis.forceRedraw = false;\n\n\t\t\t// get data extremes if needed\n\t\t\taxis.getSeriesExtremes();\n\n\t\t\t// get fixed positions based on tickInterval\n\t\t\taxis.setTickPositions();\n\n\t\t\t// record old values to decide whether a rescale is necessary later on (#540)\n\t\t\taxis.oldUserMin = axis.userMin;\n\t\t\taxis.oldUserMax = axis.userMax;\n\n\t\t\t// Mark as dirty if it is not already set to dirty and extremes have changed. #595.\n\t\t\tif (!axis.isDirty) {\n\t\t\t\taxis.isDirty = isDirtyAxisLength || axis.min !== axis.oldMin || axis.max !== axis.oldMax;\n\t\t\t}\n\t\t} else if (!axis.isXAxis) {\n\t\t\tif (axis.oldStacks) {\n\t\t\t\tstacks = axis.stacks = axis.oldStacks;\n\t\t\t}\n\n\t\t\t// reset stacks\n\t\t\tfor (type in stacks) {\n\t\t\t\tfor (i in stacks[type]) {\n\t\t\t\t\tstacks[type][i].cum = stacks[type][i].total;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Set the maximum tick amount\n\t\taxis.setMaxTicks();\n\t},\n\n\t/**\n\t * Set the extremes and optionally redraw\n\t * @param {Number} newMin\n\t * @param {Number} newMax\n\t * @param {Boolean} redraw\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t * @param {Object} eventArguments \n\t *\n\t */\n\tsetExtremes: function (newMin, newMax, redraw, animation, eventArguments) {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart;\n\n\t\tredraw = pick(redraw, true); // defaults to true\n\n\t\t// Extend the arguments with min and max\n\t\teventArguments = extend(eventArguments, {\n\t\t\tmin: newMin,\n\t\t\tmax: newMax\n\t\t});\n\n\t\t// Fire the event\n\t\tfireEvent(axis, 'setExtremes', eventArguments, function () { // the default event handler\n\n\t\t\taxis.userMin = newMin;\n\t\t\taxis.userMax = newMax;\n\t\t\taxis.eventArgs = eventArguments;\n\n\t\t\t// Mark for running afterSetExtremes\n\t\t\taxis.isDirtyExtremes = true;\n\n\t\t\t// redraw\n\t\t\tif (redraw) {\n\t\t\t\tchart.redraw(animation);\n\t\t\t}\n\t\t});\n\t},\n\t\n\t/**\n\t * Overridable method for zooming chart. Pulled out in a separate method to allow overriding\n\t * in stock charts.\n\t */\n\tzoom: function (newMin, newMax) {\n\n\t\t// Prevent pinch zooming out of range. Check for defined is for #1946.\n\t\tif (!this.allowZoomOutside) {\n\t\t\tif (defined(this.dataMin) && newMin <= this.dataMin) {\n\t\t\t\tnewMin = UNDEFINED;\n\t\t\t}\n\t\t\tif (defined(this.dataMax) && newMax >= this.dataMax) {\n\t\t\t\tnewMax = UNDEFINED;\n\t\t\t}\n\t\t}\n\n\t\t// In full view, displaying the reset zoom button is not required\n\t\tthis.displayBtn = newMin !== UNDEFINED || newMax !== UNDEFINED;\n\t\t\n\t\t// Do it\n\t\tthis.setExtremes(\n\t\t\tnewMin,\n\t\t\tnewMax,\n\t\t\tfalse, \n\t\t\tUNDEFINED, \n\t\t\t{ trigger: 'zoom' }\n\t\t);\n\t\treturn true;\n\t},\n\t\n\t/**\n\t * Update the axis metrics\n\t */\n\tsetAxisSize: function () {\n\t\tvar chart = this.chart,\n\t\t\toptions = this.options,\n\t\t\toffsetLeft = options.offsetLeft || 0,\n\t\t\toffsetRight = options.offsetRight || 0,\n\t\t\thoriz = this.horiz,\n\t\t\twidth,\n\t\t\theight,\n\t\t\ttop,\n\t\t\tleft;\n\n\t\t// Expose basic values to use in Series object and navigator\n\t\tthis.left = left = pick(options.left, chart.plotLeft + offsetLeft);\n\t\tthis.top = top = pick(options.top, chart.plotTop);\n\t\tthis.width = width = pick(options.width, chart.plotWidth - offsetLeft + offsetRight);\n\t\tthis.height = height = pick(options.height, chart.plotHeight);\n\t\tthis.bottom = chart.chartHeight - height - top;\n\t\tthis.right = chart.chartWidth - width - left;\n\n\t\t// Direction agnostic properties\n\t\tthis.len = mathMax(horiz ? width : height, 0); // mathMax fixes #905\n\t\tthis.pos = horiz ? left : top; // distance from SVG origin\n\t},\n\n\t/**\n\t * Get the actual axis extremes\n\t */\n\tgetExtremes: function () {\n\t\tvar axis = this,\n\t\t\tisLog = axis.isLog;\n\n\t\treturn {\n\t\t\tmin: isLog ? correctFloat(lin2log(axis.min)) : axis.min,\n\t\t\tmax: isLog ? correctFloat(lin2log(axis.max)) : axis.max,\n\t\t\tdataMin: axis.dataMin,\n\t\t\tdataMax: axis.dataMax,\n\t\t\tuserMin: axis.userMin,\n\t\t\tuserMax: axis.userMax\n\t\t};\n\t},\n\n\t/**\n\t * Get the zero plane either based on zero or on the min or max value.\n\t * Used in bar and area plots\n\t */\n\tgetThreshold: function (threshold) {\n\t\tvar axis = this,\n\t\t\tisLog = axis.isLog;\n\n\t\tvar realMin = isLog ? lin2log(axis.min) : axis.min,\n\t\t\trealMax = isLog ? lin2log(axis.max) : axis.max;\n\t\t\n\t\tif (realMin > threshold || threshold === null) {\n\t\t\tthreshold = realMin;\n\t\t} else if (realMax < threshold) {\n\t\t\tthreshold = realMax;\n\t\t}\n\n\t\treturn axis.translate(threshold, 0, 1, 0, 1);\n\t},\n\n\taddPlotBand: function (options) {\n\t\tthis.addPlotBandOrLine(options, 'plotBands');\n\t},\n\t\n\taddPlotLine: function (options) {\n\t\tthis.addPlotBandOrLine(options, 'plotLines');\n\t},\n\n\t/**\n\t * Add a plot band or plot line after render time\n\t *\n\t * @param options {Object} The plotBand or plotLine configuration object\n\t */\n\taddPlotBandOrLine: function (options, coll) {\n\t\tvar obj = new PlotLineOrBand(this, options).render(),\n\t\t\tuserOptions = this.userOptions;\n\n\t\tif (obj) { // #2189\n\t\t\t// Add it to the user options for exporting and Axis.update\n\t\t\tif (coll) {\n\t\t\t\tuserOptions[coll] = userOptions[coll] || [];\n\t\t\t\tuserOptions[coll].push(options); \n\t\t\t}\n\t\t\tthis.plotLinesAndBands.push(obj); \n\t\t}\n\t\t\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Compute auto alignment for the axis label based on which side the axis is on \n\t * and the given rotation for the label\n\t */\n\tautoLabelAlign: function (rotation) {\n\t\tvar ret, \n\t\t\tangle = (pick(rotation, 0) - (this.side * 90) + 720) % 360;\n\n\t\tif (angle > 15 && angle < 165) {\n\t\t\tret = 'right';\n\t\t} else if (angle > 195 && angle < 345) {\n\t\t\tret = 'left';\n\t\t} else {\n\t\t\tret = 'center';\n\t\t}\n\t\treturn ret;\n\t},\n\n\t/**\n\t * Render the tick labels to a preliminary position to get their sizes\n\t */\n\tgetOffset: function () {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\toptions = axis.options,\n\t\t\ttickPositions = axis.tickPositions,\n\t\t\tticks = axis.ticks,\n\t\t\thoriz = axis.horiz,\n\t\t\tside = axis.side,\n\t\t\tinvertedSide = chart.inverted ? [1, 0, 3, 2][side] : side,\n\t\t\thasData,\n\t\t\tshowAxis,\n\t\t\ttitleOffset = 0,\n\t\t\ttitleOffsetOption,\n\t\t\ttitleMargin = 0,\n\t\t\taxisTitleOptions = options.title,\n\t\t\tlabelOptions = options.labels,\n\t\t\tlabelOffset = 0, // reset\n\t\t\taxisOffset = chart.axisOffset,\n\t\t\tclipOffset = chart.clipOffset,\n\t\t\tdirectionFactor = [-1, 1, 1, -1][side],\n\t\t\tn,\n\t\t\ti,\n\t\t\tautoStaggerLines = 1,\n\t\t\tmaxStaggerLines = pick(labelOptions.maxStaggerLines, 5),\n\t\t\tsortedPositions,\n\t\t\tlastRight,\n\t\t\toverlap,\n\t\t\tpos,\n\t\t\tbBox,\n\t\t\tx,\n\t\t\tw,\n\t\t\tlineNo;\n\t\t\t\n\t\t// For reuse in Axis.render\n\t\taxis.hasData = hasData = (axis.hasVisibleSeries || (defined(axis.min) && defined(axis.max) && !!tickPositions));\n\t\taxis.showAxis = showAxis = hasData || pick(options.showEmpty, true);\n\n\t\t// Set/reset staggerLines\n\t\taxis.staggerLines = axis.horiz && labelOptions.staggerLines;\n\t\t\n\t\t// Create the axisGroup and gridGroup elements on first iteration\n\t\tif (!axis.axisGroup) {\n\t\t\taxis.gridGroup = renderer.g('grid')\n\t\t\t\t.attr({ zIndex: options.gridZIndex || 1 })\n\t\t\t\t.add();\n\t\t\taxis.axisGroup = renderer.g('axis')\n\t\t\t\t.attr({ zIndex: options.zIndex || 2 })\n\t\t\t\t.add();\n\t\t\taxis.labelGroup = renderer.g('axis-labels')\n\t\t\t\t.attr({ zIndex: labelOptions.zIndex || 7 })\n\t\t\t\t.add();\n\t\t}\n\n\t\tif (hasData || axis.isLinked) {\n\t\t\t\n\t\t\t// Set the explicit or automatic label alignment\n\t\t\taxis.labelAlign = pick(labelOptions.align || axis.autoLabelAlign(labelOptions.rotation));\n\n\t\t\teach(tickPositions, function (pos) {\n\t\t\t\tif (!ticks[pos]) {\n\t\t\t\t\tticks[pos] = new Tick(axis, pos);\n\t\t\t\t} else {\n\t\t\t\t\tticks[pos].addLabel(); // update labels depending on tick interval\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Handle automatic stagger lines\n\t\t\tif (axis.horiz && !axis.staggerLines && maxStaggerLines && !labelOptions.rotation) {\n\t\t\t\tsortedPositions = axis.reversed ? [].concat(tickPositions).reverse() : tickPositions;\n\t\t\t\twhile (autoStaggerLines < maxStaggerLines) {\n\t\t\t\t\tlastRight = [];\n\t\t\t\t\toverlap = false;\n\t\t\t\t\t\n\t\t\t\t\tfor (i = 0; i < sortedPositions.length; i++) {\n\t\t\t\t\t\tpos = sortedPositions[i];\n\t\t\t\t\t\tbBox = ticks[pos].label && ticks[pos].label.getBBox();\n\t\t\t\t\t\tw = bBox ? bBox.width : 0;\n\t\t\t\t\t\tlineNo = i % autoStaggerLines;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (w) {\n\t\t\t\t\t\t\tx = axis.translate(pos); // don't handle log\n\t\t\t\t\t\t\tif (lastRight[lineNo] !== UNDEFINED && x < lastRight[lineNo]) {\n\t\t\t\t\t\t\t\toverlap = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlastRight[lineNo] = x + w;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (overlap) {\n\t\t\t\t\t\tautoStaggerLines++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (autoStaggerLines > 1) {\n\t\t\t\t\taxis.staggerLines = autoStaggerLines;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\teach(tickPositions, function (pos) {\n\t\t\t\t// left side must be align: right and right side must have align: left for labels\n\t\t\t\tif (side === 0 || side === 2 || { 1: 'left', 3: 'right' }[side] === axis.labelAlign) {\n\n\t\t\t\t\t// get the highest offset\n\t\t\t\t\tlabelOffset = mathMax(\n\t\t\t\t\t\tticks[pos].getLabelSize(),\n\t\t\t\t\t\tlabelOffset\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t});\n\t\t\tif (axis.staggerLines) {\n\t\t\t\tlabelOffset *= axis.staggerLines;\n\t\t\t\taxis.labelOffset = labelOffset;\n\t\t\t}\n\t\t\t\n\n\t\t} else { // doesn't have data\n\t\t\tfor (n in ticks) {\n\t\t\t\tticks[n].destroy();\n\t\t\t\tdelete ticks[n];\n\t\t\t}\n\t\t}\n\n\t\tif (axisTitleOptions && axisTitleOptions.text && axisTitleOptions.enabled !== false) { \n\t\t\tif (!axis.axisTitle) {\n\t\t\t\taxis.axisTitle = renderer.text(\n\t\t\t\t\taxisTitleOptions.text,\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\taxisTitleOptions.useHTML\n\t\t\t\t)\n\t\t\t\t.attr({\n\t\t\t\t\tzIndex: 7,\n\t\t\t\t\trotation: axisTitleOptions.rotation || 0,\n\t\t\t\t\talign:\n\t\t\t\t\t\taxisTitleOptions.textAlign ||\n\t\t\t\t\t\t{ low: 'left', middle: 'center', high: 'right' }[axisTitleOptions.align]\n\t\t\t\t})\n\t\t\t\t.css(axisTitleOptions.style)\n\t\t\t\t.add(axis.axisGroup);\n\t\t\t\taxis.axisTitle.isNew = true;\n\t\t\t}\n\n\t\t\tif (showAxis) {\n\t\t\t\ttitleOffset = axis.axisTitle.getBBox()[horiz ? 'height' : 'width'];\n\t\t\t\ttitleMargin = pick(axisTitleOptions.margin, horiz ? 5 : 10);\n\t\t\t\ttitleOffsetOption = axisTitleOptions.offset;\n\t\t\t}\n\n\t\t\t// hide or show the title depending on whether showEmpty is set\n\t\t\taxis.axisTitle[showAxis ? 'show' : 'hide']();\n\t\t}\n\t\t\n\t\t// handle automatic or user set offset\n\t\taxis.offset = directionFactor * pick(options.offset, axisOffset[side]);\n\t\t\n\t\taxis.axisTitleMargin =\n\t\t\tpick(titleOffsetOption,\n\t\t\t\tlabelOffset + titleMargin +\n\t\t\t\t(side !== 2 && labelOffset && directionFactor * options.labels[horiz ? 'y' : 'x'])\n\t\t\t);\n\n\t\taxisOffset[side] = mathMax(\n\t\t\taxisOffset[side],\n\t\t\taxis.axisTitleMargin + titleOffset + directionFactor * axis.offset\n\t\t);\n\t\tclipOffset[invertedSide] = mathMax(clipOffset[invertedSide], mathFloor(options.lineWidth / 2) * 2);\n\t},\n\t\n\t/**\n\t * Get the path for the axis line\n\t */\n\tgetLinePath: function (lineWidth) {\n\t\tvar chart = this.chart,\n\t\t\topposite = this.opposite,\n\t\t\toffset = this.offset,\n\t\t\thoriz = this.horiz,\n\t\t\tlineLeft = this.left + (opposite ? this.width : 0) + offset,\n\t\t\tlineTop = chart.chartHeight - this.bottom - (opposite ? this.height : 0) + offset;\n\t\t\t\n\t\tif (opposite) {\n\t\t\tlineWidth *= -1; // crispify the other way - #1480, #1687\n\t\t}\n\n\t\treturn chart.renderer.crispLine([\n\t\t\t\tM,\n\t\t\t\thoriz ?\n\t\t\t\t\tthis.left :\n\t\t\t\t\tlineLeft,\n\t\t\t\thoriz ?\n\t\t\t\t\tlineTop :\n\t\t\t\t\tthis.top,\n\t\t\t\tL,\n\t\t\t\thoriz ?\n\t\t\t\t\tchart.chartWidth - this.right :\n\t\t\t\t\tlineLeft,\n\t\t\t\thoriz ?\n\t\t\t\t\tlineTop :\n\t\t\t\t\tchart.chartHeight - this.bottom\n\t\t\t], lineWidth);\n\t},\n\t\n\t/**\n\t * Position the title\n\t */\n\tgetTitlePosition: function () {\n\t\t// compute anchor points for each of the title align options\n\t\tvar horiz = this.horiz,\n\t\t\taxisLeft = this.left,\n\t\t\taxisTop = this.top,\n\t\t\taxisLength = this.len,\n\t\t\taxisTitleOptions = this.options.title,\t\t\t\n\t\t\tmargin = horiz ? axisLeft : axisTop,\n\t\t\topposite = this.opposite,\n\t\t\toffset = this.offset,\n\t\t\tfontSize = pInt(axisTitleOptions.style.fontSize || 12),\n\t\t\t\n\t\t\t// the position in the length direction of the axis\n\t\t\talongAxis = {\n\t\t\t\tlow: margin + (horiz ? 0 : axisLength),\n\t\t\t\tmiddle: margin + axisLength / 2,\n\t\t\t\thigh: margin + (horiz ? axisLength : 0)\n\t\t\t}[axisTitleOptions.align],\n\t\n\t\t\t// the position in the perpendicular direction of the axis\n\t\t\toffAxis = (horiz ? axisTop + this.height : axisLeft) +\n\t\t\t\t(horiz ? 1 : -1) * // horizontal axis reverses the margin\n\t\t\t\t(opposite ? -1 : 1) * // so does opposite axes\n\t\t\t\tthis.axisTitleMargin +\n\t\t\t\t(this.side === 2 ? fontSize : 0);\n\n\t\treturn {\n\t\t\tx: horiz ?\n\t\t\t\talongAxis :\n\t\t\t\toffAxis + (opposite ? this.width : 0) + offset +\n\t\t\t\t\t(axisTitleOptions.x || 0), // x\n\t\t\ty: horiz ?\n\t\t\t\toffAxis - (opposite ? this.height : 0) + offset :\n\t\t\t\talongAxis + (axisTitleOptions.y || 0) // y\n\t\t};\n\t},\n\t\n\t/**\n\t * Render the axis\n\t */\n\trender: function () {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\toptions = axis.options,\n\t\t\tisLog = axis.isLog,\n\t\t\tisLinked = axis.isLinked,\n\t\t\ttickPositions = axis.tickPositions,\n\t\t\taxisTitle = axis.axisTitle,\n\t\t\tstacks = axis.stacks,\n\t\t\tticks = axis.ticks,\n\t\t\tminorTicks = axis.minorTicks,\n\t\t\talternateBands = axis.alternateBands,\n\t\t\tstackLabelOptions = options.stackLabels,\n\t\t\talternateGridColor = options.alternateGridColor,\n\t\t\ttickmarkOffset = axis.tickmarkOffset,\n\t\t\tlineWidth = options.lineWidth,\n\t\t\tlinePath,\n\t\t\thasRendered = chart.hasRendered,\n\t\t\tslideInTicks = hasRendered && defined(axis.oldMin) && !isNaN(axis.oldMin),\n\t\t\thasData = axis.hasData,\n\t\t\tshowAxis = axis.showAxis,\n\t\t\tfrom,\n\t\t\tto;\n\n\t\t// Mark all elements inActive before we go over and mark the active ones\n\t\teach([ticks, minorTicks, alternateBands], function (coll) {\n\t\t\tvar pos;\n\t\t\tfor (pos in coll) {\n\t\t\t\tcoll[pos].isActive = false;\n\t\t\t}\n\t\t});\n\n\t\t// If the series has data draw the ticks. Else only the line and title\n\t\tif (hasData || isLinked) {\n\n\t\t\t// minor ticks\n\t\t\tif (axis.minorTickInterval && !axis.categories) {\n\t\t\t\teach(axis.getMinorTickPositions(), function (pos) {\n\t\t\t\t\tif (!minorTicks[pos]) {\n\t\t\t\t\t\tminorTicks[pos] = new Tick(axis, pos, 'minor');\n\t\t\t\t\t}\n\n\t\t\t\t\t// render new ticks in old position\n\t\t\t\t\tif (slideInTicks && minorTicks[pos].isNew) {\n\t\t\t\t\t\tminorTicks[pos].render(null, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tminorTicks[pos].render(null, false, 1);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Major ticks. Pull out the first item and render it last so that\n\t\t\t// we can get the position of the neighbour label. #808.\n\t\t\tif (tickPositions.length) { // #1300\n\t\t\t\teach(tickPositions.slice(1).concat([tickPositions[0]]), function (pos, i) {\n\t\n\t\t\t\t\t// Reorganize the indices\n\t\t\t\t\ti = (i === tickPositions.length - 1) ? 0 : i + 1;\n\t\n\t\t\t\t\t// linked axes need an extra check to find out if\n\t\t\t\t\tif (!isLinked || (pos >= axis.min && pos <= axis.max)) {\n\t\n\t\t\t\t\t\tif (!ticks[pos]) {\n\t\t\t\t\t\t\tticks[pos] = new Tick(axis, pos);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// render new ticks in old position\n\t\t\t\t\t\tif (slideInTicks && ticks[pos].isNew) {\n\t\t\t\t\t\t\tticks[pos].render(i, true);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tticks[pos].render(i, false, 1);\n\t\t\t\t\t}\n\t\n\t\t\t\t});\n\t\t\t\t// In a categorized axis, the tick marks are displayed between labels. So\n\t\t\t\t// we need to add a tick mark and grid line at the left edge of the X axis.\n\t\t\t\tif (tickmarkOffset && axis.min === 0) {\n\t\t\t\t\tif (!ticks[-1]) {\n\t\t\t\t\t\tticks[-1] = new Tick(axis, -1, null, true);\n\t\t\t\t\t}\n\t\t\t\t\tticks[-1].render(-1);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\n\t\t\t// alternate grid color\n\t\t\tif (alternateGridColor) {\n\t\t\t\teach(tickPositions, function (pos, i) {\n\t\t\t\t\tif (i % 2 === 0 && pos < axis.max) {\n\t\t\t\t\t\tif (!alternateBands[pos]) {\n\t\t\t\t\t\t\talternateBands[pos] = new PlotLineOrBand(axis);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfrom = pos + tickmarkOffset; // #949\n\t\t\t\t\t\tto = tickPositions[i + 1] !== UNDEFINED ? tickPositions[i + 1] + tickmarkOffset : axis.max;\n\t\t\t\t\t\talternateBands[pos].options = {\n\t\t\t\t\t\t\tfrom: isLog ? lin2log(from) : from,\n\t\t\t\t\t\t\tto: isLog ? lin2log(to) : to,\n\t\t\t\t\t\t\tcolor: alternateGridColor\n\t\t\t\t\t\t};\n\t\t\t\t\t\talternateBands[pos].render();\n\t\t\t\t\t\talternateBands[pos].isActive = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// custom plot lines and bands\n\t\t\tif (!axis._addedPlotLB) { // only first time\n\t\t\t\teach((options.plotLines || []).concat(options.plotBands || []), function (plotLineOptions) {\n\t\t\t\t\taxis.addPlotBandOrLine(plotLineOptions);\n\t\t\t\t});\n\t\t\t\taxis._addedPlotLB = true;\n\t\t\t}\n\n\t\t} // end if hasData\n\n\t\t// Remove inactive ticks\n\t\teach([ticks, minorTicks, alternateBands], function (coll) {\n\t\t\tvar pos, \n\t\t\t\ti,\n\t\t\t\tforDestruction = [],\n\t\t\t\tdelay = globalAnimation ? globalAnimation.duration || 500 : 0,\n\t\t\t\tdestroyInactiveItems = function () {\n\t\t\t\t\ti = forDestruction.length;\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t// When resizing rapidly, the same items may be destroyed in different timeouts,\n\t\t\t\t\t\t// or the may be reactivated\n\t\t\t\t\t\tif (coll[forDestruction[i]] && !coll[forDestruction[i]].isActive) {\n\t\t\t\t\t\t\tcoll[forDestruction[i]].destroy();\n\t\t\t\t\t\t\tdelete coll[forDestruction[i]];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t};\n\n\t\t\tfor (pos in coll) {\n\n\t\t\t\tif (!coll[pos].isActive) {\n\t\t\t\t\t// Render to zero opacity\n\t\t\t\t\tcoll[pos].render(pos, false, 0);\n\t\t\t\t\tcoll[pos].isActive = false;\n\t\t\t\t\tforDestruction.push(pos);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// When the objects are finished fading out, destroy them\n\t\t\tif (coll === alternateBands || !chart.hasRendered || !delay) {\n\t\t\t\tdestroyInactiveItems();\n\t\t\t} else if (delay) {\n\t\t\t\tsetTimeout(destroyInactiveItems, delay);\n\t\t\t}\n\t\t});\n\n\t\t// Static items. As the axis group is cleared on subsequent calls\n\t\t// to render, these items are added outside the group.\n\t\t// axis line\n\t\tif (lineWidth) {\n\t\t\tlinePath = axis.getLinePath(lineWidth);\n\t\t\tif (!axis.axisLine) {\n\t\t\t\taxis.axisLine = renderer.path(linePath)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tstroke: options.lineColor,\n\t\t\t\t\t\t'stroke-width': lineWidth,\n\t\t\t\t\t\tzIndex: 7\n\t\t\t\t\t})\n\t\t\t\t\t.add(axis.axisGroup);\n\t\t\t} else {\n\t\t\t\taxis.axisLine.animate({ d: linePath });\n\t\t\t}\n\n\t\t\t// show or hide the line depending on options.showEmpty\n\t\t\taxis.axisLine[showAxis ? 'show' : 'hide']();\n\t\t}\n\n\t\tif (axisTitle && showAxis) {\n\t\t\t\n\t\t\taxisTitle[axisTitle.isNew ? 'attr' : 'animate'](\n\t\t\t\taxis.getTitlePosition()\n\t\t\t);\n\t\t\taxisTitle.isNew = false;\n\t\t}\n\n\t\t// Stacked totals:\n\t\tif (stackLabelOptions && stackLabelOptions.enabled) {\n\t\t\tvar stackKey, oneStack, stackCategory,\n\t\t\t\tstackTotalGroup = axis.stackTotalGroup;\n\n\t\t\t// Create a separate group for the stack total labels\n\t\t\tif (!stackTotalGroup) {\n\t\t\t\taxis.stackTotalGroup = stackTotalGroup =\n\t\t\t\t\trenderer.g('stack-labels')\n\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\tvisibility: VISIBLE,\n\t\t\t\t\t\t\tzIndex: 6\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.add();\n\t\t\t}\n\n\t\t\t// plotLeft/Top will change when y axis gets wider so we need to translate the\n\t\t\t// stackTotalGroup at every render call. See bug #506 and #516\n\t\t\tstackTotalGroup.translate(chart.plotLeft, chart.plotTop);\n\n\t\t\t// Render each stack total\n\t\t\tfor (stackKey in stacks) {\n\t\t\t\toneStack = stacks[stackKey];\n\t\t\t\tfor (stackCategory in oneStack) {\n\t\t\t\t\toneStack[stackCategory].render(stackTotalGroup);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// End stacked totals\n\n\t\taxis.isDirty = false;\n\t},\n\n\t/**\n\t * Remove a plot band or plot line from the chart by id\n\t * @param {Object} id\n\t */\n\tremovePlotBandOrLine: function (id) {\n\t\tvar plotLinesAndBands = this.plotLinesAndBands,\n\t\t\toptions = this.options,\n\t\t\tuserOptions = this.userOptions,\n\t\t\ti = plotLinesAndBands.length;\n\t\twhile (i--) {\n\t\t\tif (plotLinesAndBands[i].id === id) {\n\t\t\t\tplotLinesAndBands[i].destroy();\n\t\t\t}\n\t\t}\n\t\teach([options.plotLines || [], userOptions.plotLines || [], options.plotBands || [], userOptions.plotBands || []], function (arr) {\n\t\t\ti = arr.length;\n\t\t\twhile (i--) {\n\t\t\t\tif (arr[i].id === id) {\n\t\t\t\t\terase(arr, arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t},\n\n\t/**\n\t * Update the axis title by options\n\t */\n\tsetTitle: function (newTitleOptions, redraw) {\n\t\tthis.update({ title: newTitleOptions }, redraw);\n\t},\n\n\t/**\n\t * Redraw the axis to reflect changes in the data or axis extremes\n\t */\n\tredraw: function () {\n\t\tvar axis = this,\n\t\t\tchart = axis.chart,\n\t\t\tpointer = chart.pointer;\n\n\t\t// hide tooltip and hover states\n\t\tif (pointer.reset) {\n\t\t\tpointer.reset(true);\n\t\t}\n\n\t\t// render the axis\n\t\taxis.render();\n\n\t\t// move plot lines and bands\n\t\teach(axis.plotLinesAndBands, function (plotLine) {\n\t\t\tplotLine.render();\n\t\t});\n\n\t\t// mark associated series as dirty and ready for redraw\n\t\teach(axis.series, function (series) {\n\t\t\tseries.isDirty = true;\n\t\t});\n\n\t},\n\n\t/**\n\t * Build the stacks from top down\n\t */\n\tbuildStacks: function () {\n\t\tvar series = this.series,\n\t\t\ti = series.length;\n\t\tif (!this.isXAxis) {\n\t\t\twhile (i--) {\n\t\t\t\tseries[i].setStackedPoints();\n\t\t\t}\n\t\t\t// Loop up again to compute percent stack\n\t\t\tif (this.usePercentage) {\n\t\t\t\tfor (i = 0; i < series.length; i++) {\n\t\t\t\t\tseries[i].setPercentStacks();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Set new axis categories and optionally redraw\n\t * @param {Array} categories\n\t * @param {Boolean} redraw\n\t */\n\tsetCategories: function (categories, redraw) {\n\t\tthis.update({ categories: categories }, redraw);\n\t},\n\n\t/**\n\t * Destroys an Axis instance.\n\t */\n\tdestroy: function (keepEvents) {\n\t\tvar axis = this,\n\t\t\tstacks = axis.stacks,\n\t\t\tstackKey,\n\t\t\tplotLinesAndBands = axis.plotLinesAndBands,\n\t\t\ti;\n\n\t\t// Remove the events\n\t\tif (!keepEvents) {\n\t\t\tremoveEvent(axis);\n\t\t}\n\n\t\t// Destroy each stack total\n\t\tfor (stackKey in stacks) {\n\t\t\tdestroyObjectProperties(stacks[stackKey]);\n\n\t\t\tstacks[stackKey] = null;\n\t\t}\n\n\t\t// Destroy collections\n\t\teach([axis.ticks, axis.minorTicks, axis.alternateBands], function (coll) {\n\t\t\tdestroyObjectProperties(coll);\n\t\t});\n\t\ti = plotLinesAndBands.length;\n\t\twhile (i--) { // #1975\n\t\t\tplotLinesAndBands[i].destroy();\n\t\t}\n\n\t\t// Destroy local variables\n\t\teach(['stackTotalGroup', 'axisLine', 'axisGroup', 'gridGroup', 'labelGroup', 'axisTitle'], function (prop) {\n\t\t\tif (axis[prop]) {\n\t\t\t\taxis[prop] = axis[prop].destroy();\n\t\t\t}\n\t\t});\n\t}\n\n\t\n}; // end Axis\n\n/**\n * The tooltip object\n * @param {Object} chart The chart instance\n * @param {Object} options Tooltip options\n */\nfunction Tooltip() {\n\tthis.init.apply(this, arguments);\n}\n\nTooltip.prototype = {\n\n\tinit: function (chart, options) {\n\n\t\tvar borderWidth = options.borderWidth,\n\t\t\tstyle = options.style,\n\t\t\tpadding = pInt(style.padding);\n\n\t\t// Save the chart and options\n\t\tthis.chart = chart;\n\t\tthis.options = options;\n\n\t\t// Keep track of the current series\n\t\t//this.currentSeries = UNDEFINED;\n\n\t\t// List of crosshairs\n\t\tthis.crosshairs = [];\n\n\t\t// Current values of x and y when animating\n\t\tthis.now = { x: 0, y: 0 };\n\n\t\t// The tooltip is initially hidden\n\t\tthis.isHidden = true;\n\n\n\t\t// create the label\n\t\tthis.label = chart.renderer.label('', 0, 0, options.shape, null, null, options.useHTML, null, 'tooltip')\n\t\t\t.attr({\n\t\t\t\tpadding: padding,\n\t\t\t\tfill: options.backgroundColor,\n\t\t\t\t'stroke-width': borderWidth,\n\t\t\t\tr: options.borderRadius,\n\t\t\t\tzIndex: 8\n\t\t\t})\n\t\t\t.css(style)\n\t\t\t.css({ padding: 0 }) // Remove it from VML, the padding is applied as an attribute instead (#1117)\n\t\t\t.add()\n\t\t\t.attr({ y: -999 }); // #2301\n\n\t\t// When using canVG the shadow shows up as a gray circle\n\t\t// even if the tooltip is hidden.\n\t\tif (!useCanVG) {\n\t\t\tthis.label.shadow(options.shadow);\n\t\t}\n\n\t\t// Public property for getting the shared state.\n\t\tthis.shared = options.shared;\n\t},\n\n\t/**\n\t * Destroy the tooltip and its elements.\n\t */\n\tdestroy: function () {\n\t\teach(this.crosshairs, function (crosshair) {\n\t\t\tif (crosshair) {\n\t\t\t\tcrosshair.destroy();\n\t\t\t}\n\t\t});\n\n\t\t// Destroy and clear local variables\n\t\tif (this.label) {\n\t\t\tthis.label = this.label.destroy();\n\t\t}\n\t\tclearTimeout(this.hideTimer);\n\t\tclearTimeout(this.tooltipTimeout);\n\t},\n\n\t/**\n\t * Provide a soft movement for the tooltip\n\t *\n\t * @param {Number} x\n\t * @param {Number} y\n\t * @private\n\t */\n\tmove: function (x, y, anchorX, anchorY) {\n\t\tvar tooltip = this,\n\t\t\tnow = tooltip.now,\n\t\t\tanimate = tooltip.options.animation !== false && !tooltip.isHidden;\n\n\t\t// get intermediate values for animation\n\t\textend(now, {\n\t\t\tx: animate ? (2 * now.x + x) / 3 : x,\n\t\t\ty: animate ? (now.y + y) / 2 : y,\n\t\t\tanchorX: animate ? (2 * now.anchorX + anchorX) / 3 : anchorX,\n\t\t\tanchorY: animate ? (now.anchorY + anchorY) / 2 : anchorY\n\t\t});\n\n\t\t// move to the intermediate value\n\t\ttooltip.label.attr(now);\n\n\t\t\n\t\t// run on next tick of the mouse tracker\n\t\tif (animate && (mathAbs(x - now.x) > 1 || mathAbs(y - now.y) > 1)) {\n\t\t\n\t\t\t// never allow two timeouts\n\t\t\tclearTimeout(this.tooltipTimeout);\n\t\t\t\n\t\t\t// set the fixed interval ticking for the smooth tooltip\n\t\t\tthis.tooltipTimeout = setTimeout(function () {\n\t\t\t\t// The interval function may still be running during destroy, so check that the chart is really there before calling.\n\t\t\t\tif (tooltip) {\n\t\t\t\t\ttooltip.move(x, y, anchorX, anchorY);\n\t\t\t\t}\n\t\t\t}, 32);\n\t\t\t\n\t\t}\n\t},\n\n\t/**\n\t * Hide the tooltip\n\t */\n\thide: function () {\n\t\tvar tooltip = this,\n\t\t\thoverPoints;\n\t\t\n\t\tclearTimeout(this.hideTimer); // disallow duplicate timers (#1728, #1766)\n\t\tif (!this.isHidden) {\n\t\t\thoverPoints = this.chart.hoverPoints;\n\n\t\t\tthis.hideTimer = setTimeout(function () {\n\t\t\t\ttooltip.label.fadeOut();\n\t\t\t\ttooltip.isHidden = true;\n\t\t\t}, pick(this.options.hideDelay, 500));\n\n\t\t\t// hide previous hoverPoints and set new\n\t\t\tif (hoverPoints) {\n\t\t\t\teach(hoverPoints, function (point) {\n\t\t\t\t\tpoint.setState();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.chart.hoverPoints = null;\n\t\t}\n\t},\n\n\t/**\n\t * Hide the crosshairs\n\t */\n\thideCrosshairs: function () {\n\t\teach(this.crosshairs, function (crosshair) {\n\t\t\tif (crosshair) {\n\t\t\t\tcrosshair.hide();\n\t\t\t}\n\t\t});\n\t},\n\t\n\t/** \n\t * Extendable method to get the anchor position of the tooltip\n\t * from a point or set of points\n\t */\n\tgetAnchor: function (points, mouseEvent) {\n\t\tvar ret,\n\t\t\tchart = this.chart,\n\t\t\tinverted = chart.inverted,\n\t\t\tplotTop = chart.plotTop,\n\t\t\tplotX = 0,\n\t\t\tplotY = 0,\n\t\t\tyAxis;\n\t\t\n\t\tpoints = splat(points);\n\t\t\n\t\t// Pie uses a special tooltipPos\n\t\tret = points[0].tooltipPos;\n\t\t\n\t\t// When tooltip follows mouse, relate the position to the mouse\n\t\tif (this.followPointer && mouseEvent) {\n\t\t\tif (mouseEvent.chartX === UNDEFINED) {\n\t\t\t\tmouseEvent = chart.pointer.normalize(mouseEvent);\n\t\t\t}\n\t\t\tret = [\n\t\t\t\tmouseEvent.chartX - chart.plotLeft,\n\t\t\t\tmouseEvent.chartY - plotTop\n\t\t\t];\n\t\t}\n\t\t// When shared, use the average position\n\t\tif (!ret) {\n\t\t\teach(points, function (point) {\n\t\t\t\tyAxis = point.series.yAxis;\n\t\t\t\tplotX += point.plotX;\n\t\t\t\tplotY += (point.plotLow ? (point.plotLow + point.plotHigh) / 2 : point.plotY) +\n\t\t\t\t\t(!inverted && yAxis ? yAxis.top - plotTop : 0); // #1151\n\t\t\t});\n\t\t\t\n\t\t\tplotX /= points.length;\n\t\t\tplotY /= points.length;\n\t\t\t\n\t\t\tret = [\n\t\t\t\tinverted ? chart.plotWidth - plotY : plotX,\n\t\t\t\tthis.shared && !inverted && points.length > 1 && mouseEvent ? \n\t\t\t\t\tmouseEvent.chartY - plotTop : // place shared tooltip next to the mouse (#424)\n\t\t\t\t\tinverted ? chart.plotHeight - plotX : plotY\n\t\t\t];\n\t\t}\n\n\t\treturn map(ret, mathRound);\n\t},\n\t\n\t/**\n\t * Place the tooltip in a chart without spilling over\n\t * and not covering the point it self.\n\t */\n\tgetPosition: function (boxWidth, boxHeight, point) {\n\t\t\n\t\t// Set up the variables\n\t\tvar chart = this.chart,\n\t\t\tplotLeft = chart.plotLeft,\n\t\t\tplotTop = chart.plotTop,\n\t\t\tplotWidth = chart.plotWidth,\n\t\t\tplotHeight = chart.plotHeight,\n\t\t\tdistance = pick(this.options.distance, 12),\n\t\t\tpointX = point.plotX,\n\t\t\tpointY = point.plotY,\n\t\t\tx = pointX + plotLeft + (chart.inverted ? distance : -boxWidth - distance),\n\t\t\ty = pointY - boxHeight + plotTop + 15, // 15 means the point is 15 pixels up from the bottom of the tooltip\n\t\t\talignedRight;\n\t\n\t\t// It is too far to the left, adjust it\n\t\tif (x < 7) {\n\t\t\tx = plotLeft + mathMax(pointX, 0) + distance;\n\t\t}\n\t\n\t\t// Test to see if the tooltip is too far to the right,\n\t\t// if it is, move it back to be inside and then up to not cover the point.\n\t\tif ((x + boxWidth) > (plotLeft + plotWidth)) {\n\t\t\tx -= (x + boxWidth) - (plotLeft + plotWidth);\n\t\t\ty = pointY - boxHeight + plotTop - distance;\n\t\t\talignedRight = true;\n\t\t}\n\t\n\t\t// If it is now above the plot area, align it to the top of the plot area\n\t\tif (y < plotTop + 5) {\n\t\t\ty = plotTop + 5;\n\t\n\t\t\t// If the tooltip is still covering the point, move it below instead\n\t\t\tif (alignedRight && pointY >= y && pointY <= (y + boxHeight)) {\n\t\t\t\ty = pointY + plotTop + distance; // below\n\t\t\t}\n\t\t} \n\t\n\t\t// Now if the tooltip is below the chart, move it up. It's better to cover the\n\t\t// point than to disappear outside the chart. #834.\n\t\tif (y + boxHeight > plotTop + plotHeight) {\n\t\t\ty = mathMax(plotTop, plotTop + plotHeight - boxHeight - distance); // below\n\t\t}\n\t\n\t\treturn {x: x, y: y};\n\t},\n\n\t/**\n\t * In case no user defined formatter is given, this will be used. Note that the context\n\t * here is an object holding point, series, x, y etc.\n\t */\n\tdefaultFormatter: function (tooltip) {\n\t\tvar items = this.points || splat(this),\n\t\t\tseries = items[0].series,\n\t\t\ts;\n\n\t\t// build the header\n\t\ts = [series.tooltipHeaderFormatter(items[0])];\n\n\t\t// build the values\n\t\teach(items, function (item) {\n\t\t\tseries = item.series;\n\t\t\ts.push((series.tooltipFormatter && series.tooltipFormatter(item)) ||\n\t\t\t\titem.point.tooltipFormatter(series.tooltipOptions.pointFormat));\n\t\t});\n\n\t\t// footer\n\t\ts.push(tooltip.options.footerFormat || '');\n\n\t\treturn s.join('');\n\t},\n\n\t/**\n\t * Refresh the tooltip's text and position.\n\t * @param {Object} point\n\t */\n\trefresh: function (point, mouseEvent) {\n\t\tvar tooltip = this,\n\t\t\tchart = tooltip.chart,\n\t\t\tlabel = tooltip.label,\n\t\t\toptions = tooltip.options,\n\t\t\tx,\n\t\t\ty,\n\t\t\tanchor,\n\t\t\ttextConfig = {},\n\t\t\ttext,\n\t\t\tpointConfig = [],\n\t\t\tformatter = options.formatter || tooltip.defaultFormatter,\n\t\t\thoverPoints = chart.hoverPoints,\n\t\t\tborderColor,\n\t\t\tcrosshairsOptions = options.crosshairs,\n\t\t\tshared = tooltip.shared,\n\t\t\tcurrentSeries;\n\t\t\t\n\t\tclearTimeout(this.hideTimer);\n\t\t\n\t\t// get the reference point coordinates (pie charts use tooltipPos)\n\t\ttooltip.followPointer = splat(point)[0].series.tooltipOptions.followPointer;\n\t\tanchor = tooltip.getAnchor(point, mouseEvent);\n\t\tx = anchor[0];\n\t\ty = anchor[1];\n\n\t\t// shared tooltip, array is sent over\n\t\tif (shared && !(point.series && point.series.noSharedTooltip)) {\n\t\t\t\n\t\t\t// hide previous hoverPoints and set new\n\t\t\t\n\t\t\tchart.hoverPoints = point;\n\t\t\tif (hoverPoints) {\n\t\t\t\teach(hoverPoints, function (point) {\n\t\t\t\t\tpoint.setState();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\teach(point, function (item) {\n\t\t\t\titem.setState(HOVER_STATE);\n\n\t\t\t\tpointConfig.push(item.getLabelConfig());\n\t\t\t});\n\n\t\t\ttextConfig = {\n\t\t\t\tx: point[0].category,\n\t\t\t\ty: point[0].y\n\t\t\t};\n\t\t\ttextConfig.points = pointConfig;\n\t\t\tpoint = point[0];\n\n\t\t// single point tooltip\n\t\t} else {\n\t\t\ttextConfig = point.getLabelConfig();\n\t\t}\n\t\ttext = formatter.call(textConfig, tooltip);\n\n\t\t// register the current series\n\t\tcurrentSeries = point.series;\n\n\t\t// update the inner HTML\n\t\tif (text === false) {\n\t\t\tthis.hide();\n\t\t} else {\n\n\t\t\t// show it\n\t\t\tif (tooltip.isHidden) {\n\t\t\t\tstop(label);\n\t\t\t\tlabel.attr('opacity', 1).show();\n\t\t\t}\n\n\t\t\t// update text\n\t\t\tlabel.attr({\n\t\t\t\ttext: text\n\t\t\t});\n\n\t\t\t// set the stroke color of the box\n\t\t\tborderColor = options.borderColor || point.color || currentSeries.color || '#606060';\n\t\t\tlabel.attr({\n\t\t\t\tstroke: borderColor\n\t\t\t});\n\t\t\t\n\t\t\ttooltip.updatePosition({ plotX: x, plotY: y });\n\t\t\n\t\t\tthis.isHidden = false;\n\t\t}\n\n\t\t// crosshairs\n\t\tif (crosshairsOptions) {\n\t\t\tcrosshairsOptions = splat(crosshairsOptions); // [x, y]\n\n\t\t\tvar path,\n\t\t\t\ti = crosshairsOptions.length,\n\t\t\t\tattribs,\n\t\t\t\taxis,\n\t\t\t\tval,\n\t\t\t\tseries;\n\n\t\t\twhile (i--) {\n\t\t\t\tseries = point.series;\n\t\t\t\taxis = series[i ? 'yAxis' : 'xAxis'];\n\t\t\t\tif (crosshairsOptions[i] && axis) {\n\t\t\t\t\tval = i ? pick(point.stackY, point.y) : point.x; // #814\n\t\t\t\t\tif (axis.isLog) { // #1671\n\t\t\t\t\t\tval = log2lin(val);\n\t\t\t\t\t}\n\t\t\t\t\tif (i === 1 && series.modifyValue) { // #1205, #2316\n\t\t\t\t\t\tval = series.modifyValue(val);\n\t\t\t\t\t}\n\n\t\t\t\t\tpath = axis.getPlotLinePath(\n\t\t\t\t\t\tval,\n\t\t\t\t\t\t1\n\t\t\t\t\t);\n\n\t\t\t\t\tif (tooltip.crosshairs[i]) {\n\t\t\t\t\t\ttooltip.crosshairs[i].attr({ d: path, visibility: VISIBLE });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattribs = {\n\t\t\t\t\t\t\t'stroke-width': crosshairsOptions[i].width || 1,\n\t\t\t\t\t\t\tstroke: crosshairsOptions[i].color || '#C0C0C0',\n\t\t\t\t\t\t\tzIndex: crosshairsOptions[i].zIndex || 2\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (crosshairsOptions[i].dashStyle) {\n\t\t\t\t\t\t\tattribs.dashstyle = crosshairsOptions[i].dashStyle;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttooltip.crosshairs[i] = chart.renderer.path(path)\n\t\t\t\t\t\t\t.attr(attribs)\n\t\t\t\t\t\t\t.add();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfireEvent(chart, 'tooltipRefresh', {\n\t\t\t\ttext: text,\n\t\t\t\tx: x + chart.plotLeft,\n\t\t\t\ty: y + chart.plotTop,\n\t\t\t\tborderColor: borderColor\n\t\t\t});\n\t},\n\t\n\t/**\n\t * Find the new position and perform the move\n\t */\n\tupdatePosition: function (point) {\n\t\tvar chart = this.chart,\n\t\t\tlabel = this.label, \n\t\t\tpos = (this.options.positioner || this.getPosition).call(\n\t\t\t\tthis,\n\t\t\t\tlabel.width,\n\t\t\t\tlabel.height,\n\t\t\t\tpoint\n\t\t\t);\n\n\t\t// do the move\n\t\tthis.move(\n\t\t\tmathRound(pos.x), \n\t\t\tmathRound(pos.y), \n\t\t\tpoint.plotX + chart.plotLeft, \n\t\t\tpoint.plotY + chart.plotTop\n\t\t);\n\t}\n};\n/**\n * The mouse tracker object. All methods starting with \"on\" are primary DOM event handlers. \n * Subsequent methods should be named differently from what they are doing.\n * @param {Object} chart The Chart instance\n * @param {Object} options The root options object\n */\nfunction Pointer(chart, options) {\n\tthis.init(chart, options);\n}\n\nPointer.prototype = {\n\t/**\n\t * Initialize Pointer\n\t */\n\tinit: function (chart, options) {\n\t\t\n\t\tvar chartOptions = options.chart,\n\t\t\tchartEvents = chartOptions.events,\n\t\t\tzoomType = useCanVG ? '' : chartOptions.zoomType,\n\t\t\tinverted = chart.inverted,\n\t\t\tzoomX,\n\t\t\tzoomY;\n\n\t\t// Store references\n\t\tthis.options = options;\n\t\tthis.chart = chart;\n\t\t\n\t\t// Zoom status\n\t\tthis.zoomX = zoomX = /x/.test(zoomType);\n\t\tthis.zoomY = zoomY = /y/.test(zoomType);\n\t\tthis.zoomHor = (zoomX && !inverted) || (zoomY && inverted);\n\t\tthis.zoomVert = (zoomY && !inverted) || (zoomX && inverted);\n\n\t\t// Do we need to handle click on a touch device?\n\t\tthis.runChartClick = chartEvents && !!chartEvents.click;\n\n\t\tthis.pinchDown = [];\n\t\tthis.lastValidTouch = {};\n\n\t\tif (options.tooltip.enabled) {\n\t\t\tchart.tooltip = new Tooltip(chart, options.tooltip);\n\t\t}\n\n\t\tthis.setDOMEvents();\n\t}, \n\n\t/**\n\t * Add crossbrowser support for chartX and chartY\n\t * @param {Object} e The event object in standard browsers\n\t */\n\tnormalize: function (e, chartPosition) {\n\t\tvar chartX,\n\t\t\tchartY,\n\t\t\tePos;\n\n\t\t// common IE normalizing\n\t\te = e || win.event;\n\t\tif (!e.target) {\n\t\t\te.target = e.srcElement;\n\t\t}\n\n\t\t// Framework specific normalizing (#1165)\n\t\te = washMouseEvent(e);\n\t\t\n\t\t// iOS\n\t\tePos = e.touches ? e.touches.item(0) : e;\n\n\t\t// Get mouse position\n\t\tif (!chartPosition) {\n\t\t\tthis.chartPosition = chartPosition = offset(this.chart.container);\n\t\t}\n\n\t\t// chartX and chartY\n\t\tif (ePos.pageX === UNDEFINED) { // IE < 9. #886.\n\t\t\tchartX = mathMax(e.x, e.clientX - chartPosition.left); // #2005, #2129: the second case is \n\t\t\t\t// for IE10 quirks mode within framesets\n\t\t\tchartY = e.y;\n\t\t} else {\n\t\t\tchartX = ePos.pageX - chartPosition.left;\n\t\t\tchartY = ePos.pageY - chartPosition.top;\n\t\t}\n\n\t\treturn extend(e, {\n\t\t\tchartX: mathRound(chartX),\n\t\t\tchartY: mathRound(chartY)\n\t\t});\n\t},\n\n\t/**\n\t * Get the click position in terms of axis values.\n\t *\n\t * @param {Object} e A pointer event\n\t */\n\tgetCoordinates: function (e) {\n\t\tvar coordinates = {\n\t\t\t\txAxis: [],\n\t\t\t\tyAxis: []\n\t\t\t};\n\n\t\teach(this.chart.axes, function (axis) {\n\t\t\tcoordinates[axis.isXAxis ? 'xAxis' : 'yAxis'].push({\n\t\t\t\taxis: axis,\n\t\t\t\tvalue: axis.toValue(e[axis.horiz ? 'chartX' : 'chartY'])\n\t\t\t});\n\t\t});\n\t\treturn coordinates;\n\t},\n\t\n\t/**\n\t * Return the index in the tooltipPoints array, corresponding to pixel position in \n\t * the plot area.\n\t */\n\tgetIndex: function (e) {\n\t\tvar chart = this.chart;\n\t\treturn chart.inverted ? \n\t\t\tchart.plotHeight + chart.plotTop - e.chartY : \n\t\t\te.chartX - chart.plotLeft;\n\t},\n\n\t/**\n\t * With line type charts with a single tracker, get the point closest to the mouse.\n\t * Run Point.onMouseOver and display tooltip for the point or points.\n\t */\n\trunPointActions: function (e) {\n\t\tvar pointer = this,\n\t\t\tchart = pointer.chart,\n\t\t\tseries = chart.series,\n\t\t\ttooltip = chart.tooltip,\n\t\t\tpoint,\n\t\t\tpoints,\n\t\t\thoverPoint = chart.hoverPoint,\n\t\t\thoverSeries = chart.hoverSeries,\n\t\t\ti,\n\t\t\tj,\n\t\t\tdistance = chart.chartWidth,\n\t\t\tindex = pointer.getIndex(e),\n\t\t\tanchor;\n\n\t\t// shared tooltip\n\t\tif (tooltip && pointer.options.tooltip.shared && !(hoverSeries && hoverSeries.noSharedTooltip)) {\n\t\t\tpoints = [];\n\n\t\t\t// loop over all series and find the ones with points closest to the mouse\n\t\t\ti = series.length;\n\t\t\tfor (j = 0; j < i; j++) {\n\t\t\t\tif (series[j].visible &&\n\t\t\t\t\t\tseries[j].options.enableMouseTracking !== false &&\n\t\t\t\t\t\t!series[j].noSharedTooltip && series[j].tooltipPoints.length) {\n\t\t\t\t\tpoint = series[j].tooltipPoints[index];\n\t\t\t\t\tif (point && point.series) { // not a dummy point, #1544\n\t\t\t\t\t\tpoint._dist = mathAbs(index - point.clientX);\n\t\t\t\t\t\tdistance = mathMin(distance, point._dist);\n\t\t\t\t\t\tpoints.push(point);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// remove furthest points\n\t\t\ti = points.length;\n\t\t\twhile (i--) {\n\t\t\t\tif (points[i]._dist > distance) {\n\t\t\t\t\tpoints.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// refresh the tooltip if necessary\n\t\t\tif (points.length && (points[0].clientX !== pointer.hoverX)) {\n\t\t\t\ttooltip.refresh(points, e);\n\t\t\t\tpointer.hoverX = points[0].clientX;\n\t\t\t}\n\t\t}\n\n\t\t// separate tooltip and general mouse events\n\t\tif (hoverSeries && hoverSeries.tracker) { // only use for line-type series with common tracker\n\n\t\t\t// get the point\n\t\t\tpoint = hoverSeries.tooltipPoints[index];\n\n\t\t\t// a new point is hovered, refresh the tooltip\n\t\t\tif (point && point !== hoverPoint) {\n\n\t\t\t\t// trigger the events\n\t\t\t\tpoint.onMouseOver(e);\n\n\t\t\t}\n\t\t\t\n\t\t} else if (tooltip && tooltip.followPointer && !tooltip.isHidden) {\n\t\t\tanchor = tooltip.getAnchor([{}], e);\n\t\t\ttooltip.updatePosition({ plotX: anchor[0], plotY: anchor[1] });\n\t\t}\n\t},\n\n\n\n\t/**\n\t * Reset the tracking by hiding the tooltip, the hover series state and the hover point\n\t * \n\t * @param allowMove {Boolean} Instead of destroying the tooltip altogether, allow moving it if possible\n\t */\n\treset: function (allowMove) {\n\t\tvar pointer = this,\n\t\t\tchart = pointer.chart,\n\t\t\thoverSeries = chart.hoverSeries,\n\t\t\thoverPoint = chart.hoverPoint,\n\t\t\ttooltip = chart.tooltip,\n\t\t\ttooltipPoints = tooltip && tooltip.shared ? chart.hoverPoints : hoverPoint;\n\t\t\t\n\t\t// Narrow in allowMove\n\t\tallowMove = allowMove && tooltip && tooltipPoints;\n\t\t\t\n\t\t// Check if the points have moved outside the plot area, #1003\n\t\tif (allowMove && splat(tooltipPoints)[0].plotX === UNDEFINED) {\n\t\t\tallowMove = false;\n\t\t}\t\n\n\t\t// Just move the tooltip, #349\n\t\tif (allowMove) {\n\t\t\ttooltip.refresh(tooltipPoints);\n\n\t\t// Full reset\n\t\t} else {\n\n\t\t\tif (hoverPoint) {\n\t\t\t\thoverPoint.onMouseOut();\n\t\t\t}\n\n\t\t\tif (hoverSeries) {\n\t\t\t\thoverSeries.onMouseOut();\n\t\t\t}\n\n\t\t\tif (tooltip) {\n\t\t\t\ttooltip.hide();\n\t\t\t\ttooltip.hideCrosshairs();\n\t\t\t}\n\n\t\t\tpointer.hoverX = null;\n\n\t\t}\n\t},\n\n\t/**\n\t * Scale series groups to a certain scale and translation\n\t */\n\tscaleGroups: function (attribs, clip) {\n\n\t\tvar chart = this.chart,\n\t\t\tseriesAttribs;\n\n\t\t// Scale each series\n\t\teach(chart.series, function (series) {\n\t\t\tseriesAttribs = attribs || series.getPlotBox(); // #1701\n\t\t\tif (series.xAxis && series.xAxis.zoomEnabled) {\n\t\t\t\tseries.group.attr(seriesAttribs);\n\t\t\t\tif (series.markerGroup) {\n\t\t\t\t\tseries.markerGroup.attr(seriesAttribs);\n\t\t\t\t\tseries.markerGroup.clip(clip ? chart.clipRect : null);\n\t\t\t\t}\n\t\t\t\tif (series.dataLabelsGroup) {\n\t\t\t\t\tseries.dataLabelsGroup.attr(seriesAttribs);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\t// Clip\n\t\tchart.clipRect.attr(clip || chart.clipBox);\n\t},\n\n\t/**\n\t * Run translation operations for each direction (horizontal and vertical) independently\n\t */\n\tpinchTranslateDirection: function (horiz, pinchDown, touches, transform, selectionMarker, clip, lastValidTouch) {\n\t\tvar chart = this.chart,\n\t\t\txy = horiz ? 'x' : 'y',\n\t\t\tXY = horiz ? 'X' : 'Y',\n\t\t\tsChartXY = 'chart' + XY,\n\t\t\twh = horiz ? 'width' : 'height',\n\t\t\tplotLeftTop = chart['plot' + (horiz ? 'Left' : 'Top')],\n\t\t\tselectionWH,\n\t\t\tselectionXY,\n\t\t\tclipXY,\n\t\t\tscale = 1,\n\t\t\tinverted = chart.inverted,\n\t\t\tbounds = chart.bounds[horiz ? 'h' : 'v'],\n\t\t\tsingleTouch = pinchDown.length === 1,\n\t\t\ttouch0Start = pinchDown[0][sChartXY],\n\t\t\ttouch0Now = touches[0][sChartXY],\n\t\t\ttouch1Start = !singleTouch && pinchDown[1][sChartXY],\n\t\t\ttouch1Now = !singleTouch && touches[1][sChartXY],\n\t\t\toutOfBounds,\n\t\t\ttransformScale,\n\t\t\tscaleKey,\n\t\t\tsetScale = function () {\n\t\t\t\tif (!singleTouch && mathAbs(touch0Start - touch1Start) > 20) { // Don't zoom if fingers are too close on this axis\n\t\t\t\t\tscale = mathAbs(touch0Now - touch1Now) / mathAbs(touch0Start - touch1Start);\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclipXY = ((plotLeftTop - touch0Now) / scale) + touch0Start;\n\t\t\t\tselectionWH = chart['plot' + (horiz ? 'Width' : 'Height')] / scale;\n\t\t\t};\n\n\t\t// Set the scale, first pass\n\t\tsetScale();\n\n\t\tselectionXY = clipXY; // the clip position (x or y) is altered if out of bounds, the selection position is not\n\n\t\t// Out of bounds\n\t\tif (selectionXY < bounds.min) {\n\t\t\tselectionXY = bounds.min;\n\t\t\toutOfBounds = true;\n\t\t} else if (selectionXY + selectionWH > bounds.max) {\n\t\t\tselectionXY = bounds.max - selectionWH;\n\t\t\toutOfBounds = true;\n\t\t}\n\t\t\n\t\t// Is the chart dragged off its bounds, determined by dataMin and dataMax?\n\t\tif (outOfBounds) {\n\n\t\t\t// Modify the touchNow position in order to create an elastic drag movement. This indicates\n\t\t\t// to the user that the chart is responsive but can't be dragged further.\n\t\t\ttouch0Now -= 0.8 * (touch0Now - lastValidTouch[xy][0]);\n\t\t\tif (!singleTouch) {\n\t\t\t\ttouch1Now -= 0.8 * (touch1Now - lastValidTouch[xy][1]);\n\t\t\t}\n\n\t\t\t// Set the scale, second pass to adapt to the modified touchNow positions\n\t\t\tsetScale();\n\n\t\t} else {\n\t\t\tlastValidTouch[xy] = [touch0Now, touch1Now];\n\t\t}\n\n\t\t\n\t\t// Set geometry for clipping, selection and transformation\n\t\tif (!inverted) { // TODO: implement clipping for inverted charts\n\t\t\tclip[xy] = clipXY - plotLeftTop;\n\t\t\tclip[wh] = selectionWH;\n\t\t}\n\t\tscaleKey = inverted ? (horiz ? 'scaleY' : 'scaleX') : 'scale' + XY;\n\t\ttransformScale = inverted ? 1 / scale : scale;\n\n\t\tselectionMarker[wh] = selectionWH;\n\t\tselectionMarker[xy] = selectionXY;\n\t\ttransform[scaleKey] = scale;\n\t\ttransform['translate' + XY] = (transformScale * plotLeftTop) + (touch0Now - (transformScale * touch0Start));\n\t},\n\t\n\t/**\n\t * Handle touch events with two touches\n\t */\n\tpinch: function (e) {\n\n\t\tvar self = this,\n\t\t\tchart = self.chart,\n\t\t\tpinchDown = self.pinchDown,\n\t\t\tfollowTouchMove = chart.tooltip && chart.tooltip.options.followTouchMove,\n\t\t\ttouches = e.touches,\n\t\t\ttouchesLength = touches.length,\n\t\t\tlastValidTouch = self.lastValidTouch,\n\t\t\tzoomHor = self.zoomHor || self.pinchHor,\n\t\t\tzoomVert = self.zoomVert || self.pinchVert,\n\t\t\thasZoom = zoomHor || zoomVert,\n\t\t\tselectionMarker = self.selectionMarker,\n\t\t\ttransform = {},\n\t\t\tfireClickEvent = touchesLength === 1 && ((self.inClass(e.target, PREFIX + 'tracker') && \n\t\t\t\tchart.runTrackerClick) || chart.runChartClick),\n\t\t\tclip = {};\n\n\t\t// On touch devices, only proceed to trigger click if a handler is defined\n\t\tif ((hasZoom || followTouchMove) && !fireClickEvent) {\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t// Normalize each touch\n\t\tmap(touches, function (e) {\n\t\t\treturn self.normalize(e);\n\t\t});\n\t\t\t\n\t\t// Register the touch start position\n\t\tif (e.type === 'touchstart') {\n\t\t\teach(touches, function (e, i) {\n\t\t\t\tpinchDown[i] = { chartX: e.chartX, chartY: e.chartY };\n\t\t\t});\n\t\t\tlastValidTouch.x = [pinchDown[0].chartX, pinchDown[1] && pinchDown[1].chartX];\n\t\t\tlastValidTouch.y = [pinchDown[0].chartY, pinchDown[1] && pinchDown[1].chartY];\n\n\t\t\t// Identify the data bounds in pixels\n\t\t\teach(chart.axes, function (axis) {\n\t\t\t\tif (axis.zoomEnabled) {\n\t\t\t\t\tvar bounds = chart.bounds[axis.horiz ? 'h' : 'v'],\n\t\t\t\t\t\tminPixelPadding = axis.minPixelPadding,\n\t\t\t\t\t\tmin = axis.toPixels(axis.dataMin),\n\t\t\t\t\t\tmax = axis.toPixels(axis.dataMax),\n\t\t\t\t\t\tabsMin = mathMin(min, max),\n\t\t\t\t\t\tabsMax = mathMax(min, max);\n\n\t\t\t\t\t// Store the bounds for use in the touchmove handler\n\t\t\t\t\tbounds.min = mathMin(axis.pos, absMin - minPixelPadding);\n\t\t\t\t\tbounds.max = mathMax(axis.pos + axis.len, absMax + minPixelPadding);\n\t\t\t\t}\n\t\t\t});\n\t\t\n\t\t// Event type is touchmove, handle panning and pinching\n\t\t} else if (pinchDown.length) { // can be 0 when releasing, if touchend fires first\n\t\t\t\n\n\t\t\t// Set the marker\n\t\t\tif (!selectionMarker) {\n\t\t\t\tself.selectionMarker = selectionMarker = extend({\n\t\t\t\t\tdestroy: noop\n\t\t\t\t}, chart.plotBox);\n\t\t\t}\n\n\t\t\t\n\n\t\t\tif (zoomHor) {\n\t\t\t\tself.pinchTranslateDirection(true, pinchDown, touches, transform, selectionMarker, clip, lastValidTouch);\n\t\t\t}\n\t\t\tif (zoomVert) {\n\t\t\t\tself.pinchTranslateDirection(false, pinchDown, touches, transform, selectionMarker, clip, lastValidTouch);\n\t\t\t}\n\n\t\t\tself.hasPinched = hasZoom;\n\n\t\t\t// Scale and translate the groups to provide visual feedback during pinching\n\t\t\tself.scaleGroups(transform, clip);\n\t\t\t\n\t\t\t// Optionally move the tooltip on touchmove\n\t\t\tif (!hasZoom && followTouchMove && touchesLength === 1) {\n\t\t\t\tthis.runPointActions(self.normalize(e));\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Start a drag operation\n\t */\n\tdragStart: function (e) {\n\t\tvar chart = this.chart;\n\n\t\t// Record the start position\n\t\tchart.mouseIsDown = e.type;\n\t\tchart.cancelClick = false;\n\t\tchart.mouseDownX = this.mouseDownX = e.chartX;\n\t\tchart.mouseDownY = this.mouseDownY = e.chartY;\n\t},\n\n\t/**\n\t * Perform a drag operation in response to a mousemove event while the mouse is down\n\t */\n\tdrag: function (e) {\n\n\t\tvar chart = this.chart,\n\t\t\tchartOptions = chart.options.chart,\n\t\t\tchartX = e.chartX,\n\t\t\tchartY = e.chartY,\n\t\t\tzoomHor = this.zoomHor,\n\t\t\tzoomVert = this.zoomVert,\n\t\t\tplotLeft = chart.plotLeft,\n\t\t\tplotTop = chart.plotTop,\n\t\t\tplotWidth = chart.plotWidth,\n\t\t\tplotHeight = chart.plotHeight,\n\t\t\tclickedInside,\n\t\t\tsize,\n\t\t\tmouseDownX = this.mouseDownX,\n\t\t\tmouseDownY = this.mouseDownY;\n\n\t\t// If the mouse is outside the plot area, adjust to cooordinates\n\t\t// inside to prevent the selection marker from going outside\n\t\tif (chartX < plotLeft) {\n\t\t\tchartX = plotLeft;\n\t\t} else if (chartX > plotLeft + plotWidth) {\n\t\t\tchartX = plotLeft + plotWidth;\n\t\t}\n\n\t\tif (chartY < plotTop) {\n\t\t\tchartY = plotTop;\n\t\t} else if (chartY > plotTop + plotHeight) {\n\t\t\tchartY = plotTop + plotHeight;\n\t\t}\n\t\t\n\t\t// determine if the mouse has moved more than 10px\n\t\tthis.hasDragged = Math.sqrt(\n\t\t\tMath.pow(mouseDownX - chartX, 2) +\n\t\t\tMath.pow(mouseDownY - chartY, 2)\n\t\t);\n\t\tif (this.hasDragged > 10) {\n\t\t\tclickedInside = chart.isInsidePlot(mouseDownX - plotLeft, mouseDownY - plotTop);\n\n\t\t\t// make a selection\n\t\t\tif (chart.hasCartesianSeries && (this.zoomX || this.zoomY) && clickedInside) {\n\t\t\t\tif (!this.selectionMarker) {\n\t\t\t\t\tthis.selectionMarker = chart.renderer.rect(\n\t\t\t\t\t\tplotLeft,\n\t\t\t\t\t\tplotTop,\n\t\t\t\t\t\tzoomHor ? 1 : plotWidth,\n\t\t\t\t\t\tzoomVert ? 1 : plotHeight,\n\t\t\t\t\t\t0\n\t\t\t\t\t)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tfill: chartOptions.selectionMarkerFill || 'rgba(69,114,167,0.25)',\n\t\t\t\t\t\tzIndex: 7\n\t\t\t\t\t})\n\t\t\t\t\t.add();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// adjust the width of the selection marker\n\t\t\tif (this.selectionMarker && zoomHor) {\n\t\t\t\tsize = chartX - mouseDownX;\n\t\t\t\tthis.selectionMarker.attr({\n\t\t\t\t\twidth: mathAbs(size),\n\t\t\t\t\tx: (size > 0 ? 0 : size) + mouseDownX\n\t\t\t\t});\n\t\t\t}\n\t\t\t// adjust the height of the selection marker\n\t\t\tif (this.selectionMarker && zoomVert) {\n\t\t\t\tsize = chartY - mouseDownY;\n\t\t\t\tthis.selectionMarker.attr({\n\t\t\t\t\theight: mathAbs(size),\n\t\t\t\t\ty: (size > 0 ? 0 : size) + mouseDownY\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// panning\n\t\t\tif (clickedInside && !this.selectionMarker && chartOptions.panning) {\n\t\t\t\tchart.pan(e, chartOptions.panning);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * On mouse up or touch end across the entire document, drop the selection.\n\t */\n\tdrop: function (e) {\n\t\tvar chart = this.chart,\n\t\t\thasPinched = this.hasPinched;\n\n\t\tif (this.selectionMarker) {\n\t\t\tvar selectionData = {\n\t\t\t\t\txAxis: [],\n\t\t\t\t\tyAxis: [],\n\t\t\t\t\toriginalEvent: e.originalEvent || e\n\t\t\t\t},\n\t\t\t\tselectionBox = this.selectionMarker,\n\t\t\t\tselectionLeft = selectionBox.x,\n\t\t\t\tselectionTop = selectionBox.y,\n\t\t\t\trunZoom;\n\t\t\t// a selection has been made\n\t\t\tif (this.hasDragged || hasPinched) {\n\n\t\t\t\t// record each axis' min and max\n\t\t\t\teach(chart.axes, function (axis) {\n\t\t\t\t\tif (axis.zoomEnabled) {\n\t\t\t\t\t\tvar horiz = axis.horiz,\n\t\t\t\t\t\t\tselectionMin = axis.toValue((horiz ? selectionLeft : selectionTop)),\n\t\t\t\t\t\t\tselectionMax = axis.toValue((horiz ? selectionLeft + selectionBox.width : selectionTop + selectionBox.height));\n\n\t\t\t\t\t\tif (!isNaN(selectionMin) && !isNaN(selectionMax)) { // #859\n\t\t\t\t\t\t\tselectionData[axis.xOrY + 'Axis'].push({\n\t\t\t\t\t\t\t\taxis: axis,\n\t\t\t\t\t\t\t\tmin: mathMin(selectionMin, selectionMax), // for reversed axes,\n\t\t\t\t\t\t\t\tmax: mathMax(selectionMin, selectionMax)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\trunZoom = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (runZoom) {\n\t\t\t\t\tfireEvent(chart, 'selection', selectionData, function (args) { \n\t\t\t\t\t\tchart.zoom(extend(args, hasPinched ? { animation: false } : null)); \n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis.selectionMarker = this.selectionMarker.destroy();\n\n\t\t\t// Reset scaling preview\n\t\t\tif (hasPinched) {\n\t\t\t\tthis.scaleGroups();\n\t\t\t}\n\t\t}\n\n\t\t// Reset all\n\t\tif (chart) { // it may be destroyed on mouse up - #877\n\t\t\tcss(chart.container, { cursor: chart._cursor });\n\t\t\tchart.cancelClick = this.hasDragged > 10; // #370\n\t\t\tchart.mouseIsDown = this.hasDragged = this.hasPinched = false;\n\t\t\tthis.pinchDown = [];\n\t\t}\n\t},\n\n\tonContainerMouseDown: function (e) {\n\n\t\te = this.normalize(e);\n\n\t\t// issue #295, dragging not always working in Firefox\n\t\tif (e.preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tthis.dragStart(e);\n\t},\n\n\t\n\n\tonDocumentMouseUp: function (e) {\n\t\tthis.drop(e);\n\t},\n\n\t/**\n\t * Special handler for mouse move that will hide the tooltip when the mouse leaves the plotarea.\n\t * Issue #149 workaround. The mouseleave event does not always fire. \n\t */\n\tonDocumentMouseMove: function (e) {\n\t\tvar chart = this.chart,\n\t\t\tchartPosition = this.chartPosition,\n\t\t\thoverSeries = chart.hoverSeries;\n\n\t\te = this.normalize(e, chartPosition);\n\n\t\t// If we're outside, hide the tooltip\n\t\tif (chartPosition && hoverSeries && !this.inClass(e.target, 'highcharts-tracker') &&\n\t\t\t\t!chart.isInsidePlot(e.chartX - chart.plotLeft, e.chartY - chart.plotTop)) {\n\t\t\tthis.reset();\n\t\t}\n\t},\n\n\t/**\n\t * When mouse leaves the container, hide the tooltip.\n\t */\n\tonContainerMouseLeave: function () {\n\t\tthis.reset();\n\t\tthis.chartPosition = null; // also reset the chart position, used in #149 fix\n\t},\n\n\t// The mousemove, touchmove and touchstart event handler\n\tonContainerMouseMove: function (e) {\n\n\t\tvar chart = this.chart;\n\n\t\t// normalize\n\t\te = this.normalize(e);\n\n\t\t// #295\n\t\te.returnValue = false;\n\t\t\n\t\t\n\t\tif (chart.mouseIsDown === 'mousedown') {\n\t\t\tthis.drag(e);\n\t\t} \n\t\t\n\t\t// Show the tooltip and run mouse over events (#977)\n\t\tif ((this.inClass(e.target, 'highcharts-tracker') || \n\t\t\t\tchart.isInsidePlot(e.chartX - chart.plotLeft, e.chartY - chart.plotTop)) && !chart.openMenu) {\n\t\t\tthis.runPointActions(e);\n\t\t}\n\t},\n\n\t/**\n\t * Utility to detect whether an element has, or has a parent with, a specific\n\t * class name. Used on detection of tracker objects and on deciding whether\n\t * hovering the tooltip should cause the active series to mouse out.\n\t */\n\tinClass: function (element, className) {\n\t\tvar elemClassName;\n\t\twhile (element) {\n\t\t\telemClassName = attr(element, 'class');\n\t\t\tif (elemClassName) {\n\t\t\t\tif (elemClassName.indexOf(className) !== -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (elemClassName.indexOf(PREFIX + 'container') !== -1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telement = element.parentNode;\n\t\t}\t\t\n\t},\n\n\tonTrackerMouseOut: function (e) {\n\t\tvar series = this.chart.hoverSeries;\n\t\tif (series && !series.options.stickyTracking && !this.inClass(e.toElement || e.relatedTarget, PREFIX + 'tooltip')) {\n\t\t\tseries.onMouseOut();\n\t\t}\n\t},\n\n\tonContainerClick: function (e) {\n\t\tvar chart = this.chart,\n\t\t\thoverPoint = chart.hoverPoint, \n\t\t\tplotLeft = chart.plotLeft,\n\t\t\tplotTop = chart.plotTop,\n\t\t\tinverted = chart.inverted,\n\t\t\tchartPosition,\n\t\t\tplotX,\n\t\t\tplotY;\n\t\t\n\t\te = this.normalize(e);\n\t\te.cancelBubble = true; // IE specific\n\n\t\tif (!chart.cancelClick) {\n\t\t\t\n\t\t\t// On tracker click, fire the series and point events. #783, #1583\n\t\t\tif (hoverPoint && this.inClass(e.target, PREFIX + 'tracker')) {\n\t\t\t\tchartPosition = this.chartPosition;\n\t\t\t\tplotX = hoverPoint.plotX;\n\t\t\t\tplotY = hoverPoint.plotY;\n\n\t\t\t\t// add page position info\n\t\t\t\textend(hoverPoint, {\n\t\t\t\t\tpageX: chartPosition.left + plotLeft +\n\t\t\t\t\t\t(inverted ? chart.plotWidth - plotY : plotX),\n\t\t\t\t\tpageY: chartPosition.top + plotTop +\n\t\t\t\t\t\t(inverted ? chart.plotHeight - plotX : plotY)\n\t\t\t\t});\n\t\t\t\n\t\t\t\t// the series click event\n\t\t\t\tfireEvent(hoverPoint.series, 'click', extend(e, {\n\t\t\t\t\tpoint: hoverPoint\n\t\t\t\t}));\n\n\t\t\t\t// the point click event\n\t\t\t\tif (chart.hoverPoint) { // it may be destroyed (#1844)\n\t\t\t\t\thoverPoint.firePointEvent('click', e);\n\t\t\t\t}\n\n\t\t\t// When clicking outside a tracker, fire a chart event\n\t\t\t} else {\n\t\t\t\textend(e, this.getCoordinates(e));\n\n\t\t\t\t// fire a click event in the chart\n\t\t\t\tif (chart.isInsidePlot(e.chartX - plotLeft, e.chartY - plotTop)) {\n\t\t\t\t\tfireEvent(chart, 'click', e);\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t}\n\t},\n\n\tonContainerTouchStart: function (e) {\n\t\tvar chart = this.chart;\n\n\t\tif (e.touches.length === 1) {\n\n\t\t\te = this.normalize(e);\n\n\t\t\tif (chart.isInsidePlot(e.chartX - chart.plotLeft, e.chartY - chart.plotTop)) {\n\n\t\t\t\t// Prevent the click pseudo event from firing unless it is set in the options\n\t\t\t\t/*if (!chart.runChartClick) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}*/\n\t\t\t\n\t\t\t\t// Run mouse events and display tooltip etc\n\t\t\t\tthis.runPointActions(e);\n\n\t\t\t\tthis.pinch(e);\n\n\t\t\t} else {\n\t\t\t\t// Hide the tooltip on touching outside the plot area (#1203)\n\t\t\t\tthis.reset();\n\t\t\t}\n\n\t\t} else if (e.touches.length === 2) {\n\t\t\tthis.pinch(e);\n\t\t}\t\t\n\t},\n\n\tonContainerTouchMove: function (e) {\n\t\tif (e.touches.length === 1 || e.touches.length === 2) {\n\t\t\tthis.pinch(e);\n\t\t}\n\t},\n\n\tonDocumentTouchEnd: function (e) {\n\t\tthis.drop(e);\n\t},\n\n\t/**\n\t * Set the JS DOM events on the container and document. This method should contain\n\t * a one-to-one assignment between methods and their handlers. Any advanced logic should\n\t * be moved to the handler reflecting the event's name.\n\t */\n\tsetDOMEvents: function () {\n\n\t\tvar pointer = this,\n\t\t\tcontainer = pointer.chart.container,\n\t\t\tevents;\n\n\t\tthis._events = events = [\n\t\t\t[container, 'onmousedown', 'onContainerMouseDown'],\n\t\t\t[container, 'onmousemove', 'onContainerMouseMove'],\n\t\t\t[container, 'onclick', 'onContainerClick'],\n\t\t\t[container, 'mouseleave', 'onContainerMouseLeave'],\n\t\t\t[doc, 'mousemove', 'onDocumentMouseMove'],\n\t\t\t[doc, 'mouseup', 'onDocumentMouseUp']\n\t\t];\n\n\t\tif (hasTouch) {\n\t\t\tevents.push(\n\t\t\t\t[container, 'ontouchstart', 'onContainerTouchStart'],\n\t\t\t\t[container, 'ontouchmove', 'onContainerTouchMove'],\n\t\t\t\t[doc, 'touchend', 'onDocumentTouchEnd']\n\t\t\t);\n\t\t}\n\n\t\teach(events, function (eventConfig) {\n\n\t\t\t// First, create the callback function that in turn calls the method on Pointer\n\t\t\tpointer['_' + eventConfig[2]] = function (e) {\n\t\t\t\tpointer[eventConfig[2]](e);\n\t\t\t};\n\n\t\t\t// Now attach the function, either as a direct property or through addEvent\n\t\t\tif (eventConfig[1].indexOf('on') === 0) {\n\t\t\t\teventConfig[0][eventConfig[1]] = pointer['_' + eventConfig[2]];\n\t\t\t} else {\n\t\t\t\taddEvent(eventConfig[0], eventConfig[1], pointer['_' + eventConfig[2]]);\n\t\t\t}\n\t\t});\n\n\t\t\n\t},\n\n\t/**\n\t * Destroys the Pointer object and disconnects DOM events.\n\t */\n\tdestroy: function () {\n\t\tvar pointer = this;\n\n\t\t// Release all DOM events\n\t\teach(pointer._events, function (eventConfig) {\t\n\t\t\tif (eventConfig[1].indexOf('on') === 0) {\n\t\t\t\teventConfig[0][eventConfig[1]] = null; // delete breaks oldIE\n\t\t\t} else {\t\t\n\t\t\t\tremoveEvent(eventConfig[0], eventConfig[1], pointer['_' + eventConfig[2]]);\n\t\t\t}\n\t\t});\n\t\tdelete pointer._events;\n\n\t\t// memory and CPU leak\n\t\tclearInterval(pointer.tooltipTimeout);\n\t}\n};\n/**\n * The overview of the chart's series\n */\nfunction Legend(chart, options) {\n\tthis.init(chart, options);\n}\n\nLegend.prototype = {\n\t\n\t/**\n\t * Initialize the legend\n\t */\n\tinit: function (chart, options) {\n\t\t\n\t\tvar legend = this,\n\t\t\titemStyle = options.itemStyle,\n\t\t\tpadding = pick(options.padding, 8),\n\t\t\titemMarginTop = options.itemMarginTop || 0;\n\t\n\t\tthis.options = options;\n\n\t\tif (!options.enabled) {\n\t\t\treturn;\n\t\t}\n\t\n\t\tlegend.baseline = pInt(itemStyle.fontSize) + 3 + itemMarginTop; // used in Series prototype\n\t\tlegend.itemStyle = itemStyle;\n\t\tlegend.itemHiddenStyle = merge(itemStyle, options.itemHiddenStyle);\n\t\tlegend.itemMarginTop = itemMarginTop;\n\t\tlegend.padding = padding;\n\t\tlegend.initialItemX = padding;\n\t\tlegend.initialItemY = padding - 5; // 5 is the number of pixels above the text\n\t\tlegend.maxItemWidth = 0;\n\t\tlegend.chart = chart;\n\t\tlegend.itemHeight = 0;\n\t\tlegend.lastLineHeight = 0;\n\n\t\t// Render it\n\t\tlegend.render();\n\n\t\t// move checkboxes\n\t\taddEvent(legend.chart, 'endResize', function () { \n\t\t\tlegend.positionCheckboxes();\n\t\t});\n\n\t},\n\n\t/**\n\t * Set the colors for the legend item\n\t * @param {Object} item A Series or Point instance\n\t * @param {Object} visible Dimmed or colored\n\t */\n\tcolorizeItem: function (item, visible) {\n\t\tvar legend = this,\n\t\t\toptions = legend.options,\n\t\t\tlegendItem = item.legendItem,\n\t\t\tlegendLine = item.legendLine,\n\t\t\tlegendSymbol = item.legendSymbol,\n\t\t\thiddenColor = legend.itemHiddenStyle.color,\n\t\t\ttextColor = visible ? options.itemStyle.color : hiddenColor,\n\t\t\tsymbolColor = visible ? item.color : hiddenColor,\n\t\t\tmarkerOptions = item.options && item.options.marker,\n\t\t\tsymbolAttr = {\n\t\t\t\tstroke: symbolColor,\n\t\t\t\tfill: symbolColor\n\t\t\t},\n\t\t\tkey,\n\t\t\tval;\n\t\t\n\t\tif (legendItem) {\n\t\t\tlegendItem.css({ fill: textColor, color: textColor }); // color for #1553, oldIE\n\t\t}\n\t\tif (legendLine) {\n\t\t\tlegendLine.attr({ stroke: symbolColor });\n\t\t}\n\t\t\n\t\tif (legendSymbol) {\n\t\t\t\n\t\t\t// Apply marker options\n\t\t\tif (markerOptions && legendSymbol.isMarker) { // #585\n\t\t\t\tmarkerOptions = item.convertAttribs(markerOptions);\n\t\t\t\tfor (key in markerOptions) {\n\t\t\t\t\tval = markerOptions[key];\n\t\t\t\t\tif (val !== UNDEFINED) {\n\t\t\t\t\t\tsymbolAttr[key] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlegendSymbol.attr(symbolAttr);\n\t\t}\n\t},\n\n\t/**\n\t * Position the legend item\n\t * @param {Object} item A Series or Point instance\n\t */\n\tpositionItem: function (item) {\n\t\tvar legend = this,\n\t\t\toptions = legend.options,\n\t\t\tsymbolPadding = options.symbolPadding,\n\t\t\tltr = !options.rtl,\n\t\t\tlegendItemPos = item._legendItemPos,\n\t\t\titemX = legendItemPos[0],\n\t\t\titemY = legendItemPos[1],\n\t\t\tcheckbox = item.checkbox;\n\n\t\tif (item.legendGroup) {\n\t\t\titem.legendGroup.translate(\n\t\t\t\tltr ? itemX : legend.legendWidth - itemX - 2 * symbolPadding - 4,\n\t\t\t\titemY\n\t\t\t);\n\t\t}\n\n\t\tif (checkbox) {\n\t\t\tcheckbox.x = itemX;\n\t\t\tcheckbox.y = itemY;\n\t\t}\n\t},\n\n\t/**\n\t * Destroy a single legend item\n\t * @param {Object} item The series or point\n\t */\n\tdestroyItem: function (item) {\n\t\tvar checkbox = item.checkbox;\n\n\t\t// destroy SVG elements\n\t\teach(['legendItem', 'legendLine', 'legendSymbol', 'legendGroup'], function (key) {\n\t\t\tif (item[key]) {\n\t\t\t\titem[key] = item[key].destroy();\n\t\t\t}\n\t\t});\n\n\t\tif (checkbox) {\n\t\t\tdiscardElement(item.checkbox);\n\t\t}\n\t},\n\n\t/**\n\t * Destroys the legend.\n\t */\n\tdestroy: function () {\n\t\tvar legend = this,\n\t\t\tlegendGroup = legend.group,\n\t\t\tbox = legend.box;\n\n\t\tif (box) {\n\t\t\tlegend.box = box.destroy();\n\t\t}\n\n\t\tif (legendGroup) {\n\t\t\tlegend.group = legendGroup.destroy();\n\t\t}\n\t},\n\n\t/**\n\t * Position the checkboxes after the width is determined\n\t */\n\tpositionCheckboxes: function (scrollOffset) {\n\t\tvar alignAttr = this.group.alignAttr,\n\t\t\ttranslateY,\n\t\t\tclipHeight = this.clipHeight || this.legendHeight;\n\n\t\tif (alignAttr) {\n\t\t\ttranslateY = alignAttr.translateY;\n\t\t\teach(this.allItems, function (item) {\n\t\t\t\tvar checkbox = item.checkbox,\n\t\t\t\t\ttop;\n\t\t\t\t\n\t\t\t\tif (checkbox) {\n\t\t\t\t\ttop = (translateY + checkbox.y + (scrollOffset || 0) + 3);\n\t\t\t\t\tcss(checkbox, {\n\t\t\t\t\t\tleft: (alignAttr.translateX + item.legendItemWidth + checkbox.x - 20) + PX,\n\t\t\t\t\t\ttop: top + PX,\n\t\t\t\t\t\tdisplay: top > translateY - 6 && top < translateY + clipHeight - 6 ? '' : NONE\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t\n\t/**\n\t * Render the legend title on top of the legend\n\t */\n\trenderTitle: function () {\n\t\tvar options = this.options,\n\t\t\tpadding = this.padding,\n\t\t\ttitleOptions = options.title,\n\t\t\ttitleHeight = 0,\n\t\t\tbBox;\n\t\t\n\t\tif (titleOptions.text) {\n\t\t\tif (!this.title) {\n\t\t\t\tthis.title = this.chart.renderer.label(titleOptions.text, padding - 3, padding - 4, null, null, null, null, null, 'legend-title')\n\t\t\t\t\t.attr({ zIndex: 1 })\n\t\t\t\t\t.css(titleOptions.style)\n\t\t\t\t\t.add(this.group);\n\t\t\t}\n\t\t\tbBox = this.title.getBBox();\n\t\t\ttitleHeight = bBox.height;\n\t\t\tthis.offsetWidth = bBox.width; // #1717\n\t\t\tthis.contentGroup.attr({ translateY: titleHeight });\n\t\t}\n\t\tthis.titleHeight = titleHeight;\n\t},\n\n\t/**\n\t * Render a single specific legend item\n\t * @param {Object} item A series or point\n\t */\n\trenderItem: function (item) {\n\t\tvar legend = this,\n\t\t\tchart = legend.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\toptions = legend.options,\n\t\t\thorizontal = options.layout === 'horizontal',\n\t\t\tsymbolWidth = options.symbolWidth,\n\t\t\tsymbolPadding = options.symbolPadding,\n\t\t\titemStyle = legend.itemStyle,\n\t\t\titemHiddenStyle = legend.itemHiddenStyle,\n\t\t\tpadding = legend.padding,\n\t\t\titemDistance = horizontal ? pick(options.itemDistance, 8) : 0,\n\t\t\tltr = !options.rtl,\n\t\t\titemHeight,\n\t\t\twidthOption = options.width,\n\t\t\titemMarginBottom = options.itemMarginBottom || 0,\n\t\t\titemMarginTop = legend.itemMarginTop,\n\t\t\tinitialItemX = legend.initialItemX,\n\t\t\tbBox,\n\t\t\titemWidth,\n\t\t\tli = item.legendItem,\n\t\t\tseries = item.series || item,\n\t\t\titemOptions = series.options,\n\t\t\tshowCheckbox = itemOptions.showCheckbox,\n\t\t\tuseHTML = options.useHTML;\n\n\t\tif (!li) { // generate it once, later move it\n\n\t\t\t// Generate the group box\n\t\t\t// A group to hold the symbol and text. Text is to be appended in Legend class.\n\t\t\titem.legendGroup = renderer.g('legend-item')\n\t\t\t\t.attr({ zIndex: 1 })\n\t\t\t\t.add(legend.scrollGroup);\n\n\t\t\t// Draw the legend symbol inside the group box\n\t\t\tseries.drawLegendSymbol(legend, item);\n\n\t\t\t// Generate the list item text and add it to the group\n\t\t\titem.legendItem = li = renderer.text(\n\t\t\t\t\toptions.labelFormat ? format(options.labelFormat, item) : options.labelFormatter.call(item),\n\t\t\t\t\tltr ? symbolWidth + symbolPadding : -symbolPadding,\n\t\t\t\t\tlegend.baseline,\n\t\t\t\t\tuseHTML\n\t\t\t\t)\n\t\t\t\t.css(merge(item.visible ? itemStyle : itemHiddenStyle)) // merge to prevent modifying original (#1021)\n\t\t\t\t.attr({\n\t\t\t\t\talign: ltr ? 'left' : 'right',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t})\n\t\t\t\t.add(item.legendGroup);\n\n\t\t\t// Set the events on the item group, or in case of useHTML, the item itself (#1249)\n\t\t\t(useHTML ? li : item.legendGroup).on('mouseover', function () {\n\t\t\t\t\titem.setState(HOVER_STATE);\n\t\t\t\t\tli.css(legend.options.itemHoverStyle);\n\t\t\t\t})\n\t\t\t\t.on('mouseout', function () {\n\t\t\t\t\tli.css(item.visible ? itemStyle : itemHiddenStyle);\n\t\t\t\t\titem.setState();\n\t\t\t\t})\n\t\t\t\t.on('click', function (event) {\n\t\t\t\t\tvar strLegendItemClick = 'legendItemClick',\n\t\t\t\t\t\tfnLegendItemClick = function () {\n\t\t\t\t\t\t\titem.setVisible();\n\t\t\t\t\t\t};\n\t\t\t\t\t\t\n\t\t\t\t\t// Pass over the click/touch event. #4.\n\t\t\t\t\tevent = {\n\t\t\t\t\t\tbrowserEvent: event\n\t\t\t\t\t};\n\n\t\t\t\t\t// click the name or symbol\n\t\t\t\t\tif (item.firePointEvent) { // point\n\t\t\t\t\t\titem.firePointEvent(strLegendItemClick, event, fnLegendItemClick);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfireEvent(item, strLegendItemClick, event, fnLegendItemClick);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t// Colorize the items\n\t\t\tlegend.colorizeItem(item, item.visible);\n\n\t\t\t// add the HTML checkbox on top\n\t\t\tif (itemOptions && showCheckbox) {\n\t\t\t\titem.checkbox = createElement('input', {\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tchecked: item.selected,\n\t\t\t\t\tdefaultChecked: item.selected // required by IE7\n\t\t\t\t}, options.itemCheckboxStyle, chart.container);\n\n\t\t\t\taddEvent(item.checkbox, 'click', function (event) {\n\t\t\t\t\tvar target = event.target;\n\t\t\t\t\tfireEvent(item, 'checkboxClick', {\n\t\t\t\t\t\t\tchecked: target.checked\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction () {\n\t\t\t\t\t\t\titem.select();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// calculate the positions for the next line\n\t\tbBox = li.getBBox();\n\n\t\titemWidth = item.legendItemWidth =\n\t\t\toptions.itemWidth || symbolWidth + symbolPadding + bBox.width + itemDistance +\n\t\t\t(showCheckbox ? 20 : 0);\n\t\tlegend.itemHeight = itemHeight = bBox.height;\n\n\t\t// if the item exceeds the width, start a new line\n\t\tif (horizontal && legend.itemX - initialItemX + itemWidth >\n\t\t\t\t(widthOption || (chart.chartWidth - 2 * padding - initialItemX))) {\n\t\t\tlegend.itemX = initialItemX;\n\t\t\tlegend.itemY += itemMarginTop + legend.lastLineHeight + itemMarginBottom;\n\t\t\tlegend.lastLineHeight = 0; // reset for next line\n\t\t}\n\n\t\t// If the item exceeds the height, start a new column\n\t\t/*if (!horizontal && legend.itemY + options.y + itemHeight > chart.chartHeight - spacingTop - spacingBottom) {\n\t\t\tlegend.itemY = legend.initialItemY;\n\t\t\tlegend.itemX += legend.maxItemWidth;\n\t\t\tlegend.maxItemWidth = 0;\n\t\t}*/\n\n\t\t// Set the edge positions\n\t\tlegend.maxItemWidth = mathMax(legend.maxItemWidth, itemWidth);\n\t\tlegend.lastItemY = itemMarginTop + legend.itemY + itemMarginBottom;\n\t\tlegend.lastLineHeight = mathMax(itemHeight, legend.lastLineHeight); // #915\n\n\t\t// cache the position of the newly generated or reordered items\n\t\titem._legendItemPos = [legend.itemX, legend.itemY];\n\n\t\t// advance\n\t\tif (horizontal) {\n\t\t\tlegend.itemX += itemWidth;\n\n\t\t} else {\n\t\t\tlegend.itemY += itemMarginTop + itemHeight + itemMarginBottom;\n\t\t\tlegend.lastLineHeight = itemHeight;\n\t\t}\n\n\t\t// the width of the widest item\n\t\tlegend.offsetWidth = widthOption || mathMax(\n\t\t\t(horizontal ? legend.itemX - initialItemX - itemDistance : itemWidth) + padding,\n\t\t\tlegend.offsetWidth\n\t\t);\n\t},\n\n\t/**\n\t * Render the legend. This method can be called both before and after\n\t * chart.render. If called after, it will only rearrange items instead\n\t * of creating new ones.\n\t */\n\trender: function () {\n\t\tvar legend = this,\n\t\t\tchart = legend.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\tlegendGroup = legend.group,\n\t\t\tallItems,\n\t\t\tdisplay,\n\t\t\tlegendWidth,\n\t\t\tlegendHeight,\n\t\t\tbox = legend.box,\n\t\t\toptions = legend.options,\n\t\t\tpadding = legend.padding,\n\t\t\tlegendBorderWidth = options.borderWidth,\n\t\t\tlegendBackgroundColor = options.backgroundColor;\n\n\t\tlegend.itemX = legend.initialItemX;\n\t\tlegend.itemY = legend.initialItemY;\n\t\tlegend.offsetWidth = 0;\n\t\tlegend.lastItemY = 0;\n\n\t\tif (!legendGroup) {\n\t\t\tlegend.group = legendGroup = renderer.g('legend')\n\t\t\t\t.attr({ zIndex: 7 }) \n\t\t\t\t.add();\n\t\t\tlegend.contentGroup = renderer.g()\n\t\t\t\t.attr({ zIndex: 1 }) // above background\n\t\t\t\t.add(legendGroup);\n\t\t\tlegend.scrollGroup = renderer.g()\n\t\t\t\t.add(legend.contentGroup);\n\t\t}\n\t\t\n\t\tlegend.renderTitle();\n\n\t\t// add each series or point\n\t\tallItems = [];\n\t\teach(chart.series, function (serie) {\n\t\t\tvar seriesOptions = serie.options;\n\n\t\t\tif (!seriesOptions.showInLegend || defined(seriesOptions.linkedTo)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// use points or series for the legend item depending on legendType\n\t\t\tallItems = allItems.concat(\n\t\t\t\t\tserie.legendItems ||\n\t\t\t\t\t(seriesOptions.legendType === 'point' ?\n\t\t\t\t\t\t\tserie.data :\n\t\t\t\t\t\t\tserie)\n\t\t\t);\n\t\t});\n\n\t\t// sort by legendIndex\n\t\tstableSort(allItems, function (a, b) {\n\t\t\treturn ((a.options && a.options.legendIndex) || 0) - ((b.options && b.options.legendIndex) || 0);\n\t\t});\n\n\t\t// reversed legend\n\t\tif (options.reversed) {\n\t\t\tallItems.reverse();\n\t\t}\n\n\t\tlegend.allItems = allItems;\n\t\tlegend.display = display = !!allItems.length;\n\n\t\t// render the items\n\t\teach(allItems, function (item) {\n\t\t\tlegend.renderItem(item); \n\t\t});\n\n\t\t// Draw the border\n\t\tlegendWidth = options.width || legend.offsetWidth;\n\t\tlegendHeight = legend.lastItemY + legend.lastLineHeight + legend.titleHeight;\n\t\t\n\t\t\n\t\tlegendHeight = legend.handleOverflow(legendHeight);\n\n\t\tif (legendBorderWidth || legendBackgroundColor) {\n\t\t\tlegendWidth += padding;\n\t\t\tlegendHeight += padding;\n\n\t\t\tif (!box) {\n\t\t\t\tlegend.box = box = renderer.rect(\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\tlegendWidth,\n\t\t\t\t\tlegendHeight,\n\t\t\t\t\toptions.borderRadius,\n\t\t\t\t\tlegendBorderWidth || 0\n\t\t\t\t).attr({\n\t\t\t\t\tstroke: options.borderColor,\n\t\t\t\t\t'stroke-width': legendBorderWidth || 0,\n\t\t\t\t\tfill: legendBackgroundColor || NONE\n\t\t\t\t})\n\t\t\t\t.add(legendGroup)\n\t\t\t\t.shadow(options.shadow);\n\t\t\t\tbox.isNew = true;\n\n\t\t\t} else if (legendWidth > 0 && legendHeight > 0) {\n\t\t\t\tbox[box.isNew ? 'attr' : 'animate'](\n\t\t\t\t\tbox.crisp(null, null, null, legendWidth, legendHeight)\n\t\t\t\t);\n\t\t\t\tbox.isNew = false;\n\t\t\t}\n\n\t\t\t// hide the border if no items\n\t\t\tbox[display ? 'show' : 'hide']();\n\t\t}\n\t\t\n\t\tlegend.legendWidth = legendWidth;\n\t\tlegend.legendHeight = legendHeight;\n\n\t\t// Now that the legend width and height are established, put the items in the \n\t\t// final position\n\t\teach(allItems, function (item) {\n\t\t\tlegend.positionItem(item);\n\t\t});\n\n\t\t// 1.x compatibility: positioning based on style\n\t\t/*var props = ['left', 'right', 'top', 'bottom'],\n\t\t\tprop,\n\t\t\ti = 4;\n\t\twhile (i--) {\n\t\t\tprop = props[i];\n\t\t\tif (options.style[prop] && options.style[prop] !== 'auto') {\n\t\t\t\toptions[i < 2 ? 'align' : 'verticalAlign'] = prop;\n\t\t\t\toptions[i < 2 ? 'x' : 'y'] = pInt(options.style[prop]) * (i % 2 ? -1 : 1);\n\t\t\t}\n\t\t}*/\n\n\t\tif (display) {\n\t\t\tlegendGroup.align(extend({\n\t\t\t\twidth: legendWidth,\n\t\t\t\theight: legendHeight\n\t\t\t}, options), true, 'spacingBox');\n\t\t}\n\n\t\tif (!chart.isResizing) {\n\t\t\tthis.positionCheckboxes();\n\t\t}\n\t},\n\t\n\t/**\n\t * Set up the overflow handling by adding navigation with up and down arrows below the\n\t * legend.\n\t */\n\thandleOverflow: function (legendHeight) {\n\t\tvar legend = this,\n\t\t\tchart = this.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\tpageCount,\n\t\t\toptions = this.options,\n\t\t\toptionsY = options.y,\n\t\t\talignTop = options.verticalAlign === 'top',\n\t\t\tspaceHeight = chart.spacingBox.height + (alignTop ? -optionsY : optionsY) - this.padding,\n\t\t\tmaxHeight = options.maxHeight,\n\t\t\tclipHeight,\n\t\t\tclipRect = this.clipRect,\n\t\t\tnavOptions = options.navigation,\n\t\t\tanimation = pick(navOptions.animation, true),\n\t\t\tarrowSize = navOptions.arrowSize || 12,\n\t\t\tnav = this.nav;\n\t\t\t\n\t\t// Adjust the height\n\t\tif (options.layout === 'horizontal') {\n\t\t\tspaceHeight /= 2;\n\t\t}\n\t\tif (maxHeight) {\n\t\t\tspaceHeight = mathMin(spaceHeight, maxHeight);\n\t\t}\n\t\t\n\t\t// Reset the legend height and adjust the clipping rectangle\n\t\tif (legendHeight > spaceHeight && !options.useHTML) {\n\n\t\t\tthis.clipHeight = clipHeight = spaceHeight - 20 - this.titleHeight;\n\t\t\tthis.pageCount = pageCount = mathCeil(legendHeight / clipHeight);\n\t\t\tthis.currentPage = pick(this.currentPage, 1);\n\t\t\tthis.fullHeight = legendHeight;\n\t\t\t\n\t\t\t// Only apply clipping if needed. Clipping causes blurred legend in PDF export (#1787)\n\t\t\tif (!clipRect) {\n\t\t\t\tclipRect = legend.clipRect = renderer.clipRect(0, 0, 9999, 0);\n\t\t\t\tlegend.contentGroup.clip(clipRect);\n\t\t\t}\n\t\t\tclipRect.attr({\n\t\t\t\theight: clipHeight\n\t\t\t});\n\t\t\t\n\t\t\t// Add navigation elements\n\t\t\tif (!nav) {\n\t\t\t\tthis.nav = nav = renderer.g().attr({ zIndex: 1 }).add(this.group);\n\t\t\t\tthis.up = renderer.symbol('triangle', 0, 0, arrowSize, arrowSize)\n\t\t\t\t\t.on('click', function () {\n\t\t\t\t\t\tlegend.scroll(-1, animation);\n\t\t\t\t\t})\n\t\t\t\t\t.add(nav);\n\t\t\t\tthis.pager = renderer.text('', 15, 10)\n\t\t\t\t\t.css(navOptions.style)\n\t\t\t\t\t.add(nav);\n\t\t\t\tthis.down = renderer.symbol('triangle-down', 0, 0, arrowSize, arrowSize)\n\t\t\t\t\t.on('click', function () {\n\t\t\t\t\t\tlegend.scroll(1, animation);\n\t\t\t\t\t})\n\t\t\t\t\t.add(nav);\n\t\t\t}\n\t\t\t\n\t\t\t// Set initial position\n\t\t\tlegend.scroll(0);\n\t\t\t\n\t\t\tlegendHeight = spaceHeight;\n\t\t\t\n\t\t} else if (nav) {\n\t\t\tclipRect.attr({\n\t\t\t\theight: chart.chartHeight\n\t\t\t});\n\t\t\tnav.hide();\n\t\t\tthis.scrollGroup.attr({\n\t\t\t\ttranslateY: 1\n\t\t\t});\n\t\t\tthis.clipHeight = 0; // #1379\n\t\t}\n\t\t\n\t\treturn legendHeight;\n\t},\n\t\n\t/**\n\t * Scroll the legend by a number of pages\n\t * @param {Object} scrollBy\n\t * @param {Object} animation\n\t */\n\tscroll: function (scrollBy, animation) {\n\t\tvar pageCount = this.pageCount,\n\t\t\tcurrentPage = this.currentPage + scrollBy,\n\t\t\tclipHeight = this.clipHeight,\n\t\t\tnavOptions = this.options.navigation,\n\t\t\tactiveColor = navOptions.activeColor,\n\t\t\tinactiveColor = navOptions.inactiveColor,\n\t\t\tpager = this.pager,\n\t\t\tpadding = this.padding,\n\t\t\tscrollOffset;\n\t\t\n\t\t// When resizing while looking at the last page\n\t\tif (currentPage > pageCount) {\n\t\t\tcurrentPage = pageCount;\n\t\t}\n\t\t\n\t\tif (currentPage > 0) {\n\t\t\t\n\t\t\tif (animation !== UNDEFINED) {\n\t\t\t\tsetAnimation(animation, this.chart);\n\t\t\t}\n\t\t\t\n\t\t\tthis.nav.attr({\n\t\t\t\ttranslateX: padding,\n\t\t\t\ttranslateY: clipHeight + 7 + this.titleHeight,\n\t\t\t\tvisibility: VISIBLE\n\t\t\t});\n\t\t\tthis.up.attr({\n\t\t\t\t\tfill: currentPage === 1 ? inactiveColor : activeColor\n\t\t\t\t})\n\t\t\t\t.css({\n\t\t\t\t\tcursor: currentPage === 1 ? 'default' : 'pointer'\n\t\t\t\t});\n\t\t\tpager.attr({\n\t\t\t\ttext: currentPage + '/' + this.pageCount\n\t\t\t});\n\t\t\tthis.down.attr({\n\t\t\t\t\tx: 18 + this.pager.getBBox().width, // adjust to text width\n\t\t\t\t\tfill: currentPage === pageCount ? inactiveColor : activeColor\n\t\t\t\t})\n\t\t\t\t.css({\n\t\t\t\t\tcursor: currentPage === pageCount ? 'default' : 'pointer'\n\t\t\t\t});\n\t\t\t\n\t\t\tscrollOffset = -mathMin(clipHeight * (currentPage - 1), this.fullHeight - clipHeight + padding) + 1;\n\t\t\tthis.scrollGroup.animate({\n\t\t\t\ttranslateY: scrollOffset\n\t\t\t});\n\t\t\tpager.attr({\n\t\t\t\ttext: currentPage + '/' + pageCount\n\t\t\t});\n\t\t\t\n\t\t\t\n\t\t\tthis.currentPage = currentPage;\n\t\t\tthis.positionCheckboxes(scrollOffset);\n\t\t}\n\t\t\t\n\t}\n\t\n};\n\n// Workaround for #2030, horizontal legend items not displaying in IE11 Preview.\n// TODO: When IE11 is released, check again for this bug, and remove the fix\n// or make a better one.\nif (/Trident.*?11\\.0/.test(userAgent)) {\n\twrap(Legend.prototype, 'positionItem', function (proceed, item) {\n\t\tvar legend = this;\n\t\tsetTimeout(function () {\n\t\t\tproceed.call(legend, item);\n\t\t});\n\t});\n}\n\n/**\n * The chart class\n * @param {Object} options\n * @param {Function} callback Function to run when the chart has loaded\n */\nfunction Chart() {\n\tthis.init.apply(this, arguments);\n}\n\nChart.prototype = {\n\n\t/**\n\t * Initialize the chart\n\t */\n\tinit: function (userOptions, callback) {\n\n\t\t// Handle regular options\n\t\tvar options,\n\t\t\tseriesOptions = userOptions.series; // skip merging data points to increase performance\n\n\t\tuserOptions.series = null;\n\t\toptions = merge(defaultOptions, userOptions); // do the merge\n\t\toptions.series = userOptions.series = seriesOptions; // set back the series data\n\n\t\tvar optionsChart = options.chart;\n\t\t\n\t\t// Create margin & spacing array\n\t\tthis.margin = this.splashArray('margin', optionsChart);\n\t\tthis.spacing = this.splashArray('spacing', optionsChart);\n\n\t\tvar chartEvents = optionsChart.events;\n\n\t\t//this.runChartClick = chartEvents && !!chartEvents.click;\n\t\tthis.bounds = { h: {}, v: {} }; // Pixel data bounds for touch zoom\n\n\t\tthis.callback = callback;\n\t\tthis.isResizing = 0;\n\t\tthis.options = options;\n\t\t//chartTitleOptions = UNDEFINED;\n\t\t//chartSubtitleOptions = UNDEFINED;\n\n\t\tthis.axes = [];\n\t\tthis.series = [];\n\t\tthis.hasCartesianSeries = optionsChart.showAxes;\n\t\t//this.axisOffset = UNDEFINED;\n\t\t//this.maxTicks = UNDEFINED; // handle the greatest amount of ticks on grouped axes\n\t\t//this.inverted = UNDEFINED;\n\t\t//this.loadingShown = UNDEFINED;\n\t\t//this.container = UNDEFINED;\n\t\t//this.chartWidth = UNDEFINED;\n\t\t//this.chartHeight = UNDEFINED;\n\t\t//this.marginRight = UNDEFINED;\n\t\t//this.marginBottom = UNDEFINED;\n\t\t//this.containerWidth = UNDEFINED;\n\t\t//this.containerHeight = UNDEFINED;\n\t\t//this.oldChartWidth = UNDEFINED;\n\t\t//this.oldChartHeight = UNDEFINED;\n\n\t\t//this.renderTo = UNDEFINED;\n\t\t//this.renderToClone = UNDEFINED;\n\n\t\t//this.spacingBox = UNDEFINED\n\n\t\t//this.legend = UNDEFINED;\n\n\t\t// Elements\n\t\t//this.chartBackground = UNDEFINED;\n\t\t//this.plotBackground = UNDEFINED;\n\t\t//this.plotBGImage = UNDEFINED;\n\t\t//this.plotBorder = UNDEFINED;\n\t\t//this.loadingDiv = UNDEFINED;\n\t\t//this.loadingSpan = UNDEFINED;\n\n\t\tvar chart = this,\n\t\t\teventType;\n\n\t\t// Add the chart to the global lookup\n\t\tchart.index = charts.length;\n\t\tcharts.push(chart);\n\n\t\t// Set up auto resize\n\t\tif (optionsChart.reflow !== false) {\n\t\t\taddEvent(chart, 'load', function () {\n\t\t\t\tchart.initReflow();\n\t\t\t});\n\t\t}\n\n\t\t// Chart event handlers\n\t\tif (chartEvents) {\n\t\t\tfor (eventType in chartEvents) {\n\t\t\t\taddEvent(chart, eventType, chartEvents[eventType]);\n\t\t\t}\n\t\t}\n\n\t\tchart.xAxis = [];\n\t\tchart.yAxis = [];\n\n\t\t// Expose methods and variables\n\t\tchart.animation = useCanVG ? false : pick(optionsChart.animation, true);\n\t\tchart.pointCount = 0;\n\t\tchart.counters = new ChartCounters();\n\n\t\tchart.firstRender();\n\t},\n\n\t/**\n\t * Initialize an individual series, called internally before render time\n\t */\n\tinitSeries: function (options) {\n\t\tvar chart = this,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\ttype = options.type || optionsChart.type || optionsChart.defaultSeriesType,\n\t\t\tseries,\n\t\t\tconstr = seriesTypes[type];\n\n\t\t// No such series type\n\t\tif (!constr) {\n\t\t\terror(17, true);\n\t\t}\n\n\t\tseries = new constr();\n\t\tseries.init(this, options);\n\t\treturn series;\n\t},\n\n\t/**\n\t * Add a series dynamically after  time\n\t *\n\t * @param {Object} options The config options\n\t * @param {Boolean} redraw Whether to redraw the chart after adding. Defaults to true.\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t *\n\t * @return {Object} series The newly created series object\n\t */\n\taddSeries: function (options, redraw, animation) {\n\t\tvar series,\n\t\t\tchart = this;\n\n\t\tif (options) {\n\t\t\tredraw = pick(redraw, true); // defaults to true\n\n\t\t\tfireEvent(chart, 'addSeries', { options: options }, function () {\n\t\t\t\tseries = chart.initSeries(options);\n\t\t\t\t\n\t\t\t\tchart.isDirtyLegend = true; // the series array is out of sync with the display\n\t\t\t\tchart.linkSeries();\n\t\t\t\tif (redraw) {\n\t\t\t\t\tchart.redraw(animation);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn series;\n\t},\n\n\t/**\n     * Add an axis to the chart\n     * @param {Object} options The axis option\n     * @param {Boolean} isX Whether it is an X axis or a value axis\n     */\n\taddAxis: function (options, isX, redraw, animation) {\n\t\tvar key = isX ? 'xAxis' : 'yAxis',\n\t\t\tchartOptions = this.options,\n\t\t\taxis;\n\n\t\t/*jslint unused: false*/\n\t\taxis = new Axis(this, merge(options, {\n\t\t\tindex: this[key].length,\n\t\t\tisX: isX\n\t\t}));\n\t\t/*jslint unused: true*/\n\n\t\t// Push the new axis options to the chart options\n\t\tchartOptions[key] = splat(chartOptions[key] || {});\n\t\tchartOptions[key].push(options);\n\n\t\tif (pick(redraw, true)) {\n\t\t\tthis.redraw(animation);\n\t\t}\n\t},\n\n\t/**\n\t * Check whether a given point is within the plot area\n\t *\n\t * @param {Number} plotX Pixel x relative to the plot area\n\t * @param {Number} plotY Pixel y relative to the plot area\n\t * @param {Boolean} inverted Whether the chart is inverted\n\t */\n\tisInsidePlot: function (plotX, plotY, inverted) {\n\t\tvar x = inverted ? plotY : plotX,\n\t\t\ty = inverted ? plotX : plotY;\n\t\t\t\n\t\treturn x >= 0 &&\n\t\t\tx <= this.plotWidth &&\n\t\t\ty >= 0 &&\n\t\t\ty <= this.plotHeight;\n\t},\n\n\t/**\n\t * Adjust all axes tick amounts\n\t */\n\tadjustTickAmounts: function () {\n\t\tif (this.options.chart.alignTicks !== false) {\n\t\t\teach(this.axes, function (axis) {\n\t\t\t\taxis.adjustTickAmount();\n\t\t\t});\n\t\t}\n\t\tthis.maxTicks = null;\n\t},\n\n\t/**\n\t * Redraw legend, axes or series based on updated data\n\t *\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t */\n\tredraw: function (animation) {\n\t\tvar chart = this,\n\t\t\taxes = chart.axes,\n\t\t\tseries = chart.series,\n\t\t\tpointer = chart.pointer,\n\t\t\tlegend = chart.legend,\n\t\t\tredrawLegend = chart.isDirtyLegend,\n\t\t\thasStackedSeries,\n\t\t\thasDirtyStacks,\n\t\t\tisDirtyBox = chart.isDirtyBox, // todo: check if it has actually changed?\n\t\t\tseriesLength = series.length,\n\t\t\ti = seriesLength,\n\t\t\tserie,\n\t\t\trenderer = chart.renderer,\n\t\t\tisHiddenChart = renderer.isHidden(),\n\t\t\tafterRedraw = [];\n\t\t\t\n\t\tsetAnimation(animation, chart);\n\t\t\n\t\tif (isHiddenChart) {\n\t\t\tchart.cloneRenderTo();\n\t\t}\n\n\t\t// Adjust title layout (reflow multiline text)\n\t\tchart.layOutTitles();\n\n\t\t// link stacked series\n\t\twhile (i--) {\n\t\t\tserie = series[i];\n\n\t\t\tif (serie.options.stacking) {\n\t\t\t\thasStackedSeries = true;\n\t\t\t\t\n\t\t\t\tif (serie.isDirty) {\n\t\t\t\t\thasDirtyStacks = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (hasDirtyStacks) { // mark others as dirty\n\t\t\ti = seriesLength;\n\t\t\twhile (i--) {\n\t\t\t\tserie = series[i];\n\t\t\t\tif (serie.options.stacking) {\n\t\t\t\t\tserie.isDirty = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// handle updated data in the series\n\t\teach(series, function (serie) {\n\t\t\tif (serie.isDirty) { // prepare the data so axis can read it\n\t\t\t\tif (serie.options.legendType === 'point') {\n\t\t\t\t\tredrawLegend = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// handle added or removed series\n\t\tif (redrawLegend && legend.options.enabled) { // series or pie points are added or removed\n\t\t\t// draw legend graphics\n\t\t\tlegend.render();\n\n\t\t\tchart.isDirtyLegend = false;\n\t\t}\n\n\t\t// reset stacks\n\t\tif (hasStackedSeries) {\n\t\t\tchart.getStacks();\n\t\t}\n\n\n\t\tif (chart.hasCartesianSeries) {\n\t\t\tif (!chart.isResizing) {\n\n\t\t\t\t// reset maxTicks\n\t\t\t\tchart.maxTicks = null;\n\n\t\t\t\t// set axes scales\n\t\t\t\teach(axes, function (axis) {\n\t\t\t\t\taxis.setScale();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tchart.adjustTickAmounts();\n\t\t\tchart.getMargins();\n\n\t\t\t// If one axis is dirty, all axes must be redrawn (#792, #2169)\n\t\t\teach(axes, function (axis) {\n\t\t\t\tif (axis.isDirty) {\n\t\t\t\t\tisDirtyBox = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// redraw axes\n\t\t\teach(axes, function (axis) {\n\t\t\t\t\n\t\t\t\t// Fire 'afterSetExtremes' only if extremes are set\n\t\t\t\tif (axis.isDirtyExtremes) { // #821\n\t\t\t\t\taxis.isDirtyExtremes = false;\n\t\t\t\t\tafterRedraw.push(function () { // prevent a recursive call to chart.redraw() (#1119)\n\t\t\t\t\t\tfireEvent(axis, 'afterSetExtremes', extend(axis.eventArgs, axis.getExtremes())); // #747, #751\n\t\t\t\t\t\tdelete axis.eventArgs;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (isDirtyBox || hasStackedSeries) {\n\t\t\t\t\taxis.redraw();\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t}\n\t\t// the plot areas size has changed\n\t\tif (isDirtyBox) {\n\t\t\tchart.drawChartBox();\n\t\t}\n\n\n\t\t// redraw affected series\n\t\teach(series, function (serie) {\n\t\t\tif (serie.isDirty && serie.visible &&\n\t\t\t\t\t(!serie.isCartesian || serie.xAxis)) { // issue #153\n\t\t\t\tserie.redraw();\n\t\t\t}\n\t\t});\n\n\t\t// move tooltip or reset\n\t\tif (pointer && pointer.reset) {\n\t\t\tpointer.reset(true);\n\t\t}\n\n\t\t// redraw if canvas\n\t\trenderer.draw();\n\n\t\t// fire the event\n\t\tfireEvent(chart, 'redraw'); // jQuery breaks this when calling it from addEvent. Overwrites chart.redraw\n\t\t\n\t\tif (isHiddenChart) {\n\t\t\tchart.cloneRenderTo(true);\n\t\t}\n\t\t\n\t\t// Fire callbacks that are put on hold until after the redraw\n\t\teach(afterRedraw, function (callback) {\n\t\t\tcallback.call();\n\t\t});\n\t},\n\n\n\n\t/**\n\t * Dim the chart and show a loading text or symbol\n\t * @param {String} str An optional text to show in the loading label instead of the default one\n\t */\n\tshowLoading: function (str) {\n\t\tvar chart = this,\n\t\t\toptions = chart.options,\n\t\t\tloadingDiv = chart.loadingDiv;\n\n\t\tvar loadingOptions = options.loading;\n\n\t\t// create the layer at the first call\n\t\tif (!loadingDiv) {\n\t\t\tchart.loadingDiv = loadingDiv = createElement(DIV, {\n\t\t\t\tclassName: PREFIX + 'loading'\n\t\t\t}, extend(loadingOptions.style, {\n\t\t\t\tzIndex: 10,\n\t\t\t\tdisplay: NONE\n\t\t\t}), chart.container);\n\n\t\t\tchart.loadingSpan = createElement(\n\t\t\t\t'span',\n\t\t\t\tnull,\n\t\t\t\tloadingOptions.labelStyle,\n\t\t\t\tloadingDiv\n\t\t\t);\n\n\t\t}\n\n\t\t// update text\n\t\tchart.loadingSpan.innerHTML = str || options.lang.loading;\n\n\t\t// show it\n\t\tif (!chart.loadingShown) {\n\t\t\tcss(loadingDiv, { \n\t\t\t\topacity: 0, \n\t\t\t\tdisplay: '',\n\t\t\t\tleft: chart.plotLeft + PX,\n\t\t\t\ttop: chart.plotTop + PX,\n\t\t\t\twidth: chart.plotWidth + PX,\n\t\t\t\theight: chart.plotHeight + PX\n\t\t\t});\n\t\t\tanimate(loadingDiv, {\n\t\t\t\topacity: loadingOptions.style.opacity\n\t\t\t}, {\n\t\t\t\tduration: loadingOptions.showDuration || 0\n\t\t\t});\n\t\t\tchart.loadingShown = true;\n\t\t}\n\t},\n\n\t/**\n\t * Hide the loading layer\n\t */\n\thideLoading: function () {\n\t\tvar options = this.options,\n\t\t\tloadingDiv = this.loadingDiv;\n\n\t\tif (loadingDiv) {\n\t\t\tanimate(loadingDiv, {\n\t\t\t\topacity: 0\n\t\t\t}, {\n\t\t\t\tduration: options.loading.hideDuration || 100,\n\t\t\t\tcomplete: function () {\n\t\t\t\t\tcss(loadingDiv, { display: NONE });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.loadingShown = false;\n\t},\n\n\t/**\n\t * Get an axis, series or point object by id.\n\t * @param id {String} The id as given in the configuration options\n\t */\n\tget: function (id) {\n\t\tvar chart = this,\n\t\t\taxes = chart.axes,\n\t\t\tseries = chart.series;\n\n\t\tvar i,\n\t\t\tj,\n\t\t\tpoints;\n\n\t\t// search axes\n\t\tfor (i = 0; i < axes.length; i++) {\n\t\t\tif (axes[i].options.id === id) {\n\t\t\t\treturn axes[i];\n\t\t\t}\n\t\t}\n\n\t\t// search series\n\t\tfor (i = 0; i < series.length; i++) {\n\t\t\tif (series[i].options.id === id) {\n\t\t\t\treturn series[i];\n\t\t\t}\n\t\t}\n\n\t\t// search points\n\t\tfor (i = 0; i < series.length; i++) {\n\t\t\tpoints = series[i].points || [];\n\t\t\tfor (j = 0; j < points.length; j++) {\n\t\t\t\tif (points[j].id === id) {\n\t\t\t\t\treturn points[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t},\n\n\t/**\n\t * Create the Axis instances based on the config options\n\t */\n\tgetAxes: function () {\n\t\tvar chart = this,\n\t\t\toptions = this.options,\n\t\t\txAxisOptions = options.xAxis = splat(options.xAxis || {}),\n\t\t\tyAxisOptions = options.yAxis = splat(options.yAxis || {}),\n\t\t\toptionsArray,\n\t\t\taxis;\n\n\t\t// make sure the options are arrays and add some members\n\t\teach(xAxisOptions, function (axis, i) {\n\t\t\taxis.index = i;\n\t\t\taxis.isX = true;\n\t\t});\n\n\t\teach(yAxisOptions, function (axis, i) {\n\t\t\taxis.index = i;\n\t\t});\n\n\t\t// concatenate all axis options into one array\n\t\toptionsArray = xAxisOptions.concat(yAxisOptions);\n\n\t\teach(optionsArray, function (axisOptions) {\n\t\t\taxis = new Axis(chart, axisOptions);\n\t\t});\n\n\t\tchart.adjustTickAmounts();\n\t},\n\n\n\t/**\n\t * Get the currently selected points from all series\n\t */\n\tgetSelectedPoints: function () {\n\t\tvar points = [];\n\t\teach(this.series, function (serie) {\n\t\t\tpoints = points.concat(grep(serie.points || [], function (point) {\n\t\t\t\treturn point.selected;\n\t\t\t}));\n\t\t});\n\t\treturn points;\n\t},\n\n\t/**\n\t * Get the currently selected series\n\t */\n\tgetSelectedSeries: function () {\n\t\treturn grep(this.series, function (serie) {\n\t\t\treturn serie.selected;\n\t\t});\n\t},\n\n\t/**\n\t * Generate stacks for each series and calculate stacks total values\n\t */\n\tgetStacks: function () {\n\t\tvar chart = this;\n\n\t\t// reset stacks for each yAxis\n\t\teach(chart.yAxis, function (axis) {\n\t\t\tif (axis.stacks && axis.hasVisibleSeries) {\n\t\t\t\taxis.oldStacks = axis.stacks;\n\t\t\t}\n\t\t});\n\n\t\teach(chart.series, function (series) {\n\t\t\tif (series.options.stacking && (series.visible === true || chart.options.chart.ignoreHiddenSeries === false)) {\n\t\t\t\tseries.stackKey = series.type + pick(series.options.stack, '');\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Display the zoom button\n\t */\n\tshowResetZoom: function () {\n\t\tvar chart = this,\n\t\t\tlang = defaultOptions.lang,\n\t\t\tbtnOptions = chart.options.chart.resetZoomButton,\n\t\t\ttheme = btnOptions.theme,\n\t\t\tstates = theme.states,\n\t\t\talignTo = btnOptions.relativeTo === 'chart' ? null : 'plotBox';\n\t\t\t\n\t\tthis.resetZoomButton = chart.renderer.button(lang.resetZoom, null, null, function () { chart.zoomOut(); }, theme, states && states.hover)\n\t\t\t.attr({\n\t\t\t\talign: btnOptions.position.align,\n\t\t\t\ttitle: lang.resetZoomTitle\n\t\t\t})\n\t\t\t.add()\n\t\t\t.align(btnOptions.position, false, alignTo);\n\t\t\t\n\t},\n\n\t/**\n\t * Zoom out to 1:1\n\t */\n\tzoomOut: function () {\n\t\tvar chart = this;\n\t\tfireEvent(chart, 'selection', { resetSelection: true }, function () { \n\t\t\tchart.zoom();\n\t\t});\n\t},\n\n\t/**\n\t * Zoom into a given portion of the chart given by axis coordinates\n\t * @param {Object} event\n\t */\n\tzoom: function (event) {\n\t\tvar chart = this,\n\t\t\thasZoomed,\n\t\t\tpointer = chart.pointer,\n\t\t\tdisplayButton = false,\n\t\t\tresetZoomButton;\n\n\t\t// If zoom is called with no arguments, reset the axes\n\t\tif (!event || event.resetSelection) {\n\t\t\teach(chart.axes, function (axis) {\n\t\t\t\thasZoomed = axis.zoom();\n\t\t\t});\n\t\t} else { // else, zoom in on all axes\n\t\t\teach(event.xAxis.concat(event.yAxis), function (axisData) {\n\t\t\t\tvar axis = axisData.axis,\n\t\t\t\t\tisXAxis = axis.isXAxis;\n\n\t\t\t\t// don't zoom more than minRange\n\t\t\t\tif (pointer[isXAxis ? 'zoomX' : 'zoomY'] || pointer[isXAxis ? 'pinchX' : 'pinchY']) {\n\t\t\t\t\thasZoomed = axis.zoom(axisData.min, axisData.max);\n\t\t\t\t\tif (axis.displayBtn) {\n\t\t\t\t\t\tdisplayButton = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\t// Show or hide the Reset zoom button\n\t\tresetZoomButton = chart.resetZoomButton;\n\t\tif (displayButton && !resetZoomButton) {\n\t\t\tchart.showResetZoom();\n\t\t} else if (!displayButton && isObject(resetZoomButton)) {\n\t\t\tchart.resetZoomButton = resetZoomButton.destroy();\n\t\t}\n\t\t\n\n\t\t// Redraw\n\t\tif (hasZoomed) {\n\t\t\tchart.redraw(\n\t\t\t\tpick(chart.options.chart.animation, event && event.animation, chart.pointCount < 100) // animation\n\t\t\t);\n\t\t}\n\t},\n\n\t/**\n\t * Pan the chart by dragging the mouse across the pane. This function is called\n\t * on mouse move, and the distance to pan is computed from chartX compared to\n\t * the first chartX position in the dragging operation.\n\t */\n\tpan: function (e, panning) {\n\n\t\tvar chart = this,\n\t\t\thoverPoints = chart.hoverPoints,\n\t\t\tdoRedraw;\n\n\t\t// remove active points for shared tooltip\n\t\tif (hoverPoints) {\n\t\t\teach(hoverPoints, function (point) {\n\t\t\t\tpoint.setState();\n\t\t\t});\n\t\t}\n\n\t\teach(panning === 'xy' ? [1, 0] : [1], function (isX) { // xy is used in maps\n\t\t\tvar mousePos = e[isX ? 'chartX' : 'chartY'],\n\t\t\t\taxis = chart[isX ? 'xAxis' : 'yAxis'][0],\n\t\t\t\tstartPos = chart[isX ? 'mouseDownX' : 'mouseDownY'],\n\t\t\t\thalfPointRange = (axis.pointRange || 0) / 2,\n\t\t\t\textremes = axis.getExtremes(),\n\t\t\t\tnewMin = axis.toValue(startPos - mousePos, true) + halfPointRange,\n\t\t\t\tnewMax = axis.toValue(startPos + chart[isX ? 'plotWidth' : 'plotHeight'] - mousePos, true) - halfPointRange;\n\n\t\t\tif (axis.series.length && newMin > mathMin(extremes.dataMin, extremes.min) && newMax < mathMax(extremes.dataMax, extremes.max)) {\n\t\t\t\taxis.setExtremes(newMin, newMax, false, false, { trigger: 'pan' });\n\t\t\t\tdoRedraw = true;\n\t\t\t}\n\n\t\t\tchart[isX ? 'mouseDownX' : 'mouseDownY'] = mousePos; // set new reference for next run\n\t\t});\n\n\t\tif (doRedraw) {\n\t\t\tchart.redraw(false);\n\t\t}\n\t\tcss(chart.container, { cursor: 'move' });\n\t},\n\n\t/**\n\t * Show the title and subtitle of the chart\n\t *\n\t * @param titleOptions {Object} New title options\n\t * @param subtitleOptions {Object} New subtitle options\n\t *\n\t */\n\tsetTitle: function (titleOptions, subtitleOptions) {\n\t\tvar chart = this,\n\t\t\toptions = chart.options,\n\t\t\tchartTitleOptions,\n\t\t\tchartSubtitleOptions;\n\n\t\tchartTitleOptions = options.title = merge(options.title, titleOptions);\n\t\tchartSubtitleOptions = options.subtitle = merge(options.subtitle, subtitleOptions);\n\n\t\t// add title and subtitle\n\t\teach([\n\t\t\t['title', titleOptions, chartTitleOptions],\n\t\t\t['subtitle', subtitleOptions, chartSubtitleOptions]\n\t\t], function (arr) {\n\t\t\tvar name = arr[0],\n\t\t\t\ttitle = chart[name],\n\t\t\t\ttitleOptions = arr[1],\n\t\t\t\tchartTitleOptions = arr[2];\n\n\t\t\tif (title && titleOptions) {\n\t\t\t\tchart[name] = title = title.destroy(); // remove old\n\t\t\t}\n\t\t\t\n\t\t\tif (chartTitleOptions && chartTitleOptions.text && !title) {\n\t\t\t\tchart[name] = chart.renderer.text(\n\t\t\t\t\tchartTitleOptions.text,\n\t\t\t\t\t0,\n\t\t\t\t\t0,\n\t\t\t\t\tchartTitleOptions.useHTML\n\t\t\t\t)\n\t\t\t\t.attr({\n\t\t\t\t\talign: chartTitleOptions.align,\n\t\t\t\t\t'class': PREFIX + name,\n\t\t\t\t\tzIndex: chartTitleOptions.zIndex || 4\n\t\t\t\t})\n\t\t\t\t.css(chartTitleOptions.style)\n\t\t\t\t.add();\n\t\t\t}\t\n\t\t});\n\t\tchart.layOutTitles();\n\t},\n\n\t/**\n\t * Lay out the chart titles and cache the full offset height for use in getMargins\n\t */\n\tlayOutTitles: function () {\n\t\tvar titleOffset = 0,\n\t\t\ttitle = this.title,\n\t\t\tsubtitle = this.subtitle,\n\t\t\toptions = this.options,\n\t\t\ttitleOptions = options.title,\n\t\t\tsubtitleOptions = options.subtitle,\n\t\t\tautoWidth = this.spacingBox.width - 44; // 44 makes room for default context button\n\n\t\tif (title) {\n\t\t\ttitle\n\t\t\t\t.css({ width: (titleOptions.width || autoWidth) + PX })\n\t\t\t\t.align(extend({ y: 15 }, titleOptions), false, 'spacingBox');\n\t\t\t\n\t\t\tif (!titleOptions.floating && !titleOptions.verticalAlign) {\n\t\t\t\ttitleOffset = title.getBBox().height;\n\n\t\t\t\t// Adjust for browser consistency + backwards compat after #776 fix\n\t\t\t\tif (titleOffset >= 18 && titleOffset <= 25) {\n\t\t\t\t\ttitleOffset = 15; \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (subtitle) {\n\t\t\tsubtitle\n\t\t\t\t.css({ width: (subtitleOptions.width || autoWidth) + PX })\n\t\t\t\t.align(extend({ y: titleOffset + titleOptions.margin }, subtitleOptions), false, 'spacingBox');\n\t\t\t\n\t\t\tif (!subtitleOptions.floating && !subtitleOptions.verticalAlign) {\n\t\t\t\ttitleOffset = mathCeil(titleOffset + subtitle.getBBox().height);\n\t\t\t}\n\t\t}\n\n\t\tthis.titleOffset = titleOffset; // used in getMargins\n\t},\n\n\t/**\n\t * Get chart width and height according to options and container size\n\t */\n\tgetChartSize: function () {\n\t\tvar chart = this,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\trenderTo = chart.renderToClone || chart.renderTo;\n\n\t\t// get inner width and height from jQuery (#824)\n\t\tchart.containerWidth = adapterRun(renderTo, 'width');\n\t\tchart.containerHeight = adapterRun(renderTo, 'height');\n\t\t\n\t\tchart.chartWidth = mathMax(0, optionsChart.width || chart.containerWidth || 600); // #1393, 1460\n\t\tchart.chartHeight = mathMax(0, pick(optionsChart.height,\n\t\t\t// the offsetHeight of an empty container is 0 in standard browsers, but 19 in IE7:\n\t\t\tchart.containerHeight > 19 ? chart.containerHeight : 400));\n\t},\n\n\t/**\n\t * Create a clone of the chart's renderTo div and place it outside the viewport to allow\n\t * size computation on chart.render and chart.redraw\n\t */\n\tcloneRenderTo: function (revert) {\n\t\tvar clone = this.renderToClone,\n\t\t\tcontainer = this.container;\n\t\t\n\t\t// Destroy the clone and bring the container back to the real renderTo div\n\t\tif (revert) {\n\t\t\tif (clone) {\n\t\t\t\tthis.renderTo.appendChild(container);\n\t\t\t\tdiscardElement(clone);\n\t\t\t\tdelete this.renderToClone;\n\t\t\t}\n\t\t\n\t\t// Set up the clone\n\t\t} else {\n\t\t\tif (container && container.parentNode === this.renderTo) {\n\t\t\t\tthis.renderTo.removeChild(container); // do not clone this\n\t\t\t}\n\t\t\tthis.renderToClone = clone = this.renderTo.cloneNode(0);\n\t\t\tcss(clone, {\n\t\t\t\tposition: ABSOLUTE,\n\t\t\t\ttop: '-9999px',\n\t\t\t\tdisplay: 'block' // #833\n\t\t\t});\n\t\t\tdoc.body.appendChild(clone);\n\t\t\tif (container) {\n\t\t\t\tclone.appendChild(container);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Get the containing element, determine the size and create the inner container\n\t * div to hold the chart\n\t */\n\tgetContainer: function () {\n\t\tvar chart = this,\n\t\t\tcontainer,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\tchartWidth,\n\t\t\tchartHeight,\n\t\t\trenderTo,\n\t\t\tindexAttrName = 'data-highcharts-chart',\n\t\t\toldChartIndex,\n\t\t\tcontainerId;\n\n\t\tchart.renderTo = renderTo = optionsChart.renderTo;\n\t\tcontainerId = PREFIX + idCounter++;\n\n\t\tif (isString(renderTo)) {\n\t\t\tchart.renderTo = renderTo = doc.getElementById(renderTo);\n\t\t}\n\t\t\n\t\t// Display an error if the renderTo is wrong\n\t\tif (!renderTo) {\n\t\t\terror(13, true);\n\t\t}\n\t\t\n\t\t// If the container already holds a chart, destroy it\n\t\toldChartIndex = pInt(attr(renderTo, indexAttrName));\n\t\tif (!isNaN(oldChartIndex) && charts[oldChartIndex]) {\n\t\t\tcharts[oldChartIndex].destroy();\n\t\t}\t\t\n\t\t\n\t\t// Make a reference to the chart from the div\n\t\tattr(renderTo, indexAttrName, chart.index);\n\n\t\t// remove previous chart\n\t\trenderTo.innerHTML = '';\n\n\t\t// If the container doesn't have an offsetWidth, it has or is a child of a node\n\t\t// that has display:none. We need to temporarily move it out to a visible\n\t\t// state to determine the size, else the legend and tooltips won't render\n\t\t// properly\n\t\tif (!renderTo.offsetWidth) {\n\t\t\tchart.cloneRenderTo();\n\t\t}\n\n\t\t// get the width and height\n\t\tchart.getChartSize();\n\t\tchartWidth = chart.chartWidth;\n\t\tchartHeight = chart.chartHeight;\n\n\t\t// create the inner container\n\t\tchart.container = container = createElement(DIV, {\n\t\t\t\tclassName: PREFIX + 'container' +\n\t\t\t\t\t(optionsChart.className ? ' ' + optionsChart.className : ''),\n\t\t\t\tid: containerId\n\t\t\t}, extend({\n\t\t\t\tposition: RELATIVE,\n\t\t\t\toverflow: HIDDEN, // needed for context menu (avoid scrollbars) and\n\t\t\t\t\t// content overflow in IE\n\t\t\t\twidth: chartWidth + PX,\n\t\t\t\theight: chartHeight + PX,\n\t\t\t\ttextAlign: 'left',\n\t\t\t\tlineHeight: 'normal', // #427\n\t\t\t\tzIndex: 0, // #1072\n\t\t\t\t'-webkit-tap-highlight-color': 'rgba(0,0,0,0)'\n\t\t\t}, optionsChart.style),\n\t\t\tchart.renderToClone || renderTo\n\t\t);\n\n\t\t// cache the cursor (#1650)\n\t\tchart._cursor = container.style.cursor;\n\n\t\tchart.renderer =\n\t\t\toptionsChart.forExport ? // force SVG, used for SVG export\n\t\t\t\tnew SVGRenderer(container, chartWidth, chartHeight, true) :\n\t\t\t\tnew Renderer(container, chartWidth, chartHeight);\n\n\t\tif (useCanVG) {\n\t\t\t// If we need canvg library, extend and configure the renderer\n\t\t\t// to get the tracker for translating mouse events\n\t\t\tchart.renderer.create(chart, container, chartWidth, chartHeight);\n\t\t}\n\t},\n\n\t/**\n\t * Calculate margins by rendering axis labels in a preliminary position. Title,\n\t * subtitle and legend have already been rendered at this stage, but will be\n\t * moved into their final positions\n\t */\n\tgetMargins: function () {\n\t\tvar chart = this,\n\t\t\tspacing = chart.spacing,\n\t\t\taxisOffset,\n\t\t\tlegend = chart.legend,\n\t\t\tmargin = chart.margin,\n\t\t\tlegendOptions = chart.options.legend,\n\t\t\tlegendMargin = pick(legendOptions.margin, 10),\n\t\t\tlegendX = legendOptions.x,\n\t\t\tlegendY = legendOptions.y,\n\t\t\talign = legendOptions.align,\n\t\t\tverticalAlign = legendOptions.verticalAlign,\n\t\t\ttitleOffset = chart.titleOffset;\n\n\t\tchart.resetMargins();\n\t\taxisOffset = chart.axisOffset;\n\n\t\t// Adjust for title and subtitle\n\t\tif (titleOffset && !defined(margin[0])) {\n\t\t\tchart.plotTop = mathMax(chart.plotTop, titleOffset + chart.options.title.margin + spacing[0]);\n\t\t}\n\t\t\n\t\t// Adjust for legend\n\t\tif (legend.display && !legendOptions.floating) {\n\t\t\tif (align === 'right') { // horizontal alignment handled first\n\t\t\t\tif (!defined(margin[1])) {\n\t\t\t\t\tchart.marginRight = mathMax(\n\t\t\t\t\t\tchart.marginRight,\n\t\t\t\t\t\tlegend.legendWidth - legendX + legendMargin + spacing[1]\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (align === 'left') {\n\t\t\t\tif (!defined(margin[3])) {\n\t\t\t\t\tchart.plotLeft = mathMax(\n\t\t\t\t\t\tchart.plotLeft,\n\t\t\t\t\t\tlegend.legendWidth + legendX + legendMargin + spacing[3]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t} else if (verticalAlign === 'top') {\n\t\t\t\tif (!defined(margin[0])) {\n\t\t\t\t\tchart.plotTop = mathMax(\n\t\t\t\t\t\tchart.plotTop,\n\t\t\t\t\t\tlegend.legendHeight + legendY + legendMargin + spacing[0]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t} else if (verticalAlign === 'bottom') {\n\t\t\t\tif (!defined(margin[2])) {\n\t\t\t\t\tchart.marginBottom = mathMax(\n\t\t\t\t\t\tchart.marginBottom,\n\t\t\t\t\t\tlegend.legendHeight - legendY + legendMargin + spacing[2]\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// adjust for scroller\n\t\tif (chart.extraBottomMargin) {\n\t\t\tchart.marginBottom += chart.extraBottomMargin;\n\t\t}\n\t\tif (chart.extraTopMargin) {\n\t\t\tchart.plotTop += chart.extraTopMargin;\n\t\t}\n\n\t\t// pre-render axes to get labels offset width\n\t\tif (chart.hasCartesianSeries) {\n\t\t\teach(chart.axes, function (axis) {\n\t\t\t\taxis.getOffset();\n\t\t\t});\n\t\t}\n\t\t\n\t\tif (!defined(margin[3])) {\n\t\t\tchart.plotLeft += axisOffset[3];\n\t\t}\n\t\tif (!defined(margin[0])) {\n\t\t\tchart.plotTop += axisOffset[0];\n\t\t}\n\t\tif (!defined(margin[2])) {\n\t\t\tchart.marginBottom += axisOffset[2];\n\t\t}\n\t\tif (!defined(margin[1])) {\n\t\t\tchart.marginRight += axisOffset[1];\n\t\t}\n\n\t\tchart.setChartSize();\n\n\t},\n\n\t/**\n\t * Add the event handlers necessary for auto resizing\n\t *\n\t */\n\tinitReflow: function () {\n\t\tvar chart = this,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\trenderTo = chart.renderTo,\n\t\t\treflowTimeout;\n\t\t\t\n\t\tfunction reflow(e) {\n\t\t\tvar width = optionsChart.width || adapterRun(renderTo, 'width'),\n\t\t\t\theight = optionsChart.height || adapterRun(renderTo, 'height'),\n\t\t\t\ttarget = e ? e.target : win; // #805 - MooTools doesn't supply e\n\t\t\t\t\n\t\t\t// Width and height checks for display:none. Target is doc in IE8 and Opera,\n\t\t\t// win in Firefox, Chrome and IE9.\n\t\t\tif (!chart.hasUserSize && width && height && (target === win || target === doc)) {\n\t\t\t\t\n\t\t\t\tif (width !== chart.containerWidth || height !== chart.containerHeight) {\n\t\t\t\t\tclearTimeout(reflowTimeout);\n\t\t\t\t\tchart.reflowTimeout = reflowTimeout = setTimeout(function () {\n\t\t\t\t\t\tif (chart.container) { // It may have been destroyed in the meantime (#1257)\n\t\t\t\t\t\t\tchart.setSize(width, height, false);\n\t\t\t\t\t\t\tchart.hasUserSize = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t\tchart.containerWidth = width;\n\t\t\t\tchart.containerHeight = height;\n\t\t\t}\n\t\t}\n\t\tchart.reflow = reflow;\n\t\taddEvent(win, 'resize', reflow);\n\t\taddEvent(chart, 'destroy', function () {\n\t\t\tremoveEvent(win, 'resize', reflow);\n\t\t});\n\t},\n\n\t/**\n\t * Resize the chart to a given width and height\n\t * @param {Number} width\n\t * @param {Number} height\n\t * @param {Object|Boolean} animation\n\t */\n\tsetSize: function (width, height, animation) {\n\t\tvar chart = this,\n\t\t\tchartWidth,\n\t\t\tchartHeight,\n\t\t\tfireEndResize;\n\n\t\t// Handle the isResizing counter\n\t\tchart.isResizing += 1;\n\t\tfireEndResize = function () {\n\t\t\tif (chart) {\n\t\t\t\tfireEvent(chart, 'endResize', null, function () {\n\t\t\t\t\tchart.isResizing -= 1;\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// set the animation for the current process\n\t\tsetAnimation(animation, chart);\n\n\t\tchart.oldChartHeight = chart.chartHeight;\n\t\tchart.oldChartWidth = chart.chartWidth;\n\t\tif (defined(width)) {\n\t\t\tchart.chartWidth = chartWidth = mathMax(0, mathRound(width));\n\t\t\tchart.hasUserSize = !!chartWidth;\n\t\t}\n\t\tif (defined(height)) {\n\t\t\tchart.chartHeight = chartHeight = mathMax(0, mathRound(height));\n\t\t}\n\n\t\tcss(chart.container, {\n\t\t\twidth: chartWidth + PX,\n\t\t\theight: chartHeight + PX\n\t\t});\n\t\tchart.setChartSize(true);\n\t\tchart.renderer.setSize(chartWidth, chartHeight, animation);\n\n\t\t// handle axes\n\t\tchart.maxTicks = null;\n\t\teach(chart.axes, function (axis) {\n\t\t\taxis.isDirty = true;\n\t\t\taxis.setScale();\n\t\t});\n\n\t\t// make sure non-cartesian series are also handled\n\t\teach(chart.series, function (serie) {\n\t\t\tserie.isDirty = true;\n\t\t});\n\n\t\tchart.isDirtyLegend = true; // force legend redraw\n\t\tchart.isDirtyBox = true; // force redraw of plot and chart border\n\n\t\tchart.getMargins();\n\n\t\tchart.redraw(animation);\n\n\n\t\tchart.oldChartHeight = null;\n\t\tfireEvent(chart, 'resize');\n\n\t\t// fire endResize and set isResizing back\n\t\t// If animation is disabled, fire without delay\n\t\tif (globalAnimation === false) {\n\t\t\tfireEndResize();\n\t\t} else { // else set a timeout with the animation duration\n\t\t\tsetTimeout(fireEndResize, (globalAnimation && globalAnimation.duration) || 500);\n\t\t}\n\t},\n\n\t/**\n\t * Set the public chart properties. This is done before and after the pre-render\n\t * to determine margin sizes\n\t */\n\tsetChartSize: function (skipAxes) {\n\t\tvar chart = this,\n\t\t\tinverted = chart.inverted,\n\t\t\trenderer = chart.renderer,\n\t\t\tchartWidth = chart.chartWidth,\n\t\t\tchartHeight = chart.chartHeight,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\tspacing = chart.spacing,\n\t\t\tclipOffset = chart.clipOffset,\n\t\t\tclipX,\n\t\t\tclipY,\n\t\t\tplotLeft,\n\t\t\tplotTop,\n\t\t\tplotWidth,\n\t\t\tplotHeight,\n\t\t\tplotBorderWidth;\n\n\t\tchart.plotLeft = plotLeft = mathRound(chart.plotLeft);\n\t\tchart.plotTop = plotTop = mathRound(chart.plotTop);\n\t\tchart.plotWidth = plotWidth = mathMax(0, mathRound(chartWidth - plotLeft - chart.marginRight));\n\t\tchart.plotHeight = plotHeight = mathMax(0, mathRound(chartHeight - plotTop - chart.marginBottom));\n\n\t\tchart.plotSizeX = inverted ? plotHeight : plotWidth;\n\t\tchart.plotSizeY = inverted ? plotWidth : plotHeight;\n\t\t\n\t\tchart.plotBorderWidth = optionsChart.plotBorderWidth || 0;\n\n\t\t// Set boxes used for alignment\n\t\tchart.spacingBox = renderer.spacingBox = {\n\t\t\tx: spacing[3],\n\t\t\ty: spacing[0],\n\t\t\twidth: chartWidth - spacing[3] - spacing[1],\n\t\t\theight: chartHeight - spacing[0] - spacing[2]\n\t\t};\n\t\tchart.plotBox = renderer.plotBox = {\n\t\t\tx: plotLeft,\n\t\t\ty: plotTop,\n\t\t\twidth: plotWidth,\n\t\t\theight: plotHeight\n\t\t};\n\n\t\tplotBorderWidth = 2 * mathFloor(chart.plotBorderWidth / 2);\n\t\tclipX = mathCeil(mathMax(plotBorderWidth, clipOffset[3]) / 2);\n\t\tclipY = mathCeil(mathMax(plotBorderWidth, clipOffset[0]) / 2);\n\t\tchart.clipBox = {\n\t\t\tx: clipX, \n\t\t\ty: clipY, \n\t\t\twidth: mathFloor(chart.plotSizeX - mathMax(plotBorderWidth, clipOffset[1]) / 2 - clipX), \n\t\t\theight: mathFloor(chart.plotSizeY - mathMax(plotBorderWidth, clipOffset[2]) / 2 - clipY)\n\t\t};\n\n\t\tif (!skipAxes) {\n\t\t\teach(chart.axes, function (axis) {\n\t\t\t\taxis.setAxisSize();\n\t\t\t\taxis.setAxisTranslation();\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Initial margins before auto size margins are applied\n\t */\n\tresetMargins: function () {\n\t\tvar chart = this,\n\t\t\tspacing = chart.spacing,\n\t\t\tmargin = chart.margin;\n\n\t\tchart.plotTop = pick(margin[0], spacing[0]);\n\t\tchart.marginRight = pick(margin[1], spacing[1]);\n\t\tchart.marginBottom = pick(margin[2], spacing[2]);\n\t\tchart.plotLeft = pick(margin[3], spacing[3]);\n\t\tchart.axisOffset = [0, 0, 0, 0]; // top, right, bottom, left\n\t\tchart.clipOffset = [0, 0, 0, 0];\n\t},\n\n\t/**\n\t * Draw the borders and backgrounds for chart and plot area\n\t */\n\tdrawChartBox: function () {\n\t\tvar chart = this,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\tchartWidth = chart.chartWidth,\n\t\t\tchartHeight = chart.chartHeight,\n\t\t\tchartBackground = chart.chartBackground,\n\t\t\tplotBackground = chart.plotBackground,\n\t\t\tplotBorder = chart.plotBorder,\n\t\t\tplotBGImage = chart.plotBGImage,\n\t\t\tchartBorderWidth = optionsChart.borderWidth || 0,\n\t\t\tchartBackgroundColor = optionsChart.backgroundColor,\n\t\t\tplotBackgroundColor = optionsChart.plotBackgroundColor,\n\t\t\tplotBackgroundImage = optionsChart.plotBackgroundImage,\n\t\t\tplotBorderWidth = optionsChart.plotBorderWidth || 0,\n\t\t\tmgn,\n\t\t\tbgAttr,\n\t\t\tplotLeft = chart.plotLeft,\n\t\t\tplotTop = chart.plotTop,\n\t\t\tplotWidth = chart.plotWidth,\n\t\t\tplotHeight = chart.plotHeight,\n\t\t\tplotBox = chart.plotBox,\n\t\t\tclipRect = chart.clipRect,\n\t\t\tclipBox = chart.clipBox;\n\n\t\t// Chart area\n\t\tmgn = chartBorderWidth + (optionsChart.shadow ? 8 : 0);\n\n\t\tif (chartBorderWidth || chartBackgroundColor) {\n\t\t\tif (!chartBackground) {\n\t\t\t\t\n\t\t\t\tbgAttr = {\n\t\t\t\t\tfill: chartBackgroundColor || NONE\n\t\t\t\t};\n\t\t\t\tif (chartBorderWidth) { // #980\n\t\t\t\t\tbgAttr.stroke = optionsChart.borderColor;\n\t\t\t\t\tbgAttr['stroke-width'] = chartBorderWidth;\n\t\t\t\t}\n\t\t\t\tchart.chartBackground = renderer.rect(mgn / 2, mgn / 2, chartWidth - mgn, chartHeight - mgn,\n\t\t\t\t\t\toptionsChart.borderRadius, chartBorderWidth)\n\t\t\t\t\t.attr(bgAttr)\n\t\t\t\t\t.add()\n\t\t\t\t\t.shadow(optionsChart.shadow);\n\n\t\t\t} else { // resize\n\t\t\t\tchartBackground.animate(\n\t\t\t\t\tchartBackground.crisp(null, null, null, chartWidth - mgn, chartHeight - mgn)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\n\t\t// Plot background\n\t\tif (plotBackgroundColor) {\n\t\t\tif (!plotBackground) {\n\t\t\t\tchart.plotBackground = renderer.rect(plotLeft, plotTop, plotWidth, plotHeight, 0)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tfill: plotBackgroundColor\n\t\t\t\t\t})\n\t\t\t\t\t.add()\n\t\t\t\t\t.shadow(optionsChart.plotShadow);\n\t\t\t} else {\n\t\t\t\tplotBackground.animate(plotBox);\n\t\t\t}\n\t\t}\n\t\tif (plotBackgroundImage) {\n\t\t\tif (!plotBGImage) {\n\t\t\t\tchart.plotBGImage = renderer.image(plotBackgroundImage, plotLeft, plotTop, plotWidth, plotHeight)\n\t\t\t\t\t.add();\n\t\t\t} else {\n\t\t\t\tplotBGImage.animate(plotBox);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Plot clip\n\t\tif (!clipRect) {\n\t\t\tchart.clipRect = renderer.clipRect(clipBox);\n\t\t} else {\n\t\t\tclipRect.animate({\n\t\t\t\twidth: clipBox.width,\n\t\t\t\theight: clipBox.height\n\t\t\t});\n\t\t}\n\n\t\t// Plot area border\n\t\tif (plotBorderWidth) {\n\t\t\tif (!plotBorder) {\n\t\t\t\tchart.plotBorder = renderer.rect(plotLeft, plotTop, plotWidth, plotHeight, 0, -plotBorderWidth)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tstroke: optionsChart.plotBorderColor,\n\t\t\t\t\t\t'stroke-width': plotBorderWidth,\n\t\t\t\t\t\tzIndex: 1\n\t\t\t\t\t})\n\t\t\t\t\t.add();\n\t\t\t} else {\n\t\t\t\tplotBorder.animate(\n\t\t\t\t\tplotBorder.crisp(null, plotLeft, plotTop, plotWidth, plotHeight)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// reset\n\t\tchart.isDirtyBox = false;\n\t},\n\n\t/**\n\t * Detect whether a certain chart property is needed based on inspecting its options\n\t * and series. This mainly applies to the chart.invert property, and in extensions to \n\t * the chart.angular and chart.polar properties.\n\t */\n\tpropFromSeries: function () {\n\t\tvar chart = this,\n\t\t\toptionsChart = chart.options.chart,\n\t\t\tklass,\n\t\t\tseriesOptions = chart.options.series,\n\t\t\ti,\n\t\t\tvalue;\n\t\t\t\n\t\t\t\n\t\teach(['inverted', 'angular', 'polar'], function (key) {\n\t\t\t\n\t\t\t// The default series type's class\n\t\t\tklass = seriesTypes[optionsChart.type || optionsChart.defaultSeriesType];\n\t\t\t\n\t\t\t// Get the value from available chart-wide properties\n\t\t\tvalue = (\n\t\t\t\tchart[key] || // 1. it is set before\n\t\t\t\toptionsChart[key] || // 2. it is set in the options\n\t\t\t\t(klass && klass.prototype[key]) // 3. it's default series class requires it\n\t\t\t);\n\t\n\t\t\t// 4. Check if any the chart's series require it\n\t\t\ti = seriesOptions && seriesOptions.length;\n\t\t\twhile (!value && i--) {\n\t\t\t\tklass = seriesTypes[seriesOptions[i].type];\n\t\t\t\tif (klass && klass.prototype[key]) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Set the chart property\n\t\t\tchart[key] = value;\t\n\t\t});\n\t\t\n\t},\n\n\t/**\n\t * Link two or more series together. This is done initially from Chart.render,\n\t * and after Chart.addSeries and Series.remove.\n\t */\n\tlinkSeries: function () {\n\t\tvar chart = this,\n\t\t\tchartSeries = chart.series;\n\n\t\t// Reset links\n\t\teach(chartSeries, function (series) {\n\t\t\tseries.linkedSeries.length = 0;\n\t\t});\n\n\t\t// Apply new links\n\t\teach(chartSeries, function (series) {\n\t\t\tvar linkedTo = series.options.linkedTo;\n\t\t\tif (isString(linkedTo)) {\n\t\t\t\tif (linkedTo === ':previous') {\n\t\t\t\t\tlinkedTo = chart.series[series.index - 1];\n\t\t\t\t} else {\n\t\t\t\t\tlinkedTo = chart.get(linkedTo);\n\t\t\t\t}\n\t\t\t\tif (linkedTo) {\n\t\t\t\t\tlinkedTo.linkedSeries.push(series);\n\t\t\t\t\tseries.linkedParent = linkedTo;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Render all graphics for the chart\n\t */\n\trender: function () {\n\t\tvar chart = this,\n\t\t\taxes = chart.axes,\n\t\t\trenderer = chart.renderer,\n\t\t\toptions = chart.options;\n\n\t\tvar labels = options.labels,\n\t\t\tcredits = options.credits,\n\t\t\tcreditsHref;\n\n\t\t// Title\n\t\tchart.setTitle();\n\n\n\t\t// Legend\n\t\tchart.legend = new Legend(chart, options.legend);\n\n\t\tchart.getStacks(); // render stacks\n\n\t\t// Get margins by pre-rendering axes\n\t\t// set axes scales\n\t\teach(axes, function (axis) {\n\t\t\taxis.setScale();\n\t\t});\n\n\t\tchart.getMargins();\n\n\t\tchart.maxTicks = null; // reset for second pass\n\t\teach(axes, function (axis) {\n\t\t\taxis.setTickPositions(true); // update to reflect the new margins\n\t\t\taxis.setMaxTicks();\n\t\t});\n\t\tchart.adjustTickAmounts();\n\t\tchart.getMargins(); // second pass to check for new labels\n\n\n\t\t// Draw the borders and backgrounds\n\t\tchart.drawChartBox();\t\t\n\n\n\t\t// Axes\n\t\tif (chart.hasCartesianSeries) {\n\t\t\teach(axes, function (axis) {\n\t\t\t\taxis.render();\n\t\t\t});\n\t\t}\n\n\t\t// The series\n\t\tif (!chart.seriesGroup) {\n\t\t\tchart.seriesGroup = renderer.g('series-group')\n\t\t\t\t.attr({ zIndex: 3 })\n\t\t\t\t.add();\n\t\t}\n\t\teach(chart.series, function (serie) {\n\t\t\tserie.translate();\n\t\t\tserie.setTooltipPoints();\n\t\t\tserie.render();\n\t\t});\n\n\t\t// Labels\n\t\tif (labels.items) {\n\t\t\teach(labels.items, function (label) {\n\t\t\t\tvar style = extend(labels.style, label.style),\n\t\t\t\t\tx = pInt(style.left) + chart.plotLeft,\n\t\t\t\t\ty = pInt(style.top) + chart.plotTop + 12;\n\n\t\t\t\t// delete to prevent rewriting in IE\n\t\t\t\tdelete style.left;\n\t\t\t\tdelete style.top;\n\n\t\t\t\trenderer.text(\n\t\t\t\t\tlabel.html,\n\t\t\t\t\tx,\n\t\t\t\t\ty\n\t\t\t\t)\n\t\t\t\t.attr({ zIndex: 2 })\n\t\t\t\t.css(style)\n\t\t\t\t.add();\n\n\t\t\t});\n\t\t}\n\n\t\t// Credits\n\t\tif (credits.enabled && !chart.credits) {\n\t\t\tcreditsHref = credits.href;\n\t\t\tchart.credits = renderer.text(\n\t\t\t\tcredits.text,\n\t\t\t\t0,\n\t\t\t\t0\n\t\t\t)\n\t\t\t.on('click', function () {\n\t\t\t\tif (creditsHref) {\n\t\t\t\t\tlocation.href = creditsHref;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr({\n\t\t\t\talign: credits.position.align,\n\t\t\t\tzIndex: 8\n\t\t\t})\n\t\t\t.css(credits.style)\n\t\t\t.add()\n\t\t\t.align(credits.position);\n\t\t}\n\n\t\t// Set flag\n\t\tchart.hasRendered = true;\n\n\t},\n\n\t/**\n\t * Clean up memory usage\n\t */\n\tdestroy: function () {\n\t\tvar chart = this,\n\t\t\taxes = chart.axes,\n\t\t\tseries = chart.series,\n\t\t\tcontainer = chart.container,\n\t\t\ti,\n\t\t\tparentNode = container && container.parentNode;\n\t\t\t\n\t\t// fire the chart.destoy event\n\t\tfireEvent(chart, 'destroy');\n\t\t\n\t\t// Delete the chart from charts lookup array\n\t\tcharts[chart.index] = UNDEFINED;\n\t\tchart.renderTo.removeAttribute('data-highcharts-chart');\n\n\t\t// remove events\n\t\tremoveEvent(chart);\n\n\t\t// ==== Destroy collections:\n\t\t// Destroy axes\n\t\ti = axes.length;\n\t\twhile (i--) {\n\t\t\taxes[i] = axes[i].destroy();\n\t\t}\n\n\t\t// Destroy each series\n\t\ti = series.length;\n\t\twhile (i--) {\n\t\t\tseries[i] = series[i].destroy();\n\t\t}\n\n\t\t// ==== Destroy chart properties:\n\t\teach(['title', 'subtitle', 'chartBackground', 'plotBackground', 'plotBGImage', \n\t\t\t\t'plotBorder', 'seriesGroup', 'clipRect', 'credits', 'pointer', 'scroller', \n\t\t\t\t'rangeSelector', 'legend', 'resetZoomButton', 'tooltip', 'renderer'], function (name) {\n\t\t\tvar prop = chart[name];\n\n\t\t\tif (prop && prop.destroy) {\n\t\t\t\tchart[name] = prop.destroy();\n\t\t\t}\n\t\t});\n\n\t\t// remove container and all SVG\n\t\tif (container) { // can break in IE when destroyed before finished loading\n\t\t\tcontainer.innerHTML = '';\n\t\t\tremoveEvent(container);\n\t\t\tif (parentNode) {\n\t\t\t\tdiscardElement(container);\n\t\t\t}\n\n\t\t}\n\n\t\t// clean it all up\n\t\tfor (i in chart) {\n\t\t\tdelete chart[i];\n\t\t}\n\n\t},\n\n\n\t/**\n\t * VML namespaces can't be added until after complete. Listening\n\t * for Perini's doScroll hack is not enough.\n\t */\n\tisReadyToRender: function () {\n\t\tvar chart = this;\n\n\t\t// Note: in spite of JSLint's complaints, win == win.top is required\n\t\t/*jslint eqeq: true*/\n\t\tif ((!hasSVG && (win == win.top && doc.readyState !== 'complete')) || (useCanVG && !win.canvg)) {\n\t\t/*jslint eqeq: false*/\n\t\t\tif (useCanVG) {\n\t\t\t\t// Delay rendering until canvg library is downloaded and ready\n\t\t\t\tCanVGController.push(function () { chart.firstRender(); }, chart.options.global.canvasToolsURL);\n\t\t\t} else {\n\t\t\t\tdoc.attachEvent('onreadystatechange', function () {\n\t\t\t\t\tdoc.detachEvent('onreadystatechange', chart.firstRender);\n\t\t\t\t\tif (doc.readyState === 'complete') {\n\t\t\t\t\t\tchart.firstRender();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t * Prepare for first rendering after all data are loaded\n\t */\n\tfirstRender: function () {\n\t\tvar chart = this,\n\t\t\toptions = chart.options,\n\t\t\tcallback = chart.callback;\n\n\t\t// Check whether the chart is ready to render\n\t\tif (!chart.isReadyToRender()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Create the container\n\t\tchart.getContainer();\n\n\t\t// Run an early event after the container and renderer are established\n\t\tfireEvent(chart, 'init');\n\n\t\t\n\t\tchart.resetMargins();\n\t\tchart.setChartSize();\n\n\t\t// Set the common chart properties (mainly invert) from the given series\n\t\tchart.propFromSeries();\n\n\t\t// get axes\n\t\tchart.getAxes();\n\n\t\t// Initialize the series\n\t\teach(options.series || [], function (serieOptions) {\n\t\t\tchart.initSeries(serieOptions);\n\t\t});\n\n\t\tchart.linkSeries();\n\n\t\t// Run an event after axes and series are initialized, but before render. At this stage,\n\t\t// the series data is indexed and cached in the xData and yData arrays, so we can access\n\t\t// those before rendering. Used in Highstock. \n\t\tfireEvent(chart, 'beforeRender'); \n\n\t\t// depends on inverted and on margins being set\n\t\tchart.pointer = new Pointer(chart, options);\n\n\t\tchart.render();\n\n\t\t// add canvas\n\t\tchart.renderer.draw();\n\t\t// run callbacks\n\t\tif (callback) {\n\t\t\tcallback.apply(chart, [chart]);\n\t\t}\n\t\teach(chart.callbacks, function (fn) {\n\t\t\tfn.apply(chart, [chart]);\n\t\t});\n\t\t\n\t\t\n\t\t// If the chart was rendered outside the top container, put it back in\n\t\tchart.cloneRenderTo(true);\n\n\t\tfireEvent(chart, 'load');\n\n\t},\n\n\t/**\n\t* Creates arrays for spacing and margin from given options.\n\t*/\n\tsplashArray: function (target, options) {\n\t\tvar oVar = options[target],\n\t\t\ttArray = isObject(oVar) ? oVar : [oVar, oVar, oVar, oVar];\n\n\t\treturn [pick(options[target + 'Top'], tArray[0]),\n\t\t\t\tpick(options[target + 'Right'], tArray[1]),\n\t\t\t\tpick(options[target + 'Bottom'], tArray[2]),\n\t\t\t\tpick(options[target + 'Left'], tArray[3])];\n\t}\n}; // end Chart\n\n// Hook for exporting module\nChart.prototype.callbacks = [];\n/**\n * The Point object and prototype. Inheritable and used as base for PiePoint\n */\nvar Point = function () {};\nPoint.prototype = {\n\n\t/**\n\t * Initialize the point\n\t * @param {Object} series The series object containing this point\n\t * @param {Object} options The data in either number, array or object format\n\t */\n\tinit: function (series, options, x) {\n\n\t\tvar point = this,\n\t\t\tcolors;\n\t\tpoint.series = series;\n\t\tpoint.applyOptions(options, x);\n\t\tpoint.pointAttr = {};\n\n\t\tif (series.options.colorByPoint) {\n\t\t\tcolors = series.options.colors || series.chart.options.colors;\n\t\t\tpoint.color = point.color || colors[series.colorCounter++];\n\t\t\t// loop back to zero\n\t\t\tif (series.colorCounter === colors.length) {\n\t\t\t\tseries.colorCounter = 0;\n\t\t\t}\n\t\t}\n\n\t\tseries.chart.pointCount++;\n\t\treturn point;\n\t},\n\t/**\n\t * Apply the options containing the x and y data and possible some extra properties.\n\t * This is called on point init or from point.update.\n\t *\n\t * @param {Object} options\n\t */\n\tapplyOptions: function (options, x) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tpointValKey = series.pointValKey;\n\n\t\toptions = Point.prototype.optionsToObject.call(this, options);\n\n\t\t// copy options directly to point\n\t\textend(point, options);\n\t\tpoint.options = point.options ? extend(point.options, options) : options;\n\t\t\t\n\t\t// For higher dimension series types. For instance, for ranges, point.y is mapped to point.low.\n\t\tif (pointValKey) {\n\t\t\tpoint.y = point[pointValKey];\n\t\t}\n\t\t\n\t\t// If no x is set by now, get auto incremented value. All points must have an\n\t\t// x value, however the y value can be null to create a gap in the series\n\t\tif (point.x === UNDEFINED && series) {\n\t\t\tpoint.x = x === UNDEFINED ? series.autoIncrement() : x;\n\t\t}\n\t\t\n\t\treturn point;\n\t},\n\n\t/**\n\t * Transform number or array configs into objects\n\t */\n\toptionsToObject: function (options) {\n\t\tvar ret,\n\t\t\tseries = this.series,\n\t\t\tpointArrayMap = series.pointArrayMap || ['y'],\n\t\t\tvalueCount = pointArrayMap.length,\n\t\t\tfirstItemType,\n\t\t\ti = 0,\n\t\t\tj = 0;\n\n\t\tif (typeof options === 'number' || options === null) {\n\t\t\tret = { y: options };\n\n\t\t} else if (isArray(options)) {\n\t\t\tret = {};\n\t\t\t// with leading x value\n\t\t\tif (options.length > valueCount) {\n\t\t\t\tfirstItemType = typeof options[0];\n\t\t\t\tif (firstItemType === 'string') {\n\t\t\t\t\tret.name = options[0];\n\t\t\t\t} else if (firstItemType === 'number') {\n\t\t\t\t\tret.x = options[0];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\twhile (j < valueCount) {\n\t\t\t\tret[pointArrayMap[j++]] = options[i++];\n\t\t\t}\t\t\t\n\t\t} else if (typeof options === 'object') {\n\t\t\tret = options;\n\n\t\t\t// This is the fastest way to detect if there are individual point dataLabels that need \n\t\t\t// to be considered in drawDataLabels. These can only occur in object configs.\n\t\t\tif (options.dataLabels) {\n\t\t\t\tseries._hasPointLabels = true;\n\t\t\t}\n\n\t\t\t// Same approach as above for markers\n\t\t\tif (options.marker) {\n\t\t\t\tseries._hasPointMarkers = true;\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t},\n\n\t/**\n\t * Destroy a point to clear memory. Its reference still stays in series.data.\n\t */\n\tdestroy: function () {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tchart = series.chart,\n\t\t\thoverPoints = chart.hoverPoints,\n\t\t\tprop;\n\n\t\tchart.pointCount--;\n\n\t\tif (hoverPoints) {\n\t\t\tpoint.setState();\n\t\t\terase(hoverPoints, point);\n\t\t\tif (!hoverPoints.length) {\n\t\t\t\tchart.hoverPoints = null;\n\t\t\t}\n\n\t\t}\n\t\tif (point === chart.hoverPoint) {\n\t\t\tpoint.onMouseOut();\n\t\t}\n\t\t\n\t\t// remove all events\n\t\tif (point.graphic || point.dataLabel) { // removeEvent and destroyElements are performance expensive\n\t\t\tremoveEvent(point);\n\t\t\tpoint.destroyElements();\n\t\t}\n\n\t\tif (point.legendItem) { // pies have legend items\n\t\t\tchart.legend.destroyItem(point);\n\t\t}\n\n\t\tfor (prop in point) {\n\t\t\tpoint[prop] = null;\n\t\t}\n\n\n\t},\n\n\t/**\n\t * Destroy SVG elements associated with the point\n\t */\n\tdestroyElements: function () {\n\t\tvar point = this,\n\t\t\tprops = ['graphic', 'dataLabel', 'dataLabelUpper', 'group', 'connector', 'shadowGroup'],\n\t\t\tprop,\n\t\t\ti = 6;\n\t\twhile (i--) {\n\t\t\tprop = props[i];\n\t\t\tif (point[prop]) {\n\t\t\t\tpoint[prop] = point[prop].destroy();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Return the configuration hash needed for the data label and tooltip formatters\n\t */\n\tgetLabelConfig: function () {\n\t\tvar point = this;\n\t\treturn {\n\t\t\tx: point.category,\n\t\t\ty: point.y,\n\t\t\tkey: point.name || point.category,\n\t\t\tseries: point.series,\n\t\t\tpoint: point,\n\t\t\tpercentage: point.percentage,\n\t\t\ttotal: point.total || point.stackTotal\n\t\t};\n\t},\n\n\t/**\n\t * Toggle the selection status of a point\n\t * @param {Boolean} selected Whether to select or unselect the point.\n\t * @param {Boolean} accumulate Whether to add to the previous selection. By default,\n\t *     this happens if the control key (Cmd on Mac) was pressed during clicking.\n\t */\n\tselect: function (selected, accumulate) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tchart = series.chart;\n\n\t\tselected = pick(selected, !point.selected);\n\n\t\t// fire the event with the defalut handler\n\t\tpoint.firePointEvent(selected ? 'select' : 'unselect', { accumulate: accumulate }, function () {\n\t\t\tpoint.selected = point.options.selected = selected;\n\t\t\tseries.options.data[inArray(point, series.data)] = point.options;\n\t\t\t\n\t\t\tpoint.setState(selected && SELECT_STATE);\n\n\t\t\t// unselect all other points unless Ctrl or Cmd + click\n\t\t\tif (!accumulate) {\n\t\t\t\teach(chart.getSelectedPoints(), function (loopPoint) {\n\t\t\t\t\tif (loopPoint.selected && loopPoint !== point) {\n\t\t\t\t\t\tloopPoint.selected = loopPoint.options.selected = false;\n\t\t\t\t\t\tseries.options.data[inArray(loopPoint, series.data)] = loopPoint.options;\n\t\t\t\t\t\tloopPoint.setState(NORMAL_STATE);\n\t\t\t\t\t\tloopPoint.firePointEvent('unselect');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Runs on mouse over the point\n\t */\n\tonMouseOver: function (e) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tchart = series.chart,\n\t\t\ttooltip = chart.tooltip,\n\t\t\thoverPoint = chart.hoverPoint;\n\n\t\t// set normal state to previous series\n\t\tif (hoverPoint && hoverPoint !== point) {\n\t\t\thoverPoint.onMouseOut();\n\t\t}\n\n\t\t// trigger the event\n\t\tpoint.firePointEvent('mouseOver');\n\n\t\t// update the tooltip\n\t\tif (tooltip && (!tooltip.shared || series.noSharedTooltip)) {\n\t\t\ttooltip.refresh(point, e);\n\t\t}\n\n\t\t// hover this\n\t\tpoint.setState(HOVER_STATE);\n\t\tchart.hoverPoint = point;\n\t},\n\t\n\t/**\n\t * Runs on mouse out from the point\n\t */\n\tonMouseOut: function () {\n\t\tvar chart = this.series.chart,\n\t\t\thoverPoints = chart.hoverPoints;\n\t\t\n\t\tif (!hoverPoints || inArray(this, hoverPoints) === -1) { // #887\n\t\t\tthis.firePointEvent('mouseOut');\n\t\n\t\t\tthis.setState();\n\t\t\tchart.hoverPoint = null;\n\t\t}\n\t},\n\n\t/**\n\t * Extendable method for formatting each point's tooltip line\n\t *\n\t * @return {String} A string to be concatenated in to the common tooltip text\n\t */\n\ttooltipFormatter: function (pointFormat) {\n\t\t\n\t\t// Insert options for valueDecimals, valuePrefix, and valueSuffix\n\t\tvar series = this.series,\n\t\t\tseriesTooltipOptions = series.tooltipOptions,\n\t\t\tvalueDecimals = pick(seriesTooltipOptions.valueDecimals, ''),\n\t\t\tvaluePrefix = seriesTooltipOptions.valuePrefix || '',\n\t\t\tvalueSuffix = seriesTooltipOptions.valueSuffix || '';\n\t\t\t\n\t\t// Loop over the point array map and replace unformatted values with sprintf formatting markup\n\t\teach(series.pointArrayMap || ['y'], function (key) {\n\t\t\tkey = '{point.' + key; // without the closing bracket\n\t\t\tif (valuePrefix || valueSuffix) {\n\t\t\t\tpointFormat = pointFormat.replace(key + '}', valuePrefix + key + '}' + valueSuffix);\n\t\t\t}\n\t\t\tpointFormat = pointFormat.replace(key + '}', key + ':,.' + valueDecimals + 'f}');\n\t\t});\n\t\t\n\t\treturn format(pointFormat, {\n\t\t\tpoint: this,\n\t\t\tseries: this.series\n\t\t});\n\t},\n\n\t/**\n\t * Update the point with new options (typically x/y data) and optionally redraw the series.\n\t *\n\t * @param {Object} options Point options as defined in the series.data array\n\t * @param {Boolean} redraw Whether to redraw the chart or wait for an explicit call\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t *\n\t */\n\tupdate: function (options, redraw, animation) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tgraphic = point.graphic,\n\t\t\ti,\n\t\t\tdata = series.data,\n\t\t\tchart = series.chart,\n\t\t\tseriesOptions = series.options;\n\n\t\tredraw = pick(redraw, true);\n\n\t\t// fire the event with a default handler of doing the update\n\t\tpoint.firePointEvent('update', { options: options }, function () {\n\n\t\t\tpoint.applyOptions(options);\n\n\t\t\t// update visuals\n\t\t\tif (isObject(options)) {\n\t\t\t\tseries.getAttribs();\n\t\t\t\tif (graphic) {\n\t\t\t\t\tif (options.marker && options.marker.symbol) {\n\t\t\t\t\t\tpoint.graphic = graphic.destroy();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgraphic.attr(point.pointAttr[point.state || '']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// record changes in the parallel arrays\n\t\t\ti = inArray(point, data);\n\t\t\tseries.xData[i] = point.x;\n\t\t\tseries.yData[i] = series.toYData ? series.toYData(point) : point.y;\n\t\t\tseries.zData[i] = point.z;\n\t\t\tseriesOptions.data[i] = point.options;\n\n\t\t\t// redraw\n\t\t\tseries.isDirty = series.isDirtyData = true;\n\t\t\tif (!series.fixedBox && series.hasCartesianSeries) { // #1906, #2320\n\t\t\t\tchart.isDirtyBox = true;\n\t\t\t}\n\t\t\t\n\t\t\tif (seriesOptions.legendType === 'point') { // #1831, #1885\n\t\t\t\tchart.legend.destroyItem(point);\n\t\t\t}\n\t\t\tif (redraw) {\n\t\t\t\tchart.redraw(animation);\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Remove a point and optionally redraw the series and if necessary the axes\n\t * @param {Boolean} redraw Whether to redraw the chart or wait for an explicit call\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t */\n\tremove: function (redraw, animation) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tpoints = series.points,\n\t\t\tchart = series.chart,\n\t\t\ti,\n\t\t\tdata = series.data;\n\n\t\tsetAnimation(animation, chart);\n\t\tredraw = pick(redraw, true);\n\n\t\t// fire the event with a default handler of removing the point\n\t\tpoint.firePointEvent('remove', null, function () {\n\n\t\t\t// splice all the parallel arrays\n\t\t\ti = inArray(point, data);\n\t\t\tif (data.length === points.length) {\n\t\t\t\tpoints.splice(i, 1);\t\t\t\n\t\t\t}\n\t\t\tdata.splice(i, 1);\n\t\t\tseries.options.data.splice(i, 1);\n\t\t\tseries.xData.splice(i, 1);\n\t\t\tseries.yData.splice(i, 1);\n\t\t\tseries.zData.splice(i, 1);\n\n\t\t\tpoint.destroy();\n\n\n\t\t\t// redraw\n\t\t\tseries.isDirty = true;\n\t\t\tseries.isDirtyData = true;\n\t\t\tif (redraw) {\n\t\t\t\tchart.redraw();\n\t\t\t}\n\t\t});\n\n\n\t},\n\n\t/**\n\t * Fire an event on the Point object. Must not be renamed to fireEvent, as this\n\t * causes a name clash in MooTools\n\t * @param {String} eventType\n\t * @param {Object} eventArgs Additional event arguments\n\t * @param {Function} defaultFunction Default event handler\n\t */\n\tfirePointEvent: function (eventType, eventArgs, defaultFunction) {\n\t\tvar point = this,\n\t\t\tseries = this.series,\n\t\t\tseriesOptions = series.options;\n\n\t\t// load event handlers on demand to save time on mouseover/out\n\t\tif (seriesOptions.point.events[eventType] || (point.options && point.options.events && point.options.events[eventType])) {\n\t\t\tthis.importEvents();\n\t\t}\n\n\t\t// add default handler if in selection mode\n\t\tif (eventType === 'click' && seriesOptions.allowPointSelect) {\n\t\t\tdefaultFunction = function (event) {\n\t\t\t\t// Control key is for Windows, meta (= Cmd key) for Mac, Shift for Opera\n\t\t\t\tpoint.select(null, event.ctrlKey || event.metaKey || event.shiftKey);\n\t\t\t};\n\t\t}\n\n\t\tfireEvent(this, eventType, eventArgs, defaultFunction);\n\t},\n\t/**\n\t * Import events from the series' and point's options. Only do it on\n\t * demand, to save processing time on hovering.\n\t */\n\timportEvents: function () {\n\t\tif (!this.hasImportedEvents) {\n\t\t\tvar point = this,\n\t\t\t\toptions = merge(point.series.options.point, point.options),\n\t\t\t\tevents = options.events,\n\t\t\t\teventType;\n\n\t\t\tpoint.events = events;\n\n\t\t\tfor (eventType in events) {\n\t\t\t\taddEvent(point, eventType, events[eventType]);\n\t\t\t}\n\t\t\tthis.hasImportedEvents = true;\n\n\t\t}\n\t},\n\n\t/**\n\t * Set the point's state\n\t * @param {String} state\n\t */\n\tsetState: function (state) {\n\t\tvar point = this,\n\t\t\tplotX = point.plotX,\n\t\t\tplotY = point.plotY,\n\t\t\tseries = point.series,\n\t\t\tstateOptions = series.options.states,\n\t\t\tmarkerOptions = defaultPlotOptions[series.type].marker && series.options.marker,\n\t\t\tnormalDisabled = markerOptions && !markerOptions.enabled,\n\t\t\tmarkerStateOptions = markerOptions && markerOptions.states[state],\n\t\t\tstateDisabled = markerStateOptions && markerStateOptions.enabled === false,\n\t\t\tstateMarkerGraphic = series.stateMarkerGraphic,\n\t\t\tpointMarker = point.marker || {},\n\t\t\tchart = series.chart,\n\t\t\tradius,\n\t\t\tnewSymbol,\n\t\t\tpointAttr = point.pointAttr;\n\n\t\tstate = state || NORMAL_STATE; // empty string\n\n\t\tif (\n\t\t\t\t// already has this state\n\t\t\t\tstate === point.state ||\n\t\t\t\t// selected points don't respond to hover\n\t\t\t\t(point.selected && state !== SELECT_STATE) ||\n\t\t\t\t// series' state options is disabled\n\t\t\t\t(stateOptions[state] && stateOptions[state].enabled === false) ||\n\t\t\t\t// point marker's state options is disabled\n\t\t\t\t(state && (stateDisabled || (normalDisabled && !markerStateOptions.enabled)))\n\n\t\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\t// apply hover styles to the existing point\n\t\tif (point.graphic) {\n\t\t\tradius = markerOptions && point.graphic.symbolName && pointAttr[state].r;\n\t\t\tpoint.graphic.attr(merge(\n\t\t\t\tpointAttr[state],\n\t\t\t\tradius ? { // new symbol attributes (#507, #612)\n\t\t\t\t\tx: plotX - radius,\n\t\t\t\t\ty: plotY - radius,\n\t\t\t\t\twidth: 2 * radius,\n\t\t\t\t\theight: 2 * radius\n\t\t\t\t} : {}\n\t\t\t));\n\t\t} else {\n\t\t\t// if a graphic is not applied to each point in the normal state, create a shared\n\t\t\t// graphic for the hover state\n\t\t\tif (state && markerStateOptions) {\n\t\t\t\tradius = markerStateOptions.radius;\n\t\t\t\tnewSymbol = pointMarker.symbol || series.symbol;\n\n\t\t\t\t// If the point has another symbol than the previous one, throw away the \n\t\t\t\t// state marker graphic and force a new one (#1459)\n\t\t\t\tif (stateMarkerGraphic && stateMarkerGraphic.currentSymbol !== newSymbol) {\t\t\t\t\n\t\t\t\t\tstateMarkerGraphic = stateMarkerGraphic.destroy();\n\t\t\t\t}\n\n\t\t\t\t// Add a new state marker graphic\n\t\t\t\tif (!stateMarkerGraphic) {\n\t\t\t\t\tseries.stateMarkerGraphic = stateMarkerGraphic = chart.renderer.symbol(\n\t\t\t\t\t\tnewSymbol,\n\t\t\t\t\t\tplotX - radius,\n\t\t\t\t\t\tplotY - radius,\n\t\t\t\t\t\t2 * radius,\n\t\t\t\t\t\t2 * radius\n\t\t\t\t\t)\n\t\t\t\t\t.attr(pointAttr[state])\n\t\t\t\t\t.add(series.markerGroup);\n\t\t\t\t\tstateMarkerGraphic.currentSymbol = newSymbol;\n\t\t\t\t\n\t\t\t\t// Move the existing graphic\n\t\t\t\t} else {\n\t\t\t\t\tstateMarkerGraphic.attr({ // #1054\n\t\t\t\t\t\tx: plotX - radius,\n\t\t\t\t\t\ty: plotY - radius\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (stateMarkerGraphic) {\n\t\t\t\tstateMarkerGraphic[state && chart.isInsidePlot(plotX, plotY) ? 'show' : 'hide']();\n\t\t\t}\n\t\t}\n\n\t\tpoint.state = state;\n\t}\n};\n\n/**\n * @classDescription The base function which all other series types inherit from. The data in the series is stored\n * in various arrays.\n *\n * - First, series.options.data contains all the original config options for\n * each point whether added by options or methods like series.addPoint.\n * - Next, series.data contains those values converted to points, but in case the series data length\n * exceeds the cropThreshold, or if the data is grouped, series.data doesn't contain all the points. It\n * only contains the points that have been created on demand.\n * - Then there's series.points that contains all currently visible point objects. In case of cropping,\n * the cropped-away points are not part of this array. The series.points array starts at series.cropStart\n * compared to series.data and series.options.data. If however the series data is grouped, these can't\n * be correlated one to one.\n * - series.xData and series.processedXData contain clean x values, equivalent to series.data and series.points.\n * - series.yData and series.processedYData contain clean x values, equivalent to series.data and series.points.\n *\n * @param {Object} chart\n * @param {Object} options\n */\nvar Series = function () {};\n\nSeries.prototype = {\n\n\tisCartesian: true,\n\ttype: 'line',\n\tpointClass: Point,\n\tsorted: true, // requires the data to be sorted\n\trequireSorting: true,\n\tpointAttrToOptions: { // mapping between SVG attributes and the corresponding options\n\t\tstroke: 'lineColor',\n\t\t'stroke-width': 'lineWidth',\n\t\tfill: 'fillColor',\n\t\tr: 'radius'\n\t},\n\tcolorCounter: 0,\n\tinit: function (chart, options) {\n\t\tvar series = this,\n\t\t\teventType,\n\t\t\tevents,\n\t\t\tchartSeries = chart.series;\n\n\t\tseries.chart = chart;\n\t\tseries.options = options = series.setOptions(options); // merge with plotOptions\n\t\tseries.linkedSeries = [];\n\n\t\t// bind the axes\n\t\tseries.bindAxes();\n\n\t\t// set some variables\n\t\textend(series, {\n\t\t\tname: options.name,\n\t\t\tstate: NORMAL_STATE,\n\t\t\tpointAttr: {},\n\t\t\tvisible: options.visible !== false, // true by default\n\t\t\tselected: options.selected === true // false by default\n\t\t});\n\t\t\n\t\t// special\n\t\tif (useCanVG) {\n\t\t\toptions.animation = false;\n\t\t}\n\n\t\t// register event listeners\n\t\tevents = options.events;\n\t\tfor (eventType in events) {\n\t\t\taddEvent(series, eventType, events[eventType]);\n\t\t}\n\t\tif (\n\t\t\t(events && events.click) ||\n\t\t\t(options.point && options.point.events && options.point.events.click) ||\n\t\t\toptions.allowPointSelect\n\t\t) {\n\t\t\tchart.runTrackerClick = true;\n\t\t}\n\n\t\tseries.getColor();\n\t\tseries.getSymbol();\n\n\t\t// set the data\n\t\tseries.setData(options.data, false);\n\t\t\n\t\t// Mark cartesian\n\t\tif (series.isCartesian) {\n\t\t\tchart.hasCartesianSeries = true;\n\t\t}\n\n\t\t// Register it in the chart\n\t\tchartSeries.push(series);\n\t\tseries._i = chartSeries.length - 1;\n\t\t\n\t\t// Sort series according to index option (#248, #1123)\n\t\tstableSort(chartSeries, function (a, b) {\n\t\t\treturn pick(a.options.index, a._i) - pick(b.options.index, a._i);\n\t\t});\n\t\teach(chartSeries, function (series, i) {\n\t\t\tseries.index = i;\n\t\t\tseries.name = series.name || 'Series ' + (i + 1);\n\t\t});\n\n\t},\n\t\n\t/**\n\t * Set the xAxis and yAxis properties of cartesian series, and register the series\n\t * in the axis.series array\n\t */\n\tbindAxes: function () {\n\t\tvar series = this,\n\t\t\tseriesOptions = series.options,\n\t\t\tchart = series.chart,\n\t\t\taxisOptions;\n\t\t\t\n\t\tif (series.isCartesian) {\n\t\t\t\n\t\t\teach(['xAxis', 'yAxis'], function (AXIS) { // repeat for xAxis and yAxis\n\t\t\t\t\n\t\t\t\teach(chart[AXIS], function (axis) { // loop through the chart's axis objects\n\t\t\t\t\t\n\t\t\t\t\taxisOptions = axis.options;\n\t\t\t\t\t\n\t\t\t\t\t// apply if the series xAxis or yAxis option mathches the number of the \n\t\t\t\t\t// axis, or if undefined, use the first axis\n\t\t\t\t\tif ((seriesOptions[AXIS] === axisOptions.index) ||\n\t\t\t\t\t\t\t(seriesOptions[AXIS] !== UNDEFINED && seriesOptions[AXIS] === axisOptions.id) ||\n\t\t\t\t\t\t\t(seriesOptions[AXIS] === UNDEFINED && axisOptions.index === 0)) {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// register this series in the axis.series lookup\n\t\t\t\t\t\taxis.series.push(series);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// set this series.xAxis or series.yAxis reference\n\t\t\t\t\t\tseries[AXIS] = axis;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// mark dirty for redraw\n\t\t\t\t\t\taxis.isDirty = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// The series needs an X and an Y axis\n\t\t\t\tif (!series[AXIS]) {\n\t\t\t\t\terror(18, true);\n\t\t\t\t}\n\n\t\t\t});\n\t\t}\n\t},\n\n\n\t/**\n\t * Return an auto incremented x value based on the pointStart and pointInterval options.\n\t * This is only used if an x value is not given for the point that calls autoIncrement.\n\t */\n\tautoIncrement: function () {\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\txIncrement = series.xIncrement;\n\n\t\txIncrement = pick(xIncrement, options.pointStart, 0);\n\n\t\tseries.pointInterval = pick(series.pointInterval, options.pointInterval, 1);\n\n\t\tseries.xIncrement = xIncrement + series.pointInterval;\n\t\treturn xIncrement;\n\t},\n\n\t/**\n\t * Divide the series data into segments divided by null values.\n\t */\n\tgetSegments: function () {\n\t\tvar series = this,\n\t\t\tlastNull = -1,\n\t\t\tsegments = [],\n\t\t\ti,\n\t\t\tpoints = series.points,\n\t\t\tpointsLength = points.length;\n\n\t\tif (pointsLength) { // no action required for []\n\t\t\t\n\t\t\t// if connect nulls, just remove null points\n\t\t\tif (series.options.connectNulls) {\n\t\t\t\ti = pointsLength;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tif (points[i].y === null) {\n\t\t\t\t\t\tpoints.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (points.length) {\n\t\t\t\t\tsegments = [points];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t// else, split on null points\n\t\t\t} else {\n\t\t\t\teach(points, function (point, i) {\n\t\t\t\t\tif (point.y === null) {\n\t\t\t\t\t\tif (i > lastNull + 1) {\n\t\t\t\t\t\t\tsegments.push(points.slice(lastNull + 1, i));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlastNull = i;\n\t\t\t\t\t} else if (i === pointsLength - 1) { // last value\n\t\t\t\t\t\tsegments.push(points.slice(lastNull + 1, i + 1));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t// register it\n\t\tseries.segments = segments;\n\t},\n\t\n\t/**\n\t * Set the series options by merging from the options tree\n\t * @param {Object} itemOptions\n\t */\n\tsetOptions: function (itemOptions) {\n\t\tvar chart = this.chart,\n\t\t\tchartOptions = chart.options,\n\t\t\tplotOptions = chartOptions.plotOptions,\n\t\t\ttypeOptions = plotOptions[this.type],\n\t\t\toptions;\n\n\t\tthis.userOptions = itemOptions;\n\n\t\toptions = merge(\n\t\t\ttypeOptions,\n\t\t\tplotOptions.series,\n\t\t\titemOptions\n\t\t);\n\t\t\n\t\t// the tooltip options are merged between global and series specific options\n\t\tthis.tooltipOptions = merge(chartOptions.tooltip, options.tooltip);\n\t\t\n\t\t// Delte marker object if not allowed (#1125)\n\t\tif (typeOptions.marker === null) {\n\t\t\tdelete options.marker;\n\t\t}\n\t\t\n\t\treturn options;\n\n\t},\n\t/**\n\t * Get the series' color\n\t */\n\tgetColor: function () {\n\t\tvar options = this.options,\n\t\t\tuserOptions = this.userOptions,\n\t\t\tdefaultColors = this.chart.options.colors,\n\t\t\tcounters = this.chart.counters,\n\t\t\tcolor,\n\t\t\tcolorIndex;\n\n\t\tcolor = options.color || defaultPlotOptions[this.type].color;\n\n\t\tif (!color && !options.colorByPoint) {\n\t\t\tif (defined(userOptions._colorIndex)) { // after Series.update()\n\t\t\t\tcolorIndex = userOptions._colorIndex;\n\t\t\t} else {\n\t\t\t\tuserOptions._colorIndex = counters.color;\n\t\t\t\tcolorIndex = counters.color++;\n\t\t\t}\n\t\t\tcolor = defaultColors[colorIndex];\n\t\t}\n\t\t\n\t\tthis.color = color;\n\t\tcounters.wrapColor(defaultColors.length);\n\t},\n\t/**\n\t * Get the series' symbol\n\t */\n\tgetSymbol: function () {\n\t\tvar series = this,\n\t\t\tuserOptions = series.userOptions,\n\t\t\tseriesMarkerOption = series.options.marker,\n\t\t\tchart = series.chart,\n\t\t\tdefaultSymbols = chart.options.symbols,\n\t\t\tcounters = chart.counters,\n\t\t\tsymbolIndex;\n\n\t\tseries.symbol = seriesMarkerOption.symbol;\n\t\tif (!series.symbol) {\n\t\t\tif (defined(userOptions._symbolIndex)) { // after Series.update()\n\t\t\t\tsymbolIndex = userOptions._symbolIndex;\n\t\t\t} else {\n\t\t\t\tuserOptions._symbolIndex = counters.symbol;\n\t\t\t\tsymbolIndex = counters.symbol++;\n\t\t\t}\n\t\t\tseries.symbol = defaultSymbols[symbolIndex];\n\t\t}\n\n\t\t// don't substract radius in image symbols (#604)\n\t\tif (/^url/.test(series.symbol)) {\n\t\t\tseriesMarkerOption.radius = 0;\n\t\t}\n\t\tcounters.wrapSymbol(defaultSymbols.length);\n\t},\n\n\t/**\n\t * Get the series' symbol in the legend. This method should be overridable to create custom \n\t * symbols through Highcharts.seriesTypes[type].prototype.drawLegendSymbols.\n\t * \n\t * @param {Object} legend The legend object\n\t */\n\tdrawLegendSymbol: function (legend) {\n\t\t\n\t\tvar options = this.options,\n\t\t\tmarkerOptions = options.marker,\n\t\t\tradius,\n\t\t\tlegendOptions = legend.options,\n\t\t\tlegendSymbol,\n\t\t\tsymbolWidth = legendOptions.symbolWidth,\n\t\t\trenderer = this.chart.renderer,\n\t\t\tlegendItemGroup = this.legendGroup,\n\t\t\tverticalCenter = legend.baseline - mathRound(renderer.fontMetrics(legendOptions.itemStyle.fontSize).b * 0.3),\n\t\t\tattr;\n\t\t\t\n\t\t// Draw the line\n\t\tif (options.lineWidth) {\n\t\t\tattr = {\n\t\t\t\t'stroke-width': options.lineWidth\n\t\t\t};\n\t\t\tif (options.dashStyle) {\n\t\t\t\tattr.dashstyle = options.dashStyle;\n\t\t\t}\n\t\t\tthis.legendLine = renderer.path([\n\t\t\t\tM,\n\t\t\t\t0,\n\t\t\t\tverticalCenter,\n\t\t\t\tL,\n\t\t\t\tsymbolWidth,\n\t\t\t\tverticalCenter\n\t\t\t])\n\t\t\t.attr(attr)\n\t\t\t.add(legendItemGroup);\n\t\t}\n\t\t\n\t\t// Draw the marker\n\t\tif (markerOptions && markerOptions.enabled) {\n\t\t\tradius = markerOptions.radius;\n\t\t\tthis.legendSymbol = legendSymbol = renderer.symbol(\n\t\t\t\tthis.symbol,\n\t\t\t\t(symbolWidth / 2) - radius,\n\t\t\t\tverticalCenter - radius,\n\t\t\t\t2 * radius,\n\t\t\t\t2 * radius\n\t\t\t)\n\t\t\t.add(legendItemGroup);\n\t\t\tlegendSymbol.isMarker = true;\n\t\t}\n\t},\n\n\t/**\n\t * Add a point dynamically after chart load time\n\t * @param {Object} options Point options as given in series.data\n\t * @param {Boolean} redraw Whether to redraw the chart or wait for an explicit call\n\t * @param {Boolean} shift If shift is true, a point is shifted off the start\n\t *    of the series as one is appended to the end.\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t */\n\taddPoint: function (options, redraw, shift, animation) {\n\t\tvar series = this,\n\t\t\tseriesOptions = series.options,\n\t\t\tdata = series.data,\n\t\t\tgraph = series.graph,\n\t\t\tarea = series.area,\n\t\t\tchart = series.chart,\n\t\t\txData = series.xData,\n\t\t\tyData = series.yData,\n\t\t\tzData = series.zData,\n\t\t\tnames = series.names,\n\t\t\tcurrentShift = (graph && graph.shift) || 0,\n\t\t\tdataOptions = seriesOptions.data,\n\t\t\tpoint,\n\t\t\tisInTheMiddle,\n\t\t\tx,\n\t\t\ti;\n\n\t\tsetAnimation(animation, chart);\n\n\t\t// Make graph animate sideways\n\t\tif (shift) {\n\t\t\teach([graph, area, series.graphNeg, series.areaNeg], function (shape) {\n\t\t\t\tif (shape) {\n\t\t\t\t\tshape.shift = currentShift + 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (area) {\n\t\t\tarea.isArea = true; // needed in animation, both with and without shift\n\t\t}\n\t\t\n\t\t// Optional redraw, defaults to true\n\t\tredraw = pick(redraw, true);\n\n\t\t// Get options and push the point to xData, yData and series.options. In series.generatePoints\n\t\t// the Point instance will be created on demand and pushed to the series.data array.\n\t\tpoint = { series: series };\n\t\tseries.pointClass.prototype.applyOptions.apply(point, [options]);\n\t\tx = point.x;\n\n\t\t// Get the insertion point\n\t\ti = xData.length;\n\t\tif (series.requireSorting && x < xData[i - 1]) {\n\t\t\tisInTheMiddle = true;\n\t\t\twhile (i && xData[i - 1] > x) {\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\t\t\n\t\txData.splice(i, 0, x);\n\t\tyData.splice(i, 0, series.toYData ? series.toYData(point) : point.y);\n\t\tzData.splice(i, 0, point.z);\n\t\tif (names) {\n\t\t\tnames[x] = point.name;\n\t\t}\n\t\tdataOptions.splice(i, 0, options);\n\n\t\tif (isInTheMiddle) {\n\t\t\tseries.data.splice(i, 0, null);\n\t\t\tseries.processData();\n\t\t}\n\t\t\n\t\t// Generate points to be added to the legend (#1329) \n\t\tif (seriesOptions.legendType === 'point') {\n\t\t\tseries.generatePoints();\n\t\t}\n\n\t\t// Shift the first point off the parallel arrays\n\t\t// todo: consider series.removePoint(i) method\n\t\tif (shift) {\n\t\t\tif (data[0] && data[0].remove) {\n\t\t\t\tdata[0].remove(false);\n\t\t\t} else {\n\t\t\t\tdata.shift();\n\t\t\t\txData.shift();\n\t\t\t\tyData.shift();\n\t\t\t\tzData.shift();\n\t\t\t\tdataOptions.shift();\n\t\t\t}\n\t\t}\n\n\t\t// redraw\n\t\tseries.isDirty = true;\n\t\tseries.isDirtyData = true;\n\t\tif (redraw) {\n\t\t\tseries.getAttribs(); // #1937\n\t\t\tchart.redraw();\n\t\t}\n\t},\n\n\t/**\n\t * Replace the series data with a new set of data\n\t * @param {Object} data\n\t * @param {Object} redraw\n\t */\n\tsetData: function (data, redraw) {\n\t\tvar series = this,\n\t\t\toldData = series.points,\n\t\t\toptions = series.options,\n\t\t\tchart = series.chart,\n\t\t\tfirstPoint = null,\n\t\t\txAxis = series.xAxis,\n\t\t\tnames = xAxis && xAxis.categories && !xAxis.categories.length ? [] : null,\n\t\t\ti;\n\n\t\t// reset properties\n\t\tseries.xIncrement = null;\n\t\tseries.pointRange = xAxis && xAxis.categories ? 1 : options.pointRange;\n\n\t\tseries.colorCounter = 0; // for series with colorByPoint (#1547)\n\t\t\n\t\t// parallel arrays\n\t\tvar xData = [],\n\t\t\tyData = [],\n\t\t\tzData = [],\n\t\t\tdataLength = data ? data.length : [],\n\t\t\tturboThreshold = pick(options.turboThreshold, 1000),\n\t\t\tpt,\n\t\t\tpointArrayMap = series.pointArrayMap,\n\t\t\tvalueCount = pointArrayMap && pointArrayMap.length,\n\t\t\thasToYData = !!series.toYData;\n\n\t\t// In turbo mode, only one- or twodimensional arrays of numbers are allowed. The\n\t\t// first value is tested, and we assume that all the rest are defined the same\n\t\t// way. Although the 'for' loops are similar, they are repeated inside each\n\t\t// if-else conditional for max performance.\n\t\tif (turboThreshold && dataLength > turboThreshold) { \n\t\t\t\n\t\t\t// find the first non-null point\n\t\t\ti = 0;\n\t\t\twhile (firstPoint === null && i < dataLength) {\n\t\t\t\tfirstPoint = data[i];\n\t\t\t\ti++;\n\t\t\t}\n\t\t\n\t\t\n\t\t\tif (isNumber(firstPoint)) { // assume all points are numbers\n\t\t\t\tvar x = pick(options.pointStart, 0),\n\t\t\t\t\tpointInterval = pick(options.pointInterval, 1);\n\n\t\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\t\txData[i] = x;\n\t\t\t\t\tyData[i] = data[i];\n\t\t\t\t\tx += pointInterval;\n\t\t\t\t}\n\t\t\t\tseries.xIncrement = x;\n\t\t\t} else if (isArray(firstPoint)) { // assume all points are arrays\n\t\t\t\tif (valueCount) { // [x, low, high] or [x, o, h, l, c]\n\t\t\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\t\t\tpt = data[i];\n\t\t\t\t\t\txData[i] = pt[0];\n\t\t\t\t\t\tyData[i] = pt.slice(1, valueCount + 1);\n\t\t\t\t\t}\n\t\t\t\t} else { // [x, y]\n\t\t\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\t\t\tpt = data[i];\n\t\t\t\t\t\txData[i] = pt[0];\n\t\t\t\t\t\tyData[i] = pt[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\terror(12); // Highcharts expects configs to be numbers or arrays in turbo mode\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\tif (data[i] !== UNDEFINED) { // stray commas in oldIE\n\t\t\t\t\tpt = { series: series };\n\t\t\t\t\tseries.pointClass.prototype.applyOptions.apply(pt, [data[i]]);\n\t\t\t\t\txData[i] = pt.x;\n\t\t\t\t\tyData[i] = hasToYData ? series.toYData(pt) : pt.y;\n\t\t\t\t\tzData[i] = pt.z;\n\t\t\t\t\tif (names && pt.name) {\n\t\t\t\t\t\tnames[pt.x] = pt.name; // #2046\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Forgetting to cast strings to numbers is a common caveat when handling CSV or JSON\t\t\n\t\tif (isString(yData[0])) {\n\t\t\terror(14, true);\n\t\t} \n\n\t\tseries.data = [];\n\t\tseries.options.data = data;\n\t\tseries.xData = xData;\n\t\tseries.yData = yData;\n\t\tseries.zData = zData;\n\t\tseries.names = names;\n\n\t\t// destroy old points\n\t\ti = (oldData && oldData.length) || 0;\n\t\twhile (i--) {\n\t\t\tif (oldData[i] && oldData[i].destroy) {\n\t\t\t\toldData[i].destroy();\n\t\t\t}\n\t\t}\n\n\t\t// reset minRange (#878)\n\t\tif (xAxis) {\n\t\t\txAxis.minRange = xAxis.userMinRange;\n\t\t}\n\n\t\t// redraw\n\t\tseries.isDirty = series.isDirtyData = chart.isDirtyBox = true;\n\t\tif (pick(redraw, true)) {\n\t\t\tchart.redraw(false);\n\t\t}\n\t},\n\n\t/**\n\t * Remove a series and optionally redraw the chart\n\t *\n\t * @param {Boolean} redraw Whether to redraw the chart or wait for an explicit call\n\t * @param {Boolean|Object} animation Whether to apply animation, and optionally animation\n\t *    configuration\n\t */\n\n\tremove: function (redraw, animation) {\n\t\tvar series = this,\n\t\t\tchart = series.chart;\n\t\tredraw = pick(redraw, true);\n\n\t\tif (!series.isRemoving) {  /* prevent triggering native event in jQuery\n\t\t\t\t(calling the remove function from the remove event) */\n\t\t\tseries.isRemoving = true;\n\n\t\t\t// fire the event with a default handler of removing the point\n\t\t\tfireEvent(series, 'remove', null, function () {\n\n\n\t\t\t\t// destroy elements\n\t\t\t\tseries.destroy();\n\n\n\t\t\t\t// redraw\n\t\t\t\tchart.isDirtyLegend = chart.isDirtyBox = true;\n\t\t\t\tchart.linkSeries();\n\t\t\t\t\n\t\t\t\tif (redraw) {\n\t\t\t\t\tchart.redraw(animation);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\t\tseries.isRemoving = false;\n\t},\n\n\t/**\n\t * Process the data by cropping away unused data points if the series is longer\n\t * than the crop threshold. This saves computing time for lage series.\n\t */\n\tprocessData: function (force) {\n\t\tvar series = this,\n\t\t\tprocessedXData = series.xData, // copied during slice operation below\n\t\t\tprocessedYData = series.yData,\n\t\t\tdataLength = processedXData.length,\n\t\t\tcroppedData,\n\t\t\tcropStart = 0,\n\t\t\tcropped,\n\t\t\tdistance,\n\t\t\tclosestPointRange,\n\t\t\txAxis = series.xAxis,\n\t\t\ti, // loop variable\n\t\t\toptions = series.options,\n\t\t\tcropThreshold = options.cropThreshold,\n\t\t\tisCartesian = series.isCartesian;\n\n\t\t// If the series data or axes haven't changed, don't go through this. Return false to pass\n\t\t// the message on to override methods like in data grouping. \n\t\tif (isCartesian && !series.isDirty && !xAxis.isDirty && !series.yAxis.isDirty && !force) {\n\t\t\treturn false;\n\t\t}\n\t\t\n\n\t\t// optionally filter out points outside the plot area\n\t\tif (isCartesian && series.sorted && (!cropThreshold || dataLength > cropThreshold || series.forceCrop)) {\n\t\t\tvar min = xAxis.min,\n\t\t\t\tmax = xAxis.max;\n\n\t\t\t// it's outside current extremes\n\t\t\tif (processedXData[dataLength - 1] < min || processedXData[0] > max) {\n\t\t\t\tprocessedXData = [];\n\t\t\t\tprocessedYData = [];\n\t\t\t\n\t\t\t// only crop if it's actually spilling out\n\t\t\t} else if (processedXData[0] < min || processedXData[dataLength - 1] > max) {\n\t\t\t\tcroppedData = this.cropData(series.xData, series.yData, min, max);\n\t\t\t\tprocessedXData = croppedData.xData;\n\t\t\t\tprocessedYData = croppedData.yData;\n\t\t\t\tcropStart = croppedData.start;\n\t\t\t\tcropped = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// Find the closest distance between processed points\n\t\tfor (i = processedXData.length - 1; i >= 0; i--) {\n\t\t\tdistance = processedXData[i] - processedXData[i - 1];\n\t\t\tif (distance > 0 && (closestPointRange === UNDEFINED || distance < closestPointRange)) {\n\t\t\t\tclosestPointRange = distance;\n\n\t\t\t// Unsorted data is not supported by the line tooltip, as well as data grouping and \n\t\t\t// navigation in Stock charts (#725) and width calculation of columns (#1900)\n\t\t\t} else if (distance < 0 && series.requireSorting) {\n\t\t\t\terror(15);\n\t\t\t}\n\t\t}\n\n\t\t// Record the properties\n\t\tseries.cropped = cropped; // undefined or true\n\t\tseries.cropStart = cropStart;\n\t\tseries.processedXData = processedXData;\n\t\tseries.processedYData = processedYData;\n\n\t\tif (options.pointRange === null) { // null means auto, as for columns, candlesticks and OHLC\n\t\t\tseries.pointRange = closestPointRange || 1;\n\t\t}\n\t\tseries.closestPointRange = closestPointRange;\n\t\t\n\t},\n\n\t/**\n\t * Iterate over xData and crop values between min and max. Returns object containing crop start/end\n\t * cropped xData with corresponding part of yData, dataMin and dataMax within the cropped range\n\t */\n\tcropData: function (xData, yData, min, max) {\n\t\tvar dataLength = xData.length,\n\t\t\tcropStart = 0,\n\t\t\tcropEnd = dataLength,\n\t\t\tcropShoulder = pick(this.cropShoulder, 1), // line-type series need one point outside\n\t\t\ti;\n\n\t\t// iterate up to find slice start\n\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\tif (xData[i] >= min) {\n\t\t\t\tcropStart = mathMax(0, i - cropShoulder);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// proceed to find slice end\n\t\tfor (; i < dataLength; i++) {\n\t\t\tif (xData[i] > max) {\n\t\t\t\tcropEnd = i + cropShoulder;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\txData: xData.slice(cropStart, cropEnd),\n\t\t\tyData: yData.slice(cropStart, cropEnd),\n\t\t\tstart: cropStart,\n\t\t\tend: cropEnd\n\t\t};\n\t},\n\n\n\t/**\n\t * Generate the data point after the data has been processed by cropping away\n\t * unused points and optionally grouped in Highcharts Stock.\n\t */\n\tgeneratePoints: function () {\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\tdataOptions = options.data,\n\t\t\tdata = series.data,\n\t\t\tdataLength,\n\t\t\tprocessedXData = series.processedXData,\n\t\t\tprocessedYData = series.processedYData,\n\t\t\tpointClass = series.pointClass,\n\t\t\tprocessedDataLength = processedXData.length,\n\t\t\tcropStart = series.cropStart || 0,\n\t\t\tcursor,\n\t\t\thasGroupedData = series.hasGroupedData,\n\t\t\tpoint,\n\t\t\tpoints = [],\n\t\t\ti;\n\n\t\tif (!data && !hasGroupedData) {\n\t\t\tvar arr = [];\n\t\t\tarr.length = dataOptions.length;\n\t\t\tdata = series.data = arr;\n\t\t}\n\n\t\tfor (i = 0; i < processedDataLength; i++) {\n\t\t\tcursor = cropStart + i;\n\t\t\tif (!hasGroupedData) {\n\t\t\t\tif (data[cursor]) {\n\t\t\t\t\tpoint = data[cursor];\n\t\t\t\t} else if (dataOptions[cursor] !== UNDEFINED) { // #970\n\t\t\t\t\tdata[cursor] = point = (new pointClass()).init(series, dataOptions[cursor], processedXData[i]);\n\t\t\t\t}\n\t\t\t\tpoints[i] = point;\n\t\t\t} else {\n\t\t\t\t// splat the y data in case of ohlc data array\n\t\t\t\tpoints[i] = (new pointClass()).init(series, [processedXData[i]].concat(splat(processedYData[i])));\n\t\t\t}\n\t\t}\n\n\t\t// Hide cropped-away points - this only runs when the number of points is above cropThreshold, or when\n\t\t// swithching view from non-grouped data to grouped data (#637)\t\n\t\tif (data && (processedDataLength !== (dataLength = data.length) || hasGroupedData)) {\n\t\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\t\tif (i === cropStart && !hasGroupedData) { // when has grouped data, clear all points\n\t\t\t\t\ti += processedDataLength;\n\t\t\t\t}\n\t\t\t\tif (data[i]) {\n\t\t\t\t\tdata[i].destroyElements();\n\t\t\t\t\tdata[i].plotX = UNDEFINED; // #1003\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tseries.data = data;\n\t\tseries.points = points;\n\t},\n\n\t/**\n\t * Adds series' points value to corresponding stack\n\t */\n\tsetStackedPoints: function () {\n\t\tif (!this.options.stacking || (this.visible !== true && this.chart.options.chart.ignoreHiddenSeries !== false)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar series = this,\n\t\t\txData = series.processedXData,\n\t\t\tyData = series.processedYData,\n\t\t\tstackedYData = [],\n\t\t\tyDataLength = yData.length,\n\t\t\tseriesOptions = series.options,\n\t\t\tthreshold = seriesOptions.threshold,\n\t\t\tstackOption = seriesOptions.stack,\n\t\t\tstacking = seriesOptions.stacking,\n\t\t\tstackKey = series.stackKey,\n\t\t\tnegKey = '-' + stackKey,\n\t\t\tnegStacks = series.negStacks,\n\t\t\tyAxis = series.yAxis,\n\t\t\tstacks = yAxis.stacks,\n\t\t\toldStacks = yAxis.oldStacks,\n\t\t\tisNegative,\n\t\t\tstack,\n\t\t\tother,\n\t\t\tkey,\n\t\t\ti,\n\t\t\tx,\n\t\t\ty;\n\n\t\t// loop over the non-null y values and read them into a local array\n\t\tfor (i = 0; i < yDataLength; i++) {\n\t\t\tx = xData[i];\n\t\t\ty = yData[i];\n\n\t\t\t// Read stacked values into a stack based on the x value,\n\t\t\t// the sign of y and the stack key. Stacking is also handled for null values (#739)\n\t\t\tisNegative = negStacks && y < threshold;\n\t\t\tkey = isNegative ? negKey : stackKey;\n\n\t\t\t// Create empty object for this stack if it doesn't exist yet\n\t\t\tif (!stacks[key]) {\n\t\t\t\tstacks[key] = {};\n\t\t\t}\n\n\t\t\t// Initialize StackItem for this x\n\t\t\tif (!stacks[key][x]) {\n\t\t\t\tif (oldStacks[key] && oldStacks[key][x]) {\n\t\t\t\t\tstacks[key][x] = oldStacks[key][x];\n\t\t\t\t\tstacks[key][x].total = null;\n\t\t\t\t} else {\n\t\t\t\t\tstacks[key][x] = new StackItem(yAxis, yAxis.options.stackLabels, isNegative, x, stackOption, stacking);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If the StackItem doesn't exist, create it first\n\t\t\tstack = stacks[key][x];\n\t\t\tstack.points[series.index] = [stack.cum || 0];\n\n\t\t\t// Add value to the stack total\n\t\t\tif (stacking === 'percent') {\n\t\t\t\t\n\t\t\t\t// Percent stacked column, totals are the same for the positive and negative stacks\n\t\t\t\tother = isNegative ? stackKey : negKey;\n\t\t\t\tif (negStacks && stacks[other] && stacks[other][x]) {\n\t\t\t\t\tother = stacks[other][x];\n\t\t\t\t\tstack.total = other.total = mathMax(other.total, stack.total) + mathAbs(y) || 0;\n\n\t\t\t\t// Percent stacked areas\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tstack.total += mathAbs(y) || 0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstack.total += y || 0;\n\t\t\t}\n\n\t\t\tstack.cum = (stack.cum || 0) + (y || 0);\n\n\t\t\tstack.points[series.index].push(stack.cum);\n\t\t\tstackedYData[i] = stack.cum;\n\n\t\t}\n\n\t\tif (stacking === 'percent') {\n\t\t\tyAxis.usePercentage = true;\n\t\t}\n\n\t\tthis.stackedYData = stackedYData; // To be used in getExtremes\n\t\t\n\t\t// Reset old stacks\n\t\tyAxis.oldStacks = {};\n\t},\n\n\t/**\n\t * Iterate over all stacks and compute the absolute values to percent\n\t */\n\tsetPercentStacks: function () {\n\t\tvar series = this,\n\t\t\tstackKey = series.stackKey,\n\t\t\tstacks = series.yAxis.stacks;\n\t\t\n\t\teach([stackKey, '-' + stackKey], function (key) {\n\t\t\tvar i = series.xData.length,\n\t\t\t\tx,\n\t\t\t\tstack,\n\t\t\t\tpointExtremes,\n\t\t\t\ttotalFactor;\n\n\t\t\twhile (i--) {\n\t\t\t\tx = series.xData[i];\n\t\t\t\tstack = stacks[key] && stacks[key][x];\n\t\t\t\tpointExtremes = stack && stack.points[series.index];\n\t\t\t\tif (pointExtremes) {\n\t\t\t\t\ttotalFactor = stack.total ? 100 / stack.total : 0;\n\t\t\t\t\tpointExtremes[0] = correctFloat(pointExtremes[0] * totalFactor); // Y bottom value\n\t\t\t\t\tpointExtremes[1] = correctFloat(pointExtremes[1] * totalFactor); // Y value\n\t\t\t\t\tseries.stackedYData[i] = pointExtremes[1];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Calculate Y extremes for visible data\n\t */\n\tgetExtremes: function () {\n\t\tvar xAxis = this.xAxis,\n\t\t\tyAxis = this.yAxis,\n\t\t\txData = this.processedXData,\n\t\t\tyData = this.stackedYData || this.processedYData,\n\t\t\tyDataLength = yData.length,\n\t\t\tactiveYData = [],\n\t\t\tactiveCounter = 0,\n\t\t\txExtremes = xAxis.getExtremes(), // #2117, need to compensate for log X axis\n\t\t\txMin = xExtremes.min,\n\t\t\txMax = xExtremes.max,\n\t\t\tvalidValue,\n\t\t\twithinRange,\n\t\t\tdataMin,\n\t\t\tdataMax,\n\t\t\tx,\n\t\t\ty,\n\t\t\ti,\n\t\t\tj;\n\n\t\tfor (i = 0; i < yDataLength; i++) {\n\t\t\t\n\t\t\tx = xData[i];\n\t\t\ty = yData[i];\n\n\t\t\t// For points within the visible range, including the first point outside the\n\t\t\t// visible range, consider y extremes\n\t\t\tvalidValue = y !== null && y !== UNDEFINED && (!yAxis.isLog || (y.length || y > 0));\n\t\t\twithinRange = this.getExtremesFromAll || this.cropped || ((xData[i + 1] || x) >= xMin && \n\t\t\t\t(xData[i - 1] || x) <= xMax);\n\n\t\t\tif (validValue && withinRange) {\n\n\t\t\t\tj = y.length;\n\t\t\t\tif (j) { // array, like ohlc or range data\n\t\t\t\t\twhile (j--) {\n\t\t\t\t\t\tif (y[j] !== null) {\n\t\t\t\t\t\t\tactiveYData[activeCounter++] = y[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tactiveYData[activeCounter++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.dataMin = pick(dataMin, arrayMin(activeYData));\n\t\tthis.dataMax = pick(dataMax, arrayMax(activeYData));\n\t},\n\n\t/**\n\t * Translate data points from raw data values to chart specific positioning data\n\t * needed later in drawPoints, drawGraph and drawTracker.\n\t */\n\ttranslate: function () {\n\t\tif (!this.processedXData) { // hidden series\n\t\t\tthis.processData();\n\t\t}\n\t\tthis.generatePoints();\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\tstacking = options.stacking,\n\t\t\txAxis = series.xAxis,\n\t\t\tcategories = xAxis.categories,\n\t\t\tyAxis = series.yAxis,\n\t\t\tpoints = series.points,\n\t\t\tdataLength = points.length,\n\t\t\thasModifyValue = !!series.modifyValue,\n\t\t\ti,\n\t\t\tpointPlacement = options.pointPlacement,\n\t\t\tdynamicallyPlaced = pointPlacement === 'between' || isNumber(pointPlacement),\n\t\t\tthreshold = options.threshold;\n\n\t\t\n\t\t// Translate each point\n\t\tfor (i = 0; i < dataLength; i++) {\n\t\t\tvar point = points[i],\n\t\t\t\txValue = point.x,\n\t\t\t\tyValue = point.y,\n\t\t\t\tyBottom = point.low,\n\t\t\t\tstack = yAxis.stacks[(series.negStacks && yValue < threshold ? '-' : '') + series.stackKey],\n\t\t\t\tpointStack,\n\t\t\t\tstackValues;\n\n\t\t\t// Discard disallowed y values for log axes\n\t\t\tif (yAxis.isLog && yValue <= 0) {\n\t\t\t\tpoint.y = yValue = null;\n\t\t\t}\n\t\t\t\n\t\t\t// Get the plotX translation\n\t\t\tpoint.plotX = xAxis.translate(xValue, 0, 0, 0, 1, pointPlacement, this.type === 'flags'); // Math.round fixes #591\n\t\t\t\n\n\t\t\t// Calculate the bottom y value for stacked series\n\t\t\tif (stacking && series.visible && stack && stack[xValue]) {\n\n\t\t\t\tpointStack = stack[xValue];\n\t\t\t\tstackValues = pointStack.points[series.index];\n\t\t\t\tyBottom = stackValues[0];\n\t\t\t\tyValue = stackValues[1];\n\n\t\t\t\tif (yBottom === 0) {\n\t\t\t\t\tyBottom = pick(threshold, yAxis.min);\n\t\t\t\t}\n\t\t\t\tif (yAxis.isLog && yBottom <= 0) { // #1200, #1232\n\t\t\t\t\tyBottom = null;\n\t\t\t\t}\n\n\t\t\t\tpoint.percentage = stacking === 'percent' && yValue;\n\t\t\t\tpoint.total = point.stackTotal = pointStack.total;\n\t\t\t\tpoint.stackY = yValue;\n\n\t\t\t\t// Place the stack label\n\t\t\t\tpointStack.setOffset(series.pointXOffset || 0, series.barW || 0);\n\t\t\t\t\n\t\t\t}\n\n\t\t\t// Set translated yBottom or remove it\n\t\t\tpoint.yBottom = defined(yBottom) ? \n\t\t\t\tyAxis.translate(yBottom, 0, 1, 0, 1) :\n\t\t\t\tnull;\n\t\t\t\t\n\t\t\t// general hook, used for Highstock compare mode\n\t\t\tif (hasModifyValue) {\n\t\t\t\tyValue = series.modifyValue(yValue, point);\n\t\t\t}\n\n\t\t\t// Set the the plotY value, reset it for redraws\n\t\t\tpoint.plotY = (typeof yValue === 'number' && yValue !== Infinity) ? \n\t\t\t\t//mathRound(yAxis.translate(yValue, 0, 1, 0, 1) * 10) / 10 : // Math.round fixes #591\n\t\t\t\tyAxis.translate(yValue, 0, 1, 0, 1) : \n\t\t\t\tUNDEFINED;\n\t\t\t\n\t\t\t// Set client related positions for mouse tracking\n\t\t\tpoint.clientX = dynamicallyPlaced ? xAxis.translate(xValue, 0, 0, 0, 1) : point.plotX; // #1514\n\t\t\t\t\n\t\t\tpoint.negative = point.y < (threshold || 0);\n\n\t\t\t// some API data\n\t\t\tpoint.category = categories && categories[point.x] !== UNDEFINED ?\n\t\t\t\tcategories[point.x] : point.x;\n\n\n\t\t}\n\n\t\t// now that we have the cropped data, build the segments\n\t\tseries.getSegments();\n\t},\n\t/**\n\t * Memoize tooltip texts and positions\n\t */\n\tsetTooltipPoints: function (renew) {\n\t\tvar series = this,\n\t\t\tpoints = [],\n\t\t\tpointsLength,\n\t\t\tlow,\n\t\t\thigh,\n\t\t\txAxis = series.xAxis,\n\t\t\txExtremes = xAxis && xAxis.getExtremes(),\n\t\t\taxisLength = xAxis ? (xAxis.tooltipLen || xAxis.len) : series.chart.plotSizeX, // tooltipLen and tooltipPosName used in polar\n\t\t\tpoint,\n\t\t\tpointX,\n\t\t\tnextPoint,\n\t\t\ti,\n\t\t\ttooltipPoints = []; // a lookup array for each pixel in the x dimension\n\n\t\t// don't waste resources if tracker is disabled\n\t\tif (series.options.enableMouseTracking === false) {\n\t\t\treturn;\n\t\t}\n\n\t\t// renew\n\t\tif (renew) {\n\t\t\tseries.tooltipPoints = null;\n\t\t}\n\n\t\t// concat segments to overcome null values\n\t\teach(series.segments || series.points, function (segment) {\n\t\t\tpoints = points.concat(segment);\n\t\t});\n\n\t\t// Reverse the points in case the X axis is reversed\n\t\tif (xAxis && xAxis.reversed) {\n\t\t\tpoints = points.reverse();\n\t\t}\n\n\t\t// Polar needs additional shaping\n\t\tif (series.orderTooltipPoints) {\n\t\t\tseries.orderTooltipPoints(points);\n\t\t}\n\n\t\t// Assign each pixel position to the nearest point\n\t\tpointsLength = points.length;\n\t\tfor (i = 0; i < pointsLength; i++) {\n\t\t\tpoint = points[i];\n\t\t\tpointX = point.x;\n\t\t\tif (pointX >= xExtremes.min && pointX <= xExtremes.max) { // #1149\n\t\t\t\tnextPoint = points[i + 1];\n\t\t\t\t\n\t\t\t\t// Set this range's low to the last range's high plus one\n\t\t\t\tlow = high === UNDEFINED ? 0 : high + 1;\n\t\t\t\t// Now find the new high\n\t\t\t\thigh = points[i + 1] ?\n\t\t\t\t\tmathMin(mathMax(0, mathFloor( // #2070\n\t\t\t\t\t\t(point.clientX + (nextPoint ? (nextPoint.wrappedClientX || nextPoint.clientX) : axisLength)) / 2\n\t\t\t\t\t)), axisLength) :\n\t\t\t\t\taxisLength;\n\n\t\t\t\twhile (low >= 0 && low <= high) {\n\t\t\t\t\ttooltipPoints[low++] = point;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tseries.tooltipPoints = tooltipPoints;\n\t},\n\n\t/**\n\t * Format the header of the tooltip\n\t */\n\ttooltipHeaderFormatter: function (point) {\n\t\tvar series = this,\n\t\t\ttooltipOptions = series.tooltipOptions,\n\t\t\txDateFormat = tooltipOptions.xDateFormat,\n\t\t\tdateTimeLabelFormats = tooltipOptions.dateTimeLabelFormats,\n\t\t\txAxis = series.xAxis,\n\t\t\tisDateTime = xAxis && xAxis.options.type === 'datetime',\n\t\t\theaderFormat = tooltipOptions.headerFormat,\n\t\t\tclosestPointRange = xAxis && xAxis.closestPointRange,\n\t\t\tn;\n\t\t\t\n\t\t// Guess the best date format based on the closest point distance (#568)\n\t\tif (isDateTime && !xDateFormat) {\n\t\t\tif (closestPointRange) {\n\t\t\t\tfor (n in timeUnits) {\n\t\t\t\t\tif (timeUnits[n] >= closestPointRange) {\n\t\t\t\t\t\txDateFormat = dateTimeLabelFormats[n];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txDateFormat = dateTimeLabelFormats.day;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Insert the header date format if any\n\t\tif (isDateTime && xDateFormat && isNumber(point.key)) {\n\t\t\theaderFormat = headerFormat.replace('{point.key}', '{point.key:' + xDateFormat + '}');\n\t\t}\n\t\t\n\t\treturn format(headerFormat, {\n\t\t\tpoint: point,\n\t\t\tseries: series\n\t\t});\n\t},\n\n\t/**\n\t * Series mouse over handler\n\t */\n\tonMouseOver: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\thoverSeries = chart.hoverSeries;\n\n\t\t// set normal state to previous series\n\t\tif (hoverSeries && hoverSeries !== series) {\n\t\t\thoverSeries.onMouseOut();\n\t\t}\n\n\t\t// trigger the event, but to save processing time,\n\t\t// only if defined\n\t\tif (series.options.events.mouseOver) {\n\t\t\tfireEvent(series, 'mouseOver');\n\t\t}\n\n\t\t// hover this\n\t\tseries.setState(HOVER_STATE);\n\t\tchart.hoverSeries = series;\n\t},\n\n\t/**\n\t * Series mouse out handler\n\t */\n\tonMouseOut: function () {\n\t\t// trigger the event only if listeners exist\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\tchart = series.chart,\n\t\t\ttooltip = chart.tooltip,\n\t\t\thoverPoint = chart.hoverPoint;\n\n\t\t// trigger mouse out on the point, which must be in this series\n\t\tif (hoverPoint) {\n\t\t\thoverPoint.onMouseOut();\n\t\t}\n\n\t\t// fire the mouse out event\n\t\tif (series && options.events.mouseOut) {\n\t\t\tfireEvent(series, 'mouseOut');\n\t\t}\n\n\n\t\t// hide the tooltip\n\t\tif (tooltip && !options.stickyTracking && (!tooltip.shared || series.noSharedTooltip)) {\n\t\t\ttooltip.hide();\n\t\t}\n\n\t\t// set normal state\n\t\tseries.setState();\n\t\tchart.hoverSeries = null;\n\t},\n\n\t/**\n\t * Animate in the series\n\t */\n\tanimate: function (init) {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\tclipRect,\n\t\t\tmarkerClipRect,\n\t\t\tanimation = series.options.animation,\n\t\t\tclipBox = chart.clipBox,\n\t\t\tinverted = chart.inverted,\n\t\t\tsharedClipKey;\n\n\t\t// Animation option is set to true\n\t\tif (animation && !isObject(animation)) {\n\t\t\tanimation = defaultPlotOptions[series.type].animation;\n\t\t}\n\t\tsharedClipKey = '_sharedClip' + animation.duration + animation.easing;\n\n\t\t// Initialize the animation. Set up the clipping rectangle.\n\t\tif (init) { \n\t\t\t\n\t\t\t// If a clipping rectangle with the same properties is currently present in the chart, use that. \n\t\t\tclipRect = chart[sharedClipKey];\n\t\t\tmarkerClipRect = chart[sharedClipKey + 'm'];\n\t\t\tif (!clipRect) {\n\t\t\t\tchart[sharedClipKey] = clipRect = renderer.clipRect(\n\t\t\t\t\textend(clipBox, { width: 0 })\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\tchart[sharedClipKey + 'm'] = markerClipRect = renderer.clipRect(\n\t\t\t\t\t-99, // include the width of the first marker\n\t\t\t\t\tinverted ? -chart.plotLeft : -chart.plotTop, \n\t\t\t\t\t99,\n\t\t\t\t\tinverted ? chart.chartWidth : chart.chartHeight\n\t\t\t\t);\n\t\t\t}\n\t\t\tseries.group.clip(clipRect);\n\t\t\tseries.markerGroup.clip(markerClipRect);\n\t\t\tseries.sharedClipKey = sharedClipKey;\n\n\t\t// Run the animation\n\t\t} else { \n\t\t\tclipRect = chart[sharedClipKey];\n\t\t\tif (clipRect) {\n\t\t\t\tclipRect.animate({\n\t\t\t\t\twidth: chart.plotSizeX\n\t\t\t\t}, animation);\n\t\t\t\tchart[sharedClipKey + 'm'].animate({\n\t\t\t\t\twidth: chart.plotSizeX + 99\n\t\t\t\t}, animation);\n\t\t\t}\n\n\t\t\t// Delete this function to allow it only once\n\t\t\tseries.animate = null;\n\t\t\t\n\t\t\t// Call the afterAnimate function on animation complete (but don't overwrite the animation.complete option\n\t\t\t// which should be available to the user).\n\t\t\tseries.animationTimeout = setTimeout(function () {\n\t\t\t\tseries.afterAnimate();\n\t\t\t}, animation.duration);\n\t\t}\n\t},\n\t\n\t/**\n\t * This runs after animation to land on the final plot clipping\n\t */\n\tafterAnimate: function () {\n\t\tvar chart = this.chart,\n\t\t\tsharedClipKey = this.sharedClipKey,\n\t\t\tgroup = this.group;\n\t\t\t\n\t\tif (group && this.options.clip !== false) {\n\t\t\tgroup.clip(chart.clipRect);\n\t\t\tthis.markerGroup.clip(); // no clip\n\t\t}\n\t\t\n\t\t// Remove the shared clipping rectancgle when all series are shown\t\t\n\t\tsetTimeout(function () {\n\t\t\tif (sharedClipKey && chart[sharedClipKey]) {\n\t\t\t\tchart[sharedClipKey] = chart[sharedClipKey].destroy();\n\t\t\t\tchart[sharedClipKey + 'm'] = chart[sharedClipKey + 'm'].destroy();\n\t\t\t}\n\t\t}, 100);\n\t},\n\n\t/**\n\t * Draw the markers\n\t */\n\tdrawPoints: function () {\n\t\tvar series = this,\n\t\t\tpointAttr,\n\t\t\tpoints = series.points,\n\t\t\tchart = series.chart,\n\t\t\tplotX,\n\t\t\tplotY,\n\t\t\ti,\n\t\t\tpoint,\n\t\t\tradius,\n\t\t\tsymbol,\n\t\t\tisImage,\n\t\t\tgraphic,\n\t\t\toptions = series.options,\n\t\t\tseriesMarkerOptions = options.marker,\n\t\t\tpointMarkerOptions,\n\t\t\tenabled,\n\t\t\tisInside,\n\t\t\tmarkerGroup = series.markerGroup;\n\n\t\tif (seriesMarkerOptions.enabled || series._hasPointMarkers) {\n\t\t\t\n\t\t\ti = points.length;\n\t\t\twhile (i--) {\n\t\t\t\tpoint = points[i];\n\t\t\t\tplotX = mathFloor(point.plotX); // #1843\n\t\t\t\tplotY = point.plotY;\n\t\t\t\tgraphic = point.graphic;\n\t\t\t\tpointMarkerOptions = point.marker || {};\n\t\t\t\tenabled = (seriesMarkerOptions.enabled && pointMarkerOptions.enabled === UNDEFINED) || pointMarkerOptions.enabled;\n\t\t\t\tisInside = chart.isInsidePlot(mathRound(plotX), plotY, chart.inverted); // #1858\n\t\t\t\t\n\t\t\t\t// only draw the point if y is defined\n\t\t\t\tif (enabled && plotY !== UNDEFINED && !isNaN(plotY) && point.y !== null) {\n\n\t\t\t\t\t// shortcuts\n\t\t\t\t\tpointAttr = point.pointAttr[point.selected ? SELECT_STATE : NORMAL_STATE];\n\t\t\t\t\tradius = pointAttr.r;\n\t\t\t\t\tsymbol = pick(pointMarkerOptions.symbol, series.symbol);\n\t\t\t\t\tisImage = symbol.indexOf('url') === 0;\n\n\t\t\t\t\tif (graphic) { // update\n\t\t\t\t\t\tgraphic\n\t\t\t\t\t\t\t.attr({ // Since the marker group isn't clipped, each individual marker must be toggled\n\t\t\t\t\t\t\t\tvisibility: isInside ? (hasSVG ? 'inherit' : VISIBLE) : HIDDEN\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.animate(extend({\n\t\t\t\t\t\t\t\tx: plotX - radius,\n\t\t\t\t\t\t\t\ty: plotY - radius\n\t\t\t\t\t\t\t}, graphic.symbolName ? { // don't apply to image symbols #507\n\t\t\t\t\t\t\t\twidth: 2 * radius,\n\t\t\t\t\t\t\t\theight: 2 * radius\n\t\t\t\t\t\t\t} : {}));\n\t\t\t\t\t} else if (isInside && (radius > 0 || isImage)) {\n\t\t\t\t\t\tpoint.graphic = graphic = chart.renderer.symbol(\n\t\t\t\t\t\t\tsymbol,\n\t\t\t\t\t\t\tplotX - radius,\n\t\t\t\t\t\t\tplotY - radius,\n\t\t\t\t\t\t\t2 * radius,\n\t\t\t\t\t\t\t2 * radius\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.attr(pointAttr)\n\t\t\t\t\t\t.add(markerGroup);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} else if (graphic) {\n\t\t\t\t\tpoint.graphic = graphic.destroy(); // #1269\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t},\n\n\t/**\n\t * Convert state properties from API naming conventions to SVG attributes\n\t *\n\t * @param {Object} options API options object\n\t * @param {Object} base1 SVG attribute object to inherit from\n\t * @param {Object} base2 Second level SVG attribute object to inherit from\n\t */\n\tconvertAttribs: function (options, base1, base2, base3) {\n\t\tvar conversion = this.pointAttrToOptions,\n\t\t\tattr,\n\t\t\toption,\n\t\t\tobj = {};\n\n\t\toptions = options || {};\n\t\tbase1 = base1 || {};\n\t\tbase2 = base2 || {};\n\t\tbase3 = base3 || {};\n\n\t\tfor (attr in conversion) {\n\t\t\toption = conversion[attr];\n\t\t\tobj[attr] = pick(options[option], base1[attr], base2[attr], base3[attr]);\n\t\t}\n\t\treturn obj;\n\t},\n\n\t/**\n\t * Get the state attributes. Each series type has its own set of attributes\n\t * that are allowed to change on a point's state change. Series wide attributes are stored for\n\t * all series, and additionally point specific attributes are stored for all\n\t * points with individual marker options. If such options are not defined for the point,\n\t * a reference to the series wide attributes is stored in point.pointAttr.\n\t */\n\tgetAttribs: function () {\n\t\tvar series = this,\n\t\t\tseriesOptions = series.options,\n\t\t\tnormalOptions = defaultPlotOptions[series.type].marker ? seriesOptions.marker : seriesOptions,\n\t\t\tstateOptions = normalOptions.states,\n\t\t\tstateOptionsHover = stateOptions[HOVER_STATE],\n\t\t\tpointStateOptionsHover,\n\t\t\tseriesColor = series.color,\n\t\t\tnormalDefaults = {\n\t\t\t\tstroke: seriesColor,\n\t\t\t\tfill: seriesColor\n\t\t\t},\n\t\t\tpoints = series.points || [], // #927\n\t\t\ti,\n\t\t\tpoint,\n\t\t\tseriesPointAttr = [],\n\t\t\tpointAttr,\n\t\t\tpointAttrToOptions = series.pointAttrToOptions,\n\t\t\thasPointSpecificOptions,\n\t\t\tnegativeColor = seriesOptions.negativeColor,\n\t\t\tdefaultLineColor = normalOptions.lineColor,\n\t\t\tkey;\n\n\t\t// series type specific modifications\n\t\tif (seriesOptions.marker) { // line, spline, area, areaspline, scatter\n\n\t\t\t// if no hover radius is given, default to normal radius + 2\n\t\t\tstateOptionsHover.radius = stateOptionsHover.radius || normalOptions.radius + 2;\n\t\t\tstateOptionsHover.lineWidth = stateOptionsHover.lineWidth || normalOptions.lineWidth + 1;\n\t\t\t\n\t\t} else { // column, bar, pie\n\n\t\t\t// if no hover color is given, brighten the normal color\n\t\t\tstateOptionsHover.color = stateOptionsHover.color ||\n\t\t\t\tColor(stateOptionsHover.color || seriesColor)\n\t\t\t\t\t.brighten(stateOptionsHover.brightness).get();\n\t\t}\n\n\t\t// general point attributes for the series normal state\n\t\tseriesPointAttr[NORMAL_STATE] = series.convertAttribs(normalOptions, normalDefaults);\n\n\t\t// HOVER_STATE and SELECT_STATE states inherit from normal state except the default radius\n\t\teach([HOVER_STATE, SELECT_STATE], function (state) {\n\t\t\tseriesPointAttr[state] =\n\t\t\t\t\tseries.convertAttribs(stateOptions[state], seriesPointAttr[NORMAL_STATE]);\n\t\t});\n\n\t\t// set it\n\t\tseries.pointAttr = seriesPointAttr;\n\n\n\t\t// Generate the point-specific attribute collections if specific point\n\t\t// options are given. If not, create a referance to the series wide point\n\t\t// attributes\n\t\ti = points.length;\n\t\twhile (i--) {\n\t\t\tpoint = points[i];\n\t\t\tnormalOptions = (point.options && point.options.marker) || point.options;\n\t\t\tif (normalOptions && normalOptions.enabled === false) {\n\t\t\t\tnormalOptions.radius = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif (point.negative && negativeColor) {\n\t\t\t\tpoint.color = point.fillColor = negativeColor;\n\t\t\t}\n\t\t\t\n\t\t\thasPointSpecificOptions = seriesOptions.colorByPoint || point.color; // #868\n\n\t\t\t// check if the point has specific visual options\n\t\t\tif (point.options) {\n\t\t\t\tfor (key in pointAttrToOptions) {\n\t\t\t\t\tif (defined(normalOptions[pointAttrToOptions[key]])) {\n\t\t\t\t\t\thasPointSpecificOptions = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// a specific marker config object is defined for the individual point:\n\t\t\t// create it's own attribute collection\n\t\t\tif (hasPointSpecificOptions) {\n\t\t\t\tnormalOptions = normalOptions || {};\n\t\t\t\tpointAttr = [];\n\t\t\t\tstateOptions = normalOptions.states || {}; // reassign for individual point\n\t\t\t\tpointStateOptionsHover = stateOptions[HOVER_STATE] = stateOptions[HOVER_STATE] || {};\n\n\t\t\t\t// Handle colors for column and pies\n\t\t\t\tif (!seriesOptions.marker) { // column, bar, point\n\t\t\t\t\t// if no hover color is given, brighten the normal color\n\t\t\t\t\tpointStateOptionsHover.color =\n\t\t\t\t\t\tColor(pointStateOptionsHover.color || point.color)\n\t\t\t\t\t\t\t.brighten(pointStateOptionsHover.brightness ||\n\t\t\t\t\t\t\t\tstateOptionsHover.brightness).get();\n\n\t\t\t\t}\n\n\t\t\t\t// normal point state inherits series wide normal state\n\t\t\t\tpointAttr[NORMAL_STATE] = series.convertAttribs(extend({\n\t\t\t\t\tcolor: point.color, // #868\n\t\t\t\t\tfillColor: point.color, // Individual point color or negative color markers (#2219)\n\t\t\t\t\tlineColor: defaultLineColor === null ? point.color : UNDEFINED // Bubbles take point color, line markers use white\n\t\t\t\t}, normalOptions), seriesPointAttr[NORMAL_STATE]);\n\n\t\t\t\t// inherit from point normal and series hover\n\t\t\t\tpointAttr[HOVER_STATE] = series.convertAttribs(\n\t\t\t\t\tstateOptions[HOVER_STATE],\n\t\t\t\t\tseriesPointAttr[HOVER_STATE],\n\t\t\t\t\tpointAttr[NORMAL_STATE]\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\t// inherit from point normal and series hover\n\t\t\t\tpointAttr[SELECT_STATE] = series.convertAttribs(\n\t\t\t\t\tstateOptions[SELECT_STATE],\n\t\t\t\t\tseriesPointAttr[SELECT_STATE],\n\t\t\t\t\tpointAttr[NORMAL_STATE]\n\t\t\t\t);\n\n\n\t\t\t// no marker config object is created: copy a reference to the series-wide\n\t\t\t// attribute collection\n\t\t\t} else {\n\t\t\t\tpointAttr = seriesPointAttr;\n\t\t\t}\n\n\t\t\tpoint.pointAttr = pointAttr;\n\n\t\t}\n\n\t},\n\t/**\n\t * Update the series with a new set of options\n\t */\n\tupdate: function (newOptions, redraw) {\n\t\tvar chart = this.chart,\n\t\t\t// must use user options when changing type because this.options is merged\n\t\t\t// in with type specific plotOptions\n\t\t\toldOptions = this.userOptions,\n\t\t\toldType = this.type,\n\t\t\tproto = seriesTypes[oldType].prototype,\n\t\t\tn;\n\n\t\t// Do the merge, with some forced options\n\t\tnewOptions = merge(oldOptions, {\n\t\t\tanimation: false,\n\t\t\tindex: this.index,\n\t\t\tpointStart: this.xData[0] // when updating after addPoint\n\t\t}, { data: this.options.data }, newOptions);\n\n\t\t// Destroy the series and reinsert methods from the type prototype\n\t\tthis.remove(false);\n\t\tfor (n in proto) { // Overwrite series-type specific methods (#2270)\n\t\t\tif (proto.hasOwnProperty(n)) {\n\t\t\t\tthis[n] = UNDEFINED;\n\t\t\t}\n\t\t}\n\t\textend(this, seriesTypes[newOptions.type || oldType].prototype);\n\t\t\n\n\t\tthis.init(chart, newOptions);\n\t\tif (pick(redraw, true)) {\n\t\t\tchart.redraw(false);\n\t\t}\n\t},\n\n\t/**\n\t * Clear DOM objects and free up memory\n\t */\n\tdestroy: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\tissue134 = /AppleWebKit\\/533/.test(userAgent),\n\t\t\tdestroy,\n\t\t\ti,\n\t\t\tdata = series.data || [],\n\t\t\tpoint,\n\t\t\tprop,\n\t\t\taxis;\n\n\t\t// add event hook\n\t\tfireEvent(series, 'destroy');\n\n\t\t// remove all events\n\t\tremoveEvent(series);\n\t\t\n\t\t// erase from axes\n\t\teach(['xAxis', 'yAxis'], function (AXIS) {\n\t\t\taxis = series[AXIS];\n\t\t\tif (axis) {\n\t\t\t\terase(axis.series, series);\n\t\t\t\taxis.isDirty = axis.forceRedraw = true;\n\t\t\t\taxis.stacks = {}; // Rebuild stacks when updating (#2229)\n\t\t\t}\n\t\t});\n\n\t\t// remove legend items\n\t\tif (series.legendItem) {\n\t\t\tseries.chart.legend.destroyItem(series);\n\t\t}\n\n\t\t// destroy all points with their elements\n\t\ti = data.length;\n\t\twhile (i--) {\n\t\t\tpoint = data[i];\n\t\t\tif (point && point.destroy) {\n\t\t\t\tpoint.destroy();\n\t\t\t}\n\t\t}\n\t\tseries.points = null;\n\n\t\t// Clear the animation timeout if we are destroying the series during initial animation\n\t\tclearTimeout(series.animationTimeout);\n\n\t\t// destroy all SVGElements associated to the series\n\t\teach(['area', 'graph', 'dataLabelsGroup', 'group', 'markerGroup', 'tracker',\n\t\t\t\t'graphNeg', 'areaNeg', 'posClip', 'negClip'], function (prop) {\n\t\t\tif (series[prop]) {\n\n\t\t\t\t// issue 134 workaround\n\t\t\t\tdestroy = issue134 && prop === 'group' ?\n\t\t\t\t\t'hide' :\n\t\t\t\t\t'destroy';\n\n\t\t\t\tseries[prop][destroy]();\n\t\t\t}\n\t\t});\n\n\t\t// remove from hoverSeries\n\t\tif (chart.hoverSeries === series) {\n\t\t\tchart.hoverSeries = null;\n\t\t}\n\t\terase(chart.series, series);\n\n\t\t// clear all members\n\t\tfor (prop in series) {\n\t\t\tdelete series[prop];\n\t\t}\n\t},\n\n\t/**\n\t * Draw the data labels\n\t */\n\tdrawDataLabels: function () {\n\t\t\n\t\tvar series = this,\n\t\t\tseriesOptions = series.options,\n\t\t\toptions = seriesOptions.dataLabels,\n\t\t\tpoints = series.points,\n\t\t\tpointOptions,\n\t\t\tgeneralOptions,\n\t\t\tstr,\n\t\t\tdataLabelsGroup;\n\t\t\n\t\tif (options.enabled || series._hasPointLabels) {\n\t\t\t\t\t\t\n\t\t\t// Process default alignment of data labels for columns\n\t\t\tif (series.dlProcessOptions) {\n\t\t\t\tseries.dlProcessOptions(options);\n\t\t\t}\n\n\t\t\t// Create a separate group for the data labels to avoid rotation\n\t\t\tdataLabelsGroup = series.plotGroup(\n\t\t\t\t'dataLabelsGroup', \n\t\t\t\t'data-labels', \n\t\t\t\tseries.visible ? VISIBLE : HIDDEN, \n\t\t\t\toptions.zIndex || 6\n\t\t\t);\n\t\t\t\n\t\t\t// Make the labels for each point\n\t\t\tgeneralOptions = options;\n\t\t\teach(points, function (point) {\n\t\t\t\t\n\t\t\t\tvar enabled,\n\t\t\t\t\tdataLabel = point.dataLabel,\n\t\t\t\t\tlabelConfig,\n\t\t\t\t\tattr,\n\t\t\t\t\tname,\n\t\t\t\t\trotation,\n\t\t\t\t\tconnector = point.connector,\n\t\t\t\t\tisNew = true;\n\t\t\t\t\n\t\t\t\t// Determine if each data label is enabled\n\t\t\t\tpointOptions = point.options && point.options.dataLabels;\n\t\t\t\tenabled = pick(pointOptions && pointOptions.enabled, generalOptions.enabled); // #2282\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// If the point is outside the plot area, destroy it. #678, #820\n\t\t\t\tif (dataLabel && !enabled) {\n\t\t\t\t\tpoint.dataLabel = dataLabel.destroy();\n\t\t\t\t\n\t\t\t\t// Individual labels are disabled if the are explicitly disabled \n\t\t\t\t// in the point options, or if they fall outside the plot area.\n\t\t\t\t} else if (enabled) {\n\t\t\t\t\t\n\t\t\t\t\t// Create individual options structure that can be extended without \n\t\t\t\t\t// affecting others\n\t\t\t\t\toptions = merge(generalOptions, pointOptions);\n\n\t\t\t\t\trotation = options.rotation;\n\t\t\t\t\t\n\t\t\t\t\t// Get the string\n\t\t\t\t\tlabelConfig = point.getLabelConfig();\n\t\t\t\t\tstr = options.format ?\n\t\t\t\t\t\tformat(options.format, labelConfig) : \n\t\t\t\t\t\toptions.formatter.call(labelConfig, options);\n\t\t\t\t\t\n\t\t\t\t\t// Determine the color\n\t\t\t\t\toptions.style.color = pick(options.color, options.style.color, series.color, 'black');\n\t\n\t\t\t\t\t\n\t\t\t\t\t// update existing label\n\t\t\t\t\tif (dataLabel) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (defined(str)) {\n\t\t\t\t\t\t\tdataLabel\n\t\t\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\t\t\ttext: str\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tisNew = false;\n\t\t\t\t\t\t\n\t\t\t\t\t\t} else { // #1437 - the label is shown conditionally\n\t\t\t\t\t\t\tpoint.dataLabel = dataLabel = dataLabel.destroy();\n\t\t\t\t\t\t\tif (connector) {\n\t\t\t\t\t\t\t\tpoint.connector = connector.destroy();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t// create new label\n\t\t\t\t\t} else if (defined(str)) {\n\t\t\t\t\t\tattr = {\n\t\t\t\t\t\t\t//align: align,\n\t\t\t\t\t\t\tfill: options.backgroundColor,\n\t\t\t\t\t\t\tstroke: options.borderColor,\n\t\t\t\t\t\t\t'stroke-width': options.borderWidth,\n\t\t\t\t\t\t\tr: options.borderRadius || 0,\n\t\t\t\t\t\t\trotation: rotation,\n\t\t\t\t\t\t\tpadding: options.padding,\n\t\t\t\t\t\t\tzIndex: 1\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Remove unused attributes (#947)\n\t\t\t\t\t\tfor (name in attr) {\n\t\t\t\t\t\t\tif (attr[name] === UNDEFINED) {\n\t\t\t\t\t\t\t\tdelete attr[name];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tdataLabel = point.dataLabel = series.chart.renderer[rotation ? 'text' : 'label']( // labels don't support rotation\n\t\t\t\t\t\t\tstr,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t-999,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\toptions.useHTML\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.attr(attr)\n\t\t\t\t\t\t.css(options.style)\n\t\t\t\t\t\t.add(dataLabelsGroup)\n\t\t\t\t\t\t.shadow(options.shadow);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (dataLabel) {\n\t\t\t\t\t\t// Now the data label is created and placed at 0,0, so we need to align it\n\t\t\t\t\t\tseries.alignDataLabel(point, dataLabel, options, null, isNew);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t\n\t/**\n\t * Align each individual data label\n\t */\n\talignDataLabel: function (point, dataLabel, options, alignTo, isNew) {\n\t\tvar chart = this.chart,\n\t\t\tinverted = chart.inverted,\n\t\t\tplotX = pick(point.plotX, -999),\n\t\t\tplotY = pick(point.plotY, -999),\n\t\t\tbBox = dataLabel.getBBox(),\n\t\t\tvisible = this.visible && chart.isInsidePlot(point.plotX, point.plotY, inverted),\n\t\t\talignAttr; // the final position;\n\t\t\t\t\n\t\tif (visible) {\n\n\t\t\t// The alignment box is a singular point\n\t\t\talignTo = extend({\n\t\t\t\tx: inverted ? chart.plotWidth - plotY : plotX,\n\t\t\t\ty: mathRound(inverted ? chart.plotHeight - plotX : plotY),\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t}, alignTo);\n\t\t\t\n\t\t\t// Add the text size for alignment calculation\n\t\t\textend(options, {\n\t\t\t\twidth: bBox.width,\n\t\t\t\theight: bBox.height\n\t\t\t});\n\n\t\t\t// Allow a hook for changing alignment in the last moment, then do the alignment\n\t\t\tif (options.rotation) { // Fancy box alignment isn't supported for rotated text\n\t\t\t\talignAttr = {\n\t\t\t\t\talign: options.align,\n\t\t\t\t\tx: alignTo.x + options.x + alignTo.width / 2,\n\t\t\t\t\ty: alignTo.y + options.y + alignTo.height / 2\n\t\t\t\t};\n\t\t\t\tdataLabel[isNew ? 'attr' : 'animate'](alignAttr);\n\t\t\t} else {\n\t\t\t\tdataLabel.align(options, null, alignTo);\n\t\t\t\talignAttr = dataLabel.alignAttr;\n\n\t\t\t\t// Handle justify or crop\n\t\t\t\tif (pick(options.overflow, 'justify') === 'justify') { // docs: overflow: justify, also crop only applies when not justify\n\t\t\t\t\tthis.justifyDataLabel(dataLabel, options, alignAttr, bBox, alignTo, isNew);\n\t\t\t\t\n\t\t\t\t} else if (pick(options.crop, true)) {\n\t\t\t\t\t// Now check that the data label is within the plot area\n\t\t\t\t\tvisible = chart.isInsidePlot(alignAttr.x, alignAttr.y) && chart.isInsidePlot(alignAttr.x + bBox.width, alignAttr.y + bBox.height);\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\t\t\n\t\t}\n\n\t\t// Show or hide based on the final aligned position\n\t\tif (!visible) {\n\t\t\tdataLabel.attr({ y: -999 });\n\t\t}\n\t\t\t\t\n\t},\n\t\n\t/**\n\t * If data labels fall partly outside the plot area, align them back in, in a way that\n\t * doesn't hide the point.\n\t */\n\tjustifyDataLabel: function (dataLabel, options, alignAttr, bBox, alignTo, isNew) {\n\t\tvar chart = this.chart,\n\t\t\talign = options.align,\n\t\t\tverticalAlign = options.verticalAlign,\n\t\t\toff,\n\t\t\tjustified;\n\n\t\t// Off left\n\t\toff = alignAttr.x;\n\t\tif (off < 0) {\n\t\t\tif (align === 'right') {\n\t\t\t\toptions.align = 'left';\n\t\t\t} else {\n\t\t\t\toptions.x = -off;\n\t\t\t}\n\t\t\tjustified = true;\n\t\t}\n\n\t\t// Off right\n\t\toff = alignAttr.x + bBox.width;\n\t\tif (off > chart.plotWidth) {\n\t\t\tif (align === 'left') {\n\t\t\t\toptions.align = 'right';\n\t\t\t} else {\n\t\t\t\toptions.x = chart.plotWidth - off;\n\t\t\t}\n\t\t\tjustified = true;\n\t\t}\n\n\t\t// Off top\n\t\toff = alignAttr.y;\n\t\tif (off < 0) {\n\t\t\tif (verticalAlign === 'bottom') {\n\t\t\t\toptions.verticalAlign = 'top';\n\t\t\t} else {\n\t\t\t\toptions.y = -off;\n\t\t\t}\n\t\t\tjustified = true;\n\t\t}\n\n\t\t// Off bottom\n\t\toff = alignAttr.y + bBox.height;\n\t\tif (off > chart.plotHeight) {\n\t\t\tif (verticalAlign === 'top') {\n\t\t\t\toptions.verticalAlign = 'bottom';\n\t\t\t} else {\n\t\t\t\toptions.y = chart.plotHeight - off;\n\t\t\t}\n\t\t\tjustified = true;\n\t\t}\n\t\t\n\t\tif (justified) {\n\t\t\tdataLabel.placed = !isNew;\n\t\t\tdataLabel.align(options, null, alignTo);\n\t\t}\n\t},\n\t\n\t/**\n\t * Return the graph path of a segment\n\t */\n\tgetSegmentPath: function (segment) {\t\t\n\t\tvar series = this,\n\t\t\tsegmentPath = [],\n\t\t\tstep = series.options.step;\n\t\t\t\n\t\t// build the segment line\n\t\teach(segment, function (point, i) {\n\t\t\t\n\t\t\tvar plotX = point.plotX,\n\t\t\t\tplotY = point.plotY,\n\t\t\t\tlastPoint;\n\n\t\t\tif (series.getPointSpline) { // generate the spline as defined in the SplineSeries object\n\t\t\t\tsegmentPath.push.apply(segmentPath, series.getPointSpline(segment, point, i));\n\n\t\t\t} else {\n\n\t\t\t\t// moveTo or lineTo\n\t\t\t\tsegmentPath.push(i ? L : M);\n\n\t\t\t\t// step line?\n\t\t\t\tif (step && i) {\n\t\t\t\t\tlastPoint = segment[i - 1];\n\t\t\t\t\tif (step === 'right') {\n\t\t\t\t\t\tsegmentPath.push(\n\t\t\t\t\t\t\tlastPoint.plotX,\n\t\t\t\t\t\t\tplotY\n\t\t\t\t\t\t);\n\t\t\t\t\t\t\n\t\t\t\t\t} else if (step === 'center') {\n\t\t\t\t\t\tsegmentPath.push(\n\t\t\t\t\t\t\t(lastPoint.plotX + plotX) / 2,\n\t\t\t\t\t\t\tlastPoint.plotY,\n\t\t\t\t\t\t\t(lastPoint.plotX + plotX) / 2,\n\t\t\t\t\t\t\tplotY\n\t\t\t\t\t\t);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsegmentPath.push(\n\t\t\t\t\t\t\tplotX,\n\t\t\t\t\t\t\tlastPoint.plotY\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// normal line to next point\n\t\t\t\tsegmentPath.push(\n\t\t\t\t\tpoint.plotX,\n\t\t\t\t\tpoint.plotY\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn segmentPath;\n\t},\n\n\t/**\n\t * Get the graph path\n\t */\n\tgetGraphPath: function () {\n\t\tvar series = this,\n\t\t\tgraphPath = [],\n\t\t\tsegmentPath,\n\t\t\tsinglePoints = []; // used in drawTracker\n\n\t\t// Divide into segments and build graph and area paths\n\t\teach(series.segments, function (segment) {\n\t\t\t\n\t\t\tsegmentPath = series.getSegmentPath(segment);\n\t\t\t\n\t\t\t// add the segment to the graph, or a single point for tracking\n\t\t\tif (segment.length > 1) {\n\t\t\t\tgraphPath = graphPath.concat(segmentPath);\n\t\t\t} else {\n\t\t\t\tsinglePoints.push(segment[0]);\n\t\t\t}\n\t\t});\n\n\t\t// Record it for use in drawGraph and drawTracker, and return graphPath\n\t\tseries.singlePoints = singlePoints;\n\t\tseries.graphPath = graphPath;\n\t\t\n\t\treturn graphPath;\n\t\t\n\t},\n\t\n\t/**\n\t * Draw the actual graph\n\t */\n\tdrawGraph: function () {\n\t\tvar series = this,\n\t\t\toptions = this.options,\n\t\t\tprops = [['graph', options.lineColor || this.color]],\n\t\t\tlineWidth = options.lineWidth,\n\t\t\tdashStyle =  options.dashStyle,\n\t\t\tgraphPath = this.getGraphPath(),\n\t\t\tnegativeColor = options.negativeColor;\n\t\t\t\n\t\tif (negativeColor) {\n\t\t\tprops.push(['graphNeg', negativeColor]);\n\t\t}\n\t\t\n\t\t// draw the graph\n\t\teach(props, function (prop, i) {\n\t\t\tvar graphKey = prop[0],\n\t\t\t\tgraph = series[graphKey],\n\t\t\t\tattribs;\n\t\t\t\n\t\t\tif (graph) {\n\t\t\t\tstop(graph); // cancel running animations, #459\n\t\t\t\tgraph.animate({ d: graphPath });\n\t\n\t\t\t} else if (lineWidth && graphPath.length) { // #1487\n\t\t\t\tattribs = {\n\t\t\t\t\tstroke: prop[1],\n\t\t\t\t\t'stroke-width': lineWidth,\n\t\t\t\t\tzIndex: 1 // #1069\n\t\t\t\t};\n\t\t\t\tif (dashStyle) {\n\t\t\t\t\tattribs.dashstyle = dashStyle;\n\t\t\t\t} else {\n\t\t\t\t\tattribs['stroke-linecap'] = attribs['stroke-linejoin'] = 'round';\n\t\t\t\t}\n\n\t\t\t\tseries[graphKey] = series.chart.renderer.path(graphPath)\n\t\t\t\t\t.attr(attribs)\n\t\t\t\t\t.add(series.group)\n\t\t\t\t\t.shadow(!i && options.shadow);\n\t\t\t}\n\t\t});\n\t},\n\t\n\t/**\n\t * Clip the graphs into the positive and negative coloured graphs\n\t */\n\tclipNeg: function () {\n\t\tvar options = this.options,\n\t\t\tchart = this.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\tnegativeColor = options.negativeColor || options.negativeFillColor,\n\t\t\ttranslatedThreshold,\n\t\t\tposAttr,\n\t\t\tnegAttr,\n\t\t\tgraph = this.graph,\n\t\t\tarea = this.area,\n\t\t\tposClip = this.posClip,\n\t\t\tnegClip = this.negClip,\n\t\t\tchartWidth = chart.chartWidth,\n\t\t\tchartHeight = chart.chartHeight,\n\t\t\tchartSizeMax = mathMax(chartWidth, chartHeight),\n\t\t\tyAxis = this.yAxis,\n\t\t\tabove,\n\t\t\tbelow;\n\t\t\n\t\tif (negativeColor && (graph || area)) {\n\t\t\ttranslatedThreshold = mathRound(yAxis.toPixels(options.threshold || 0, true));\n\t\t\tabove = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\twidth: chartSizeMax,\n\t\t\t\theight: translatedThreshold\n\t\t\t};\n\t\t\tbelow = {\n\t\t\t\tx: 0,\n\t\t\t\ty: translatedThreshold,\n\t\t\t\twidth: chartSizeMax,\n\t\t\t\theight: chartSizeMax\n\t\t\t};\n\t\t\t\n\t\t\tif (chart.inverted) {\n\n\t\t\t\tabove.height = below.y = chart.plotWidth - translatedThreshold;\n\t\t\t\tif (renderer.isVML) {\n\t\t\t\t\tabove = {\n\t\t\t\t\t\tx: chart.plotWidth - translatedThreshold - chart.plotLeft,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\twidth: chartWidth,\n\t\t\t\t\t\theight: chartHeight\n\t\t\t\t\t};\n\t\t\t\t\tbelow = {\n\t\t\t\t\t\tx: translatedThreshold + chart.plotLeft - chartWidth,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\twidth: chart.plotLeft + translatedThreshold,\n\t\t\t\t\t\theight: chartWidth\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (yAxis.reversed) {\n\t\t\t\tposAttr = below;\n\t\t\t\tnegAttr = above;\n\t\t\t} else {\n\t\t\t\tposAttr = above;\n\t\t\t\tnegAttr = below;\n\t\t\t}\n\t\t\n\t\t\tif (posClip) { // update\n\t\t\t\tposClip.animate(posAttr);\n\t\t\t\tnegClip.animate(negAttr);\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tthis.posClip = posClip = renderer.clipRect(posAttr);\n\t\t\t\tthis.negClip = negClip = renderer.clipRect(negAttr);\n\t\t\t\t\n\t\t\t\tif (graph && this.graphNeg) {\n\t\t\t\t\tgraph.clip(posClip);\n\t\t\t\t\tthis.graphNeg.clip(negClip);\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (area) {\n\t\t\t\t\tarea.clip(posClip);\n\t\t\t\t\tthis.areaNeg.clip(negClip);\n\t\t\t\t} \n\t\t\t} \n\t\t}\t\n\t},\n\n\t/**\n\t * Initialize and perform group inversion on series.group and series.markerGroup\n\t */\n\tinvertGroups: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart;\n\n\t\t// Pie, go away (#1736)\n\t\tif (!series.xAxis) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// A fixed size is needed for inversion to work\n\t\tfunction setInvert() {\t\t\t\n\t\t\tvar size = {\n\t\t\t\twidth: series.yAxis.len,\n\t\t\t\theight: series.xAxis.len\n\t\t\t};\n\t\t\t\n\t\t\teach(['group', 'markerGroup'], function (groupName) {\n\t\t\t\tif (series[groupName]) {\n\t\t\t\t\tseries[groupName].attr(size).invert();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\taddEvent(chart, 'resize', setInvert); // do it on resize\n\t\taddEvent(series, 'destroy', function () {\n\t\t\tremoveEvent(chart, 'resize', setInvert);\n\t\t});\n\n\t\t// Do it now\n\t\tsetInvert(); // do it now\n\t\t\n\t\t// On subsequent render and redraw, just do setInvert without setting up events again\n\t\tseries.invertGroups = setInvert;\n\t},\n\t\n\t/**\n\t * General abstraction for creating plot groups like series.group, series.dataLabelsGroup and \n\t * series.markerGroup. On subsequent calls, the group will only be adjusted to the updated plot size.\n\t */\n\tplotGroup: function (prop, name, visibility, zIndex, parent) {\n\t\tvar group = this[prop],\n\t\t\tisNew = !group;\n\t\t\n\t\t// Generate it on first call\n\t\tif (isNew) {\t\n\t\t\tthis[prop] = group = this.chart.renderer.g(name)\n\t\t\t\t.attr({\n\t\t\t\t\tvisibility: visibility,\n\t\t\t\t\tzIndex: zIndex || 0.1 // IE8 needs this\n\t\t\t\t})\n\t\t\t\t.add(parent);\n\t\t}\n\t\t// Place it on first and subsequent (redraw) calls\n\t\tgroup[isNew ? 'attr' : 'animate'](this.getPlotBox());\n\t\treturn group;\t\t\n\t},\n\n\t/**\n\t * Get the translation and scale for the plot area of this series\n\t */\n\tgetPlotBox: function () {\n\t\treturn {\n\t\t\ttranslateX: this.xAxis ? this.xAxis.left : this.chart.plotLeft, \n\t\t\ttranslateY: this.yAxis ? this.yAxis.top : this.chart.plotTop,\n\t\t\tscaleX: 1, // #1623\n\t\t\tscaleY: 1\n\t\t};\n\t},\n\t\n\t/**\n\t * Render the graph and markers\n\t */\n\trender: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\tgroup,\n\t\t\toptions = series.options,\n\t\t\tanimation = options.animation,\n\t\t\tdoAnimation = animation && !!series.animate && \n\t\t\t\tchart.renderer.isSVG, // this animation doesn't work in IE8 quirks when the group div is hidden,\n\t\t\t\t// and looks bad in other oldIE\n\t\t\tvisibility = series.visible ? VISIBLE : HIDDEN,\n\t\t\tzIndex = options.zIndex,\n\t\t\thasRendered = series.hasRendered,\n\t\t\tchartSeriesGroup = chart.seriesGroup;\n\t\t\n\t\t// the group\n\t\tgroup = series.plotGroup(\n\t\t\t'group', \n\t\t\t'series', \n\t\t\tvisibility, \n\t\t\tzIndex, \n\t\t\tchartSeriesGroup\n\t\t);\n\t\t\n\t\tseries.markerGroup = series.plotGroup(\n\t\t\t'markerGroup', \n\t\t\t'markers', \n\t\t\tvisibility, \n\t\t\tzIndex, \n\t\t\tchartSeriesGroup\n\t\t);\n\t\t\n\t\t// initiate the animation\n\t\tif (doAnimation) {\n\t\t\tseries.animate(true);\n\t\t}\n\n\t\t// cache attributes for shapes\n\t\tseries.getAttribs();\n\n\t\t// SVGRenderer needs to know this before drawing elements (#1089, #1795)\n\t\tgroup.inverted = series.isCartesian ? chart.inverted : false;\n\t\t\n\t\t// draw the graph if any\n\t\tif (series.drawGraph) {\n\t\t\tseries.drawGraph();\n\t\t\tseries.clipNeg();\n\t\t}\n\n\t\t// draw the data labels (inn pies they go before the points)\n\t\tseries.drawDataLabels();\n\t\t\n\t\t// draw the points\n\t\tseries.drawPoints();\n\n\n\t\t// draw the mouse tracking area\n\t\tif (series.options.enableMouseTracking !== false) {\n\t\t\tseries.drawTracker();\n\t\t}\n\t\t\n\t\t// Handle inverted series and tracker groups\n\t\tif (chart.inverted) {\n\t\t\tseries.invertGroups();\n\t\t}\n\t\t\n\t\t// Initial clipping, must be defined after inverting groups for VML\n\t\tif (options.clip !== false && !series.sharedClipKey && !hasRendered) {\n\t\t\tgroup.clip(chart.clipRect);\n\t\t}\n\n\t\t// Run the animation\n\t\tif (doAnimation) {\n\t\t\tseries.animate();\n\t\t} else if (!hasRendered) {\n\t\t\tseries.afterAnimate();\n\t\t}\n\n\t\tseries.isDirty = series.isDirtyData = false; // means data is in accordance with what you see\n\t\t// (See #322) series.isDirty = series.isDirtyData = false; // means data is in accordance with what you see\n\t\tseries.hasRendered = true;\n\t},\n\t\n\t/**\n\t * Redraw the series after an update in the axes.\n\t */\n\tredraw: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\twasDirtyData = series.isDirtyData, // cache it here as it is set to false in render, but used after\n\t\t\tgroup = series.group,\n\t\t\txAxis = series.xAxis,\n\t\t\tyAxis = series.yAxis;\n\n\t\t// reposition on resize\n\t\tif (group) {\n\t\t\tif (chart.inverted) {\n\t\t\t\tgroup.attr({\n\t\t\t\t\twidth: chart.plotWidth,\n\t\t\t\t\theight: chart.plotHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tgroup.animate({\n\t\t\t\ttranslateX: pick(xAxis && xAxis.left, chart.plotLeft),\n\t\t\t\ttranslateY: pick(yAxis && yAxis.top, chart.plotTop)\n\t\t\t});\n\t\t}\n\n\t\tseries.translate();\n\t\tseries.setTooltipPoints(true);\n\n\t\tseries.render();\n\t\tif (wasDirtyData) {\n\t\t\tfireEvent(series, 'updatedData');\n\t\t}\n\t},\n\n\t/**\n\t * Set the state of the graph\n\t */\n\tsetState: function (state) {\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\tgraph = series.graph,\n\t\t\tgraphNeg = series.graphNeg,\n\t\t\tstateOptions = options.states,\n\t\t\tlineWidth = options.lineWidth,\n\t\t\tattribs;\n\n\t\tstate = state || NORMAL_STATE;\n\n\t\tif (series.state !== state) {\n\t\t\tseries.state = state;\n\n\t\t\tif (stateOptions[state] && stateOptions[state].enabled === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (state) {\n\t\t\t\tlineWidth = stateOptions[state].lineWidth || lineWidth + 1;\n\t\t\t}\n\n\t\t\tif (graph && !graph.dashstyle) { // hover is turned off for dashed lines in VML\n\t\t\t\tattribs = {\n\t\t\t\t\t'stroke-width': lineWidth\n\t\t\t\t};\n\t\t\t\t// use attr because animate will cause any other animation on the graph to stop\n\t\t\t\tgraph.attr(attribs);\n\t\t\t\tif (graphNeg) {\n\t\t\t\t\tgraphNeg.attr(attribs);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Set the visibility of the graph\n\t *\n\t * @param vis {Boolean} True to show the series, false to hide. If UNDEFINED,\n\t *        the visibility is toggled.\n\t */\n\tsetVisible: function (vis, redraw) {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\tlegendItem = series.legendItem,\n\t\t\tshowOrHide,\n\t\t\tignoreHiddenSeries = chart.options.chart.ignoreHiddenSeries,\n\t\t\toldVisibility = series.visible;\n\n\t\t// if called without an argument, toggle visibility\n\t\tseries.visible = vis = series.userOptions.visible = vis === UNDEFINED ? !oldVisibility : vis;\n\t\tshowOrHide = vis ? 'show' : 'hide';\n\n\t\t// show or hide elements\n\t\teach(['group', 'dataLabelsGroup', 'markerGroup', 'tracker'], function (key) {\n\t\t\tif (series[key]) {\n\t\t\t\tseries[key][showOrHide]();\n\t\t\t}\n\t\t});\n\n\t\t\n\t\t// hide tooltip (#1361)\n\t\tif (chart.hoverSeries === series) {\n\t\t\tseries.onMouseOut();\n\t\t}\n\n\n\t\tif (legendItem) {\n\t\t\tchart.legend.colorizeItem(series, vis);\n\t\t}\n\n\n\t\t// rescale or adapt to resized chart\n\t\tseries.isDirty = true;\n\t\t// in a stack, all other series are affected\n\t\tif (series.options.stacking) {\n\t\t\teach(chart.series, function (otherSeries) {\n\t\t\t\tif (otherSeries.options.stacking && otherSeries.visible) {\n\t\t\t\t\totherSeries.isDirty = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// show or hide linked series\n\t\teach(series.linkedSeries, function (otherSeries) {\n\t\t\totherSeries.setVisible(vis, false);\n\t\t});\n\n\t\tif (ignoreHiddenSeries) {\n\t\t\tchart.isDirtyBox = true;\n\t\t}\n\t\tif (redraw !== false) {\n\t\t\tchart.redraw();\n\t\t}\n\n\t\tfireEvent(series, showOrHide);\n\t},\n\n\t/**\n\t * Show the graph\n\t */\n\tshow: function () {\n\t\tthis.setVisible(true);\n\t},\n\n\t/**\n\t * Hide the graph\n\t */\n\thide: function () {\n\t\tthis.setVisible(false);\n\t},\n\n\n\t/**\n\t * Set the selected state of the graph\n\t *\n\t * @param selected {Boolean} True to select the series, false to unselect. If\n\t *        UNDEFINED, the selection state is toggled.\n\t */\n\tselect: function (selected) {\n\t\tvar series = this;\n\t\t// if called without an argument, toggle\n\t\tseries.selected = selected = (selected === UNDEFINED) ? !series.selected : selected;\n\n\t\tif (series.checkbox) {\n\t\t\tseries.checkbox.checked = selected;\n\t\t}\n\n\t\tfireEvent(series, selected ? 'select' : 'unselect');\n\t},\n\n\t/**\n\t * Draw the tracker object that sits above all data labels and markers to\n\t * track mouse events on the graph or points. For the line type charts\n\t * the tracker uses the same graphPath, but with a greater stroke width\n\t * for better control.\n\t */\n\tdrawTracker: function () {\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\ttrackByArea = options.trackByArea,\n\t\t\ttrackerPath = [].concat(trackByArea ? series.areaPath : series.graphPath),\n\t\t\ttrackerPathLength = trackerPath.length,\n\t\t\tchart = series.chart,\n\t\t\tpointer = chart.pointer,\n\t\t\trenderer = chart.renderer,\n\t\t\tsnap = chart.options.tooltip.snap,\n\t\t\ttracker = series.tracker,\n\t\t\tcursor = options.cursor,\n\t\t\tcss = cursor && { cursor: cursor },\n\t\t\tsinglePoints = series.singlePoints,\n\t\t\tsinglePoint,\n\t\t\ti,\n\t\t\tonMouseOver = function () {\n\t\t\t\tif (chart.hoverSeries !== series) {\n\t\t\t\t\tseries.onMouseOver();\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Extend end points. A better way would be to use round linecaps,\n\t\t// but those are not clickable in VML.\n\t\tif (trackerPathLength && !trackByArea) {\n\t\t\ti = trackerPathLength + 1;\n\t\t\twhile (i--) {\n\t\t\t\tif (trackerPath[i] === M) { // extend left side\n\t\t\t\t\ttrackerPath.splice(i + 1, 0, trackerPath[i + 1] - snap, trackerPath[i + 2], L);\n\t\t\t\t}\n\t\t\t\tif ((i && trackerPath[i] === M) || i === trackerPathLength) { // extend right side\n\t\t\t\t\ttrackerPath.splice(i, 0, L, trackerPath[i - 2] + snap, trackerPath[i - 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// handle single points\n\t\tfor (i = 0; i < singlePoints.length; i++) {\n\t\t\tsinglePoint = singlePoints[i];\n\t\t\ttrackerPath.push(M, singlePoint.plotX - snap, singlePoint.plotY,\n\t\t\t\tL, singlePoint.plotX + snap, singlePoint.plotY);\n\t\t}\n\t\t\n\t\t\n\n\t\t// draw the tracker\n\t\tif (tracker) {\n\t\t\ttracker.attr({ d: trackerPath });\n\n\t\t} else { // create\n\t\t\t\t\n\t\t\tseries.tracker = renderer.path(trackerPath)\n\t\t\t\t.attr({\n\t\t\t\t\t'stroke-linejoin': 'round', // #1225\n\t\t\t\t\tvisibility: series.visible ? VISIBLE : HIDDEN,\n\t\t\t\t\tstroke: TRACKER_FILL,\n\t\t\t\t\tfill: trackByArea ? TRACKER_FILL : NONE,\n\t\t\t\t\t'stroke-width' : options.lineWidth + (trackByArea ? 0 : 2 * snap),\n\t\t\t\t\tzIndex: 2\n\t\t\t\t})\n\t\t\t\t.add(series.group);\n\t\t\t\t\n\t\t\t// The tracker is added to the series group, which is clipped, but is covered \n\t\t\t// by the marker group. So the marker group also needs to capture events.\n\t\t\teach([series.tracker, series.markerGroup], function (tracker) {\n\t\t\t\ttracker.addClass(PREFIX + 'tracker')\n\t\t\t\t\t.on('mouseover', onMouseOver)\n\t\t\t\t\t.on('mouseout', function (e) { pointer.onTrackerMouseOut(e); })\n\t\t\t\t\t.css(css);\n\n\t\t\t\tif (hasTouch) {\n\t\t\t\t\ttracker.on('touchstart', onMouseOver);\n\t\t\t\t} \n\t\t\t});\n\t\t}\n\n\t}\n\n}; // end Series prototype\n\n\n/**\n * LineSeries object\n */\nvar LineSeries = extendClass(Series);\nseriesTypes.line = LineSeries;\n\n/**\n * Set the default options for area\n */\ndefaultPlotOptions.area = merge(defaultSeriesOptions, {\n\tthreshold: 0\n\t// trackByArea: false,\n\t// lineColor: null, // overrides color, but lets fillColor be unaltered\n\t// fillOpacity: 0.75,\n\t// fillColor: null\n});\n\n/**\n * AreaSeries object\n */\nvar AreaSeries = extendClass(Series, {\n\ttype: 'area',\n\t\n\t/**\n\t * For stacks, don't split segments on null values. Instead, draw null values with \n\t * no marker. Also insert dummy points for any X position that exists in other series\n\t * in the stack.\n\t */ \n\tgetSegments: function () {\n\t\tvar segments = [],\n\t\t\tsegment = [],\n\t\t\tkeys = [],\n\t\t\txAxis = this.xAxis,\n\t\t\tyAxis = this.yAxis,\n\t\t\tstack = yAxis.stacks[this.stackKey],\n\t\t\tpointMap = {},\n\t\t\tplotX,\n\t\t\tplotY,\n\t\t\tpoints = this.points,\n\t\t\tconnectNulls = this.options.connectNulls,\n\t\t\tval,\n\t\t\ti,\n\t\t\tx;\n\n\t\tif (this.options.stacking && !this.cropped) { // cropped causes artefacts in Stock, and perf issue\n\t\t\t// Create a map where we can quickly look up the points by their X value.\n\t\t\tfor (i = 0; i < points.length; i++) {\n\t\t\t\tpointMap[points[i].x] = points[i];\n\t\t\t}\n\n\t\t\t// Sort the keys (#1651)\n\t\t\tfor (x in stack) {\n\t\t\t\tkeys.push(+x);\n\t\t\t}\n\t\t\tkeys.sort(function (a, b) {\n\t\t\t\treturn a - b;\n\t\t\t});\n\n\t\t\teach(keys, function (x) {\n\t\t\t\tif (connectNulls && (!pointMap[x] || pointMap[x].y === null)) { // #1836\n\t\t\t\t\treturn;\n\n\t\t\t\t// The point exists, push it to the segment\n\t\t\t\t} else if (pointMap[x]) {\n\t\t\t\t\tsegment.push(pointMap[x]);\n\n\t\t\t\t// There is no point for this X value in this series, so we \n\t\t\t\t// insert a dummy point in order for the areas to be drawn\n\t\t\t\t// correctly.\n\t\t\t\t} else {\n\t\t\t\t\tplotX = xAxis.translate(x);\n\t\t\t\t\tval = stack[x].percent ? (stack[x].total ? stack[x].cum * 100 / stack[x].total : 0) : stack[x].cum; // #1991\n\t\t\t\t\tplotY = yAxis.toPixels(val, true);\n\t\t\t\t\tsegment.push({ \n\t\t\t\t\t\ty: null, \n\t\t\t\t\t\tplotX: plotX,\n\t\t\t\t\t\tclientX: plotX, \n\t\t\t\t\t\tplotY: plotY, \n\t\t\t\t\t\tyBottom: plotY,\n\t\t\t\t\t\tonMouseOver: noop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (segment.length) {\n\t\t\t\tsegments.push(segment);\n\t\t\t}\n\n\t\t} else {\n\t\t\tSeries.prototype.getSegments.call(this);\n\t\t\tsegments = this.segments;\n\t\t}\n\n\t\tthis.segments = segments;\n\t},\n\t\n\t/**\n\t * Extend the base Series getSegmentPath method by adding the path for the area.\n\t * This path is pushed to the series.areaPath property.\n\t */\n\tgetSegmentPath: function (segment) {\n\t\t\n\t\tvar segmentPath = Series.prototype.getSegmentPath.call(this, segment), // call base method\n\t\t\tareaSegmentPath = [].concat(segmentPath), // work on a copy for the area path\n\t\t\ti,\n\t\t\toptions = this.options,\n\t\t\tsegLength = segmentPath.length,\n\t\t\ttranslatedThreshold = this.yAxis.getThreshold(options.threshold), // #2181\n\t\t\tyBottom;\n\t\t\n\t\tif (segLength === 3) { // for animation from 1 to two points\n\t\t\tareaSegmentPath.push(L, segmentPath[1], segmentPath[2]);\n\t\t}\n\t\tif (options.stacking && !this.closedStacks) {\n\t\t\t\n\t\t\t// Follow stack back. Todo: implement areaspline. A general solution could be to \n\t\t\t// reverse the entire graphPath of the previous series, though may be hard with\n\t\t\t// splines and with series with different extremes\n\t\t\tfor (i = segment.length - 1; i >= 0; i--) {\n\n\t\t\t\tyBottom = pick(segment[i].yBottom, translatedThreshold);\n\t\t\t\n\t\t\t\t// step line?\n\t\t\t\tif (i < segment.length - 1 && options.step) {\n\t\t\t\t\tareaSegmentPath.push(segment[i + 1].plotX, yBottom);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tareaSegmentPath.push(segment[i].plotX, yBottom);\n\t\t\t}\n\n\t\t} else { // follow zero line back\n\t\t\tthis.closeSegment(areaSegmentPath, segment, translatedThreshold);\n\t\t}\n\t\tthis.areaPath = this.areaPath.concat(areaSegmentPath);\n\t\treturn segmentPath;\n\t},\n\t\n\t/**\n\t * Extendable method to close the segment path of an area. This is overridden in polar \n\t * charts.\n\t */\n\tcloseSegment: function (path, segment, translatedThreshold) {\n\t\tpath.push(\n\t\t\tL,\n\t\t\tsegment[segment.length - 1].plotX,\n\t\t\ttranslatedThreshold,\n\t\t\tL,\n\t\t\tsegment[0].plotX,\n\t\t\ttranslatedThreshold\n\t\t);\n\t},\n\t\n\t/**\n\t * Draw the graph and the underlying area. This method calls the Series base\n\t * function and adds the area. The areaPath is calculated in the getSegmentPath\n\t * method called from Series.prototype.drawGraph.\n\t */\n\tdrawGraph: function () {\n\t\t\n\t\t// Define or reset areaPath\n\t\tthis.areaPath = [];\n\t\t\n\t\t// Call the base method\n\t\tSeries.prototype.drawGraph.apply(this);\n\t\t\n\t\t// Define local variables\n\t\tvar series = this,\n\t\t\tareaPath = this.areaPath,\n\t\t\toptions = this.options,\n\t\t\tnegativeColor = options.negativeColor,\n\t\t\tnegativeFillColor = options.negativeFillColor,\n\t\t\tprops = [['area', this.color, options.fillColor]]; // area name, main color, fill color\n\t\t\n\t\tif (negativeColor || negativeFillColor) {\n\t\t\tprops.push(['areaNeg', negativeColor, negativeFillColor]);\n\t\t}\n\t\t\n\t\teach(props, function (prop) {\n\t\t\tvar areaKey = prop[0],\n\t\t\t\tarea = series[areaKey];\n\t\t\t\t\n\t\t\t// Create or update the area\n\t\t\tif (area) { // update\n\t\t\t\tarea.animate({ d: areaPath });\n\t\n\t\t\t} else { // create\n\t\t\t\tseries[areaKey] = series.chart.renderer.path(areaPath)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tfill: pick(\n\t\t\t\t\t\t\tprop[2],\n\t\t\t\t\t\t\tColor(prop[1]).setOpacity(pick(options.fillOpacity, 0.75)).get()\n\t\t\t\t\t\t),\n\t\t\t\t\t\tzIndex: 0 // #1069\n\t\t\t\t\t}).add(series.group);\n\t\t\t}\n\t\t});\n\t},\n\t\n\t/**\n\t * Get the series' symbol in the legend\n\t * \n\t * @param {Object} legend The legend object\n\t * @param {Object} item The series (this) or point\n\t */\n\tdrawLegendSymbol: function (legend, item) {\n\t\t\n\t\titem.legendSymbol = this.chart.renderer.rect(\n\t\t\t0,\n\t\t\tlegend.baseline - 11,\n\t\t\tlegend.options.symbolWidth,\n\t\t\t12,\n\t\t\t2\n\t\t).attr({\n\t\t\tzIndex: 3\n\t\t}).add(item.legendGroup);\t\t\n\t\t\n\t}\n});\n\nseriesTypes.area = AreaSeries;/**\n * Set the default options for spline\n */\ndefaultPlotOptions.spline = merge(defaultSeriesOptions);\n\n/**\n * SplineSeries object\n */\nvar SplineSeries = extendClass(Series, {\n\ttype: 'spline',\n\n\t/**\n\t * Get the spline segment from a given point's previous neighbour to the given point\n\t */\n\tgetPointSpline: function (segment, point, i) {\n\t\tvar smoothing = 1.5, // 1 means control points midway between points, 2 means 1/3 from the point, 3 is 1/4 etc\n\t\t\tdenom = smoothing + 1,\n\t\t\tplotX = point.plotX,\n\t\t\tplotY = point.plotY,\n\t\t\tlastPoint = segment[i - 1],\n\t\t\tnextPoint = segment[i + 1],\n\t\t\tleftContX,\n\t\t\tleftContY,\n\t\t\trightContX,\n\t\t\trightContY,\n\t\t\tret;\n\n\t\t// find control points\n\t\tif (lastPoint && nextPoint) {\n\t\t\n\t\t\tvar lastX = lastPoint.plotX,\n\t\t\t\tlastY = lastPoint.plotY,\n\t\t\t\tnextX = nextPoint.plotX,\n\t\t\t\tnextY = nextPoint.plotY,\n\t\t\t\tcorrection;\n\n\t\t\tleftContX = (smoothing * plotX + lastX) / denom;\n\t\t\tleftContY = (smoothing * plotY + lastY) / denom;\n\t\t\trightContX = (smoothing * plotX + nextX) / denom;\n\t\t\trightContY = (smoothing * plotY + nextY) / denom;\n\n\t\t\t// have the two control points make a straight line through main point\n\t\t\tcorrection = ((rightContY - leftContY) * (rightContX - plotX)) /\n\t\t\t\t(rightContX - leftContX) + plotY - rightContY;\n\n\t\t\tleftContY += correction;\n\t\t\trightContY += correction;\n\n\t\t\t// to prevent false extremes, check that control points are between\n\t\t\t// neighbouring points' y values\n\t\t\tif (leftContY > lastY && leftContY > plotY) {\n\t\t\t\tleftContY = mathMax(lastY, plotY);\n\t\t\t\trightContY = 2 * plotY - leftContY; // mirror of left control point\n\t\t\t} else if (leftContY < lastY && leftContY < plotY) {\n\t\t\t\tleftContY = mathMin(lastY, plotY);\n\t\t\t\trightContY = 2 * plotY - leftContY;\n\t\t\t}\n\t\t\tif (rightContY > nextY && rightContY > plotY) {\n\t\t\t\trightContY = mathMax(nextY, plotY);\n\t\t\t\tleftContY = 2 * plotY - rightContY;\n\t\t\t} else if (rightContY < nextY && rightContY < plotY) {\n\t\t\t\trightContY = mathMin(nextY, plotY);\n\t\t\t\tleftContY = 2 * plotY - rightContY;\n\t\t\t}\n\n\t\t\t// record for drawing in next point\n\t\t\tpoint.rightContX = rightContX;\n\t\t\tpoint.rightContY = rightContY;\n\n\t\t}\n\t\t\n\t\t// Visualize control points for debugging\n\t\t/*\n\t\tif (leftContX) {\n\t\t\tthis.chart.renderer.circle(leftContX + this.chart.plotLeft, leftContY + this.chart.plotTop, 2)\n\t\t\t\t.attr({\n\t\t\t\t\tstroke: 'red',\n\t\t\t\t\t'stroke-width': 1,\n\t\t\t\t\tfill: 'none'\n\t\t\t\t})\n\t\t\t\t.add();\n\t\t\tthis.chart.renderer.path(['M', leftContX + this.chart.plotLeft, leftContY + this.chart.plotTop,\n\t\t\t\t'L', plotX + this.chart.plotLeft, plotY + this.chart.plotTop])\n\t\t\t\t.attr({\n\t\t\t\t\tstroke: 'red',\n\t\t\t\t\t'stroke-width': 1\n\t\t\t\t})\n\t\t\t\t.add();\n\t\t\tthis.chart.renderer.circle(rightContX + this.chart.plotLeft, rightContY + this.chart.plotTop, 2)\n\t\t\t\t.attr({\n\t\t\t\t\tstroke: 'green',\n\t\t\t\t\t'stroke-width': 1,\n\t\t\t\t\tfill: 'none'\n\t\t\t\t})\n\t\t\t\t.add();\n\t\t\tthis.chart.renderer.path(['M', rightContX + this.chart.plotLeft, rightContY + this.chart.plotTop,\n\t\t\t\t'L', plotX + this.chart.plotLeft, plotY + this.chart.plotTop])\n\t\t\t\t.attr({\n\t\t\t\t\tstroke: 'green',\n\t\t\t\t\t'stroke-width': 1\n\t\t\t\t})\n\t\t\t\t.add();\n\t\t}\n\t\t*/\n\n\t\t// moveTo or lineTo\n\t\tif (!i) {\n\t\t\tret = [M, plotX, plotY];\n\t\t} else { // curve from last point to this\n\t\t\tret = [\n\t\t\t\t'C',\n\t\t\t\tlastPoint.rightContX || lastPoint.plotX,\n\t\t\t\tlastPoint.rightContY || lastPoint.plotY,\n\t\t\t\tleftContX || plotX,\n\t\t\t\tleftContY || plotY,\n\t\t\t\tplotX,\n\t\t\t\tplotY\n\t\t\t];\n\t\t\tlastPoint.rightContX = lastPoint.rightContY = null; // reset for updating series later\n\t\t}\n\t\treturn ret;\n\t}\n});\nseriesTypes.spline = SplineSeries;\n\n/**\n * Set the default options for areaspline\n */\ndefaultPlotOptions.areaspline = merge(defaultPlotOptions.area);\n\n/**\n * AreaSplineSeries object\n */\nvar areaProto = AreaSeries.prototype,\n\tAreaSplineSeries = extendClass(SplineSeries, {\n\t\ttype: 'areaspline',\n\t\tclosedStacks: true, // instead of following the previous graph back, follow the threshold back\n\t\t\n\t\t// Mix in methods from the area series\n\t\tgetSegmentPath: areaProto.getSegmentPath,\n\t\tcloseSegment: areaProto.closeSegment,\n\t\tdrawGraph: areaProto.drawGraph,\n\t\tdrawLegendSymbol: areaProto.drawLegendSymbol\n\t});\nseriesTypes.areaspline = AreaSplineSeries;\n\n/**\n * Set the default options for column\n */\ndefaultPlotOptions.column = merge(defaultSeriesOptions, {\n\tborderColor: '#FFFFFF',\n\tborderWidth: 1,\n\tborderRadius: 0,\n\t//colorByPoint: undefined,\n\tgroupPadding: 0.2,\n\t//grouping: true,\n\tmarker: null, // point options are specified in the base options\n\tpointPadding: 0.1,\n\t//pointWidth: null,\n\tminPointLength: 0,\n\tcropThreshold: 50, // when there are more points, they will not animate out of the chart on xAxis.setExtremes\n\tpointRange: null, // null means auto, meaning 1 in a categorized axis and least distance between points if not categories\n\tstates: {\n\t\thover: {\n\t\t\tbrightness: 0.1,\n\t\t\tshadow: false\n\t\t},\n\t\tselect: {\n\t\t\tcolor: '#C0C0C0',\n\t\t\tborderColor: '#000000',\n\t\t\tshadow: false\n\t\t}\n\t},\n\tdataLabels: {\n\t\talign: null, // auto\n\t\tverticalAlign: null, // auto\n\t\ty: null\n\t},\n\tstickyTracking: false,\n\tthreshold: 0\n});\n\n/**\n * ColumnSeries object\n */\nvar ColumnSeries = extendClass(Series, {\n\ttype: 'column',\n\tpointAttrToOptions: { // mapping between SVG attributes and the corresponding options\n\t\tstroke: 'borderColor',\n\t\t'stroke-width': 'borderWidth',\n\t\tfill: 'color',\n\t\tr: 'borderRadius'\n\t},\n\tcropShoulder: 0,\n\ttrackerGroups: ['group', 'dataLabelsGroup'],\n\tnegStacks: true, // use separate negative stacks, unlike area stacks where a negative \n\t\t// point is substracted from previous (#1910)\n\t\n\t/**\n\t * Initialize the series\n\t */\n\tinit: function () {\n\t\tSeries.prototype.init.apply(this, arguments);\n\n\t\tvar series = this,\n\t\t\tchart = series.chart;\n\n\t\t// if the series is added dynamically, force redraw of other\n\t\t// series affected by a new column\n\t\tif (chart.hasRendered) {\n\t\t\teach(chart.series, function (otherSeries) {\n\t\t\t\tif (otherSeries.type === series.type) {\n\t\t\t\t\totherSeries.isDirty = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Return the width and x offset of the columns adjusted for grouping, groupPadding, pointPadding,\n\t * pointWidth etc. \n\t */\n\tgetColumnMetrics: function () {\n\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\txAxis = series.xAxis,\n\t\t\tyAxis = series.yAxis,\n\t\t\treversedXAxis = xAxis.reversed,\n\t\t\tstackKey,\n\t\t\tstackGroups = {},\n\t\t\tcolumnIndex,\n\t\t\tcolumnCount = 0;\n\n\t\t// Get the total number of column type series.\n\t\t// This is called on every series. Consider moving this logic to a\n\t\t// chart.orderStacks() function and call it on init, addSeries and removeSeries\n\t\tif (options.grouping === false) {\n\t\t\tcolumnCount = 1;\n\t\t} else {\n\t\t\teach(series.chart.series, function (otherSeries) {\n\t\t\t\tvar otherOptions = otherSeries.options,\n\t\t\t\t\totherYAxis = otherSeries.yAxis;\n\t\t\t\tif (otherSeries.type === series.type && otherSeries.visible &&\n\t\t\t\t\t\tyAxis.len === otherYAxis.len && yAxis.pos === otherYAxis.pos) {  // #642, #2086\n\t\t\t\t\tif (otherOptions.stacking) {\n\t\t\t\t\t\tstackKey = otherSeries.stackKey;\n\t\t\t\t\t\tif (stackGroups[stackKey] === UNDEFINED) {\n\t\t\t\t\t\t\tstackGroups[stackKey] = columnCount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcolumnIndex = stackGroups[stackKey];\n\t\t\t\t\t} else if (otherOptions.grouping !== false) { // #1162\n\t\t\t\t\t\tcolumnIndex = columnCount++;\n\t\t\t\t\t}\n\t\t\t\t\totherSeries.columnIndex = columnIndex;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvar categoryWidth = mathMin(\n\t\t\t\tmathAbs(xAxis.transA) * (xAxis.ordinalSlope || options.pointRange || xAxis.closestPointRange || 1), \n\t\t\t\txAxis.len // #1535\n\t\t\t),\n\t\t\tgroupPadding = categoryWidth * options.groupPadding,\n\t\t\tgroupWidth = categoryWidth - 2 * groupPadding,\n\t\t\tpointOffsetWidth = groupWidth / columnCount,\n\t\t\toptionPointWidth = options.pointWidth,\n\t\t\tpointPadding = defined(optionPointWidth) ? (pointOffsetWidth - optionPointWidth) / 2 :\n\t\t\t\tpointOffsetWidth * options.pointPadding,\n\t\t\tpointWidth = pick(optionPointWidth, pointOffsetWidth - 2 * pointPadding), // exact point width, used in polar charts\n\t\t\tcolIndex = (reversedXAxis ? \n\t\t\t\tcolumnCount - (series.columnIndex || 0) : // #1251\n\t\t\t\tseries.columnIndex) || 0,\n\t\t\tpointXOffset = pointPadding + (groupPadding + colIndex *\n\t\t\t\tpointOffsetWidth - (categoryWidth / 2)) *\n\t\t\t\t(reversedXAxis ? -1 : 1);\n\n\t\t// Save it for reading in linked series (Error bars particularly)\n\t\treturn (series.columnMetrics = { \n\t\t\twidth: pointWidth, \n\t\t\toffset: pointXOffset \n\t\t});\n\t\t\t\n\t},\n\n\t/**\n\t * Translate each point to the plot area coordinate system and find shape positions\n\t */\n\ttranslate: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\toptions = series.options,\n\t\t\tborderWidth = options.borderWidth,\n\t\t\tyAxis = series.yAxis,\n\t\t\tthreshold = options.threshold,\n\t\t\ttranslatedThreshold = series.translatedThreshold = yAxis.getThreshold(threshold),\n\t\t\tminPointLength = pick(options.minPointLength, 5),\n\t\t\tmetrics = series.getColumnMetrics(),\n\t\t\tpointWidth = metrics.width,\n\t\t\tseriesBarW = series.barW = mathCeil(mathMax(pointWidth, 1 + 2 * borderWidth)), // rounded and postprocessed for border width\n\t\t\tpointXOffset = series.pointXOffset = metrics.offset,\n\t\t\txCrisp = -(borderWidth % 2 ? 0.5 : 0),\n\t\t\tyCrisp = borderWidth % 2 ? 0.5 : 1;\n\n\t\tif (chart.renderer.isVML && chart.inverted) {\n\t\t\tyCrisp += 1;\n\t\t}\n\n\t\tSeries.prototype.translate.apply(series);\n\n\t\t// record the new values\n\t\teach(series.points, function (point) {\n\t\t\tvar yBottom = pick(point.yBottom, translatedThreshold),\n\t\t\t\tplotY = mathMin(mathMax(-999 - yBottom, point.plotY), yAxis.len + 999 + yBottom), // Don't draw too far outside plot area (#1303, #2241)\n\t\t\t\tbarX = point.plotX + pointXOffset,\n\t\t\t\tbarW = seriesBarW,\n\t\t\t\tbarY = mathMin(plotY, yBottom),\n\t\t\t\tright,\n\t\t\t\tbottom,\n\t\t\t\tfromTop,\n\t\t\t\tfromLeft,\n\t\t\t\tbarH = mathMax(plotY, yBottom) - barY;\n\n\t\t\t// Handle options.minPointLength\n\t\t\tif (mathAbs(barH) < minPointLength) {\n\t\t\t\tif (minPointLength) {\n\t\t\t\t\tbarH = minPointLength;\n\t\t\t\t\tbarY =\n\t\t\t\t\t\tmathRound(mathAbs(barY - translatedThreshold) > minPointLength ? // stacked\n\t\t\t\t\t\t\tyBottom - minPointLength : // keep position\n\t\t\t\t\t\t\ttranslatedThreshold - (yAxis.translate(point.y, 0, 1, 0, 1) <= translatedThreshold ? minPointLength : 0)); // use exact yAxis.translation (#1485)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cache for access in polar\n\t\t\tpoint.barX = barX;\n\t\t\tpoint.pointWidth = pointWidth;\n\n\n\t\t\t// Round off to obtain crisp edges\n\t\t\tfromLeft = mathAbs(barX) < 0.5;\n\t\t\tright = mathRound(barX + barW) + xCrisp;\n\t\t\tbarX = mathRound(barX) + xCrisp;\n\t\t\tbarW = right - barX;\n\n\t\t\tfromTop = mathAbs(barY) < 0.5;\n\t\t\tbottom = mathRound(barY + barH) + yCrisp;\n\t\t\tbarY = mathRound(barY) + yCrisp;\n\t\t\tbarH = bottom - barY;\n\n\t\t\t// Top and left edges are exceptions\n\t\t\tif (fromLeft) {\n\t\t\t\tbarX += 1;\n\t\t\t\tbarW -= 1;\n\t\t\t}\n\t\t\tif (fromTop) {\n\t\t\t\tbarY -= 1;\n\t\t\t\tbarH += 1;\n\t\t\t}\n\n\t\t\t// Register shape type and arguments to be used in drawPoints\n\t\t\tpoint.shapeType = 'rect';\n\t\t\tpoint.shapeArgs = {\n\t\t\t\tx: barX,\n\t\t\t\ty: barY,\n\t\t\t\twidth: barW,\n\t\t\t\theight: barH\n\t\t\t};\n\t\t});\n\n\t},\n\n\tgetSymbol: noop,\n\t\n\t/**\n\t * Use a solid rectangle like the area series types\n\t */\n\tdrawLegendSymbol: AreaSeries.prototype.drawLegendSymbol,\n\t\n\t\n\t/**\n\t * Columns have no graph\n\t */\n\tdrawGraph: noop,\n\n\t/**\n\t * Draw the columns. For bars, the series.group is rotated, so the same coordinates\n\t * apply for columns and bars. This method is inherited by scatter series.\n\t *\n\t */\n\tdrawPoints: function () {\n\t\tvar series = this,\n\t\t\toptions = series.options,\n\t\t\trenderer = series.chart.renderer,\n\t\t\tshapeArgs;\n\n\n\t\t// draw the columns\n\t\teach(series.points, function (point) {\n\t\t\tvar plotY = point.plotY,\n\t\t\t\tgraphic = point.graphic;\n\n\t\t\tif (plotY !== UNDEFINED && !isNaN(plotY) && point.y !== null) {\n\t\t\t\tshapeArgs = point.shapeArgs;\n\t\t\t\t\n\t\t\t\tif (graphic) { // update\n\t\t\t\t\tstop(graphic);\n\t\t\t\t\tgraphic.animate(merge(shapeArgs));\n\n\t\t\t\t} else {\n\t\t\t\t\tpoint.graphic = graphic = renderer[point.shapeType](shapeArgs)\n\t\t\t\t\t\t.attr(point.pointAttr[point.selected ? SELECT_STATE : NORMAL_STATE])\n\t\t\t\t\t\t.add(series.group)\n\t\t\t\t\t\t.shadow(options.shadow, null, options.stacking && !options.borderRadius);\n\t\t\t\t}\n\n\t\t\t} else if (graphic) {\n\t\t\t\tpoint.graphic = graphic.destroy(); // #1269\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Add tracking event listener to the series group, so the point graphics\n\t * themselves act as trackers\n\t */\n\tdrawTracker: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\tpointer = chart.pointer,\n\t\t\tcursor = series.options.cursor,\n\t\t\tcss = cursor && { cursor: cursor },\n\t\t\tonMouseOver = function (e) {\n\t\t\t\tvar target = e.target,\n\t\t\t\t\tpoint;\n\n\t\t\t\tif (chart.hoverSeries !== series) {\n\t\t\t\t\tseries.onMouseOver();\n\t\t\t\t}\n\t\t\t\twhile (target && !point) {\n\t\t\t\t\tpoint = target.point;\n\t\t\t\t\ttarget = target.parentNode;\n\t\t\t\t}\n\t\t\t\tif (point !== UNDEFINED && point !== chart.hoverPoint) { // undefined on graph in scatterchart\n\t\t\t\t\tpoint.onMouseOver(e);\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Add reference to the point\n\t\teach(series.points, function (point) {\n\t\t\tif (point.graphic) {\n\t\t\t\tpoint.graphic.element.point = point;\n\t\t\t}\n\t\t\tif (point.dataLabel) {\n\t\t\t\tpoint.dataLabel.element.point = point;\n\t\t\t}\n\t\t});\n\n\t\t// Add the event listeners, we need to do this only once\n\t\tif (!series._hasTracking) {\n\t\t\teach(series.trackerGroups, function (key) {\n\t\t\t\tif (series[key]) { // we don't always have dataLabelsGroup\n\t\t\t\t\tseries[key]\n\t\t\t\t\t\t.addClass(PREFIX + 'tracker')\n\t\t\t\t\t\t.on('mouseover', onMouseOver)\n\t\t\t\t\t\t.on('mouseout', function (e) { pointer.onTrackerMouseOut(e); })\n\t\t\t\t\t\t.css(css);\n\t\t\t\t\tif (hasTouch) {\n\t\t\t\t\t\tseries[key].on('touchstart', onMouseOver);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tseries._hasTracking = true;\n\t\t}\n\t},\n\t\n\t/** \n\t * Override the basic data label alignment by adjusting for the position of the column\n\t */\n\talignDataLabel: function (point, dataLabel, options,  alignTo, isNew) {\n\t\tvar chart = this.chart,\n\t\t\tinverted = chart.inverted,\n\t\t\tdlBox = point.dlBox || point.shapeArgs, // data label box for alignment\n\t\t\tbelow = point.below || (point.plotY > pick(this.translatedThreshold, chart.plotSizeY)),\n\t\t\tinside = pick(options.inside, !!this.options.stacking); // draw it inside the box?\n\t\t\n\t\t// Align to the column itself, or the top of it\n\t\tif (dlBox) { // Area range uses this method but not alignTo\n\t\t\talignTo = merge(dlBox);\n\t\t\tif (inverted) {\n\t\t\t\talignTo = {\n\t\t\t\t\tx: chart.plotWidth - alignTo.y - alignTo.height,\n\t\t\t\t\ty: chart.plotHeight - alignTo.x - alignTo.width,\n\t\t\t\t\twidth: alignTo.height,\n\t\t\t\t\theight: alignTo.width\n\t\t\t\t};\n\t\t\t}\n\t\t\t\t\n\t\t\t// Compute the alignment box\n\t\t\tif (!inside) {\n\t\t\t\tif (inverted) {\n\t\t\t\t\talignTo.x += below ? 0 : alignTo.width;\n\t\t\t\t\talignTo.width = 0;\n\t\t\t\t} else {\n\t\t\t\t\talignTo.y += below ? alignTo.height : 0;\n\t\t\t\t\talignTo.height = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// When alignment is undefined (typically columns and bars), display the individual \n\t\t// point below or above the point depending on the threshold\n\t\toptions.align = pick(\n\t\t\toptions.align, \n\t\t\t!inverted || inside ? 'center' : below ? 'right' : 'left'\n\t\t);\n\t\toptions.verticalAlign = pick(\n\t\t\toptions.verticalAlign, \n\t\t\tinverted || inside ? 'middle' : below ? 'top' : 'bottom'\n\t\t);\n\t\t\n\t\t// Call the parent method\n\t\tSeries.prototype.alignDataLabel.call(this, point, dataLabel, options, alignTo, isNew);\n\t},\n\n\n\t/**\n\t * Animate the column heights one by one from zero\n\t * @param {Boolean} init Whether to initialize the animation or run it\n\t */\n\tanimate: function (init) {\n\t\tvar series = this,\n\t\t\tyAxis = this.yAxis,\n\t\t\toptions = series.options,\n\t\t\tinverted = this.chart.inverted,\n\t\t\tattr = {},\n\t\t\ttranslatedThreshold;\n\n\t\tif (hasSVG) { // VML is too slow anyway\n\t\t\tif (init) {\n\t\t\t\tattr.scaleY = 0.001;\n\t\t\t\ttranslatedThreshold = mathMin(yAxis.pos + yAxis.len, mathMax(yAxis.pos, yAxis.toPixels(options.threshold)));\n\t\t\t\tif (inverted) {\n\t\t\t\t\tattr.translateX = translatedThreshold - yAxis.len;\n\t\t\t\t} else {\n\t\t\t\t\tattr.translateY = translatedThreshold;\n\t\t\t\t}\n\t\t\t\tseries.group.attr(attr);\n\n\t\t\t} else { // run the animation\n\t\t\t\t\n\t\t\t\tattr.scaleY = 1;\n\t\t\t\tattr[inverted ? 'translateX' : 'translateY'] = yAxis.pos;\n\t\t\t\tseries.group.animate(attr, series.options.animation);\n\n\t\t\t\t// delete this function to allow it only once\n\t\t\t\tseries.animate = null;\n\t\t\t}\n\t\t}\n\t},\n\t\n\t/**\n\t * Remove this series from the chart\n\t */\n\tremove: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart;\n\n\t\t// column and bar series affects other series of the same type\n\t\t// as they are either stacked or grouped\n\t\tif (chart.hasRendered) {\n\t\t\teach(chart.series, function (otherSeries) {\n\t\t\t\tif (otherSeries.type === series.type) {\n\t\t\t\t\totherSeries.isDirty = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tSeries.prototype.remove.apply(series, arguments);\n\t}\n});\nseriesTypes.column = ColumnSeries;\n/**\n * Set the default options for bar\n */\ndefaultPlotOptions.bar = merge(defaultPlotOptions.column);\n/**\n * The Bar series class\n */\nvar BarSeries = extendClass(ColumnSeries, {\n\ttype: 'bar',\n\tinverted: true\n});\nseriesTypes.bar = BarSeries;\n\n/**\n * Set the default options for scatter\n */\ndefaultPlotOptions.scatter = merge(defaultSeriesOptions, {\n\tlineWidth: 0,\n\ttooltip: {\n\t\theaderFormat: '<span style=\"font-size: 10px; color:{series.color}\">{series.name}</span><br/>',\n\t\tpointFormat: 'x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>',\n\t\tfollowPointer: true\n\t},\n\tstickyTracking: false\n});\n\n/**\n * The scatter series class\n */\nvar ScatterSeries = extendClass(Series, {\n\ttype: 'scatter',\n\tsorted: false,\n\trequireSorting: false,\n\tnoSharedTooltip: true,\n\ttrackerGroups: ['markerGroup'],\n\n\tdrawTracker: ColumnSeries.prototype.drawTracker,\n\t\n\tsetTooltipPoints: noop\n});\nseriesTypes.scatter = ScatterSeries;\n\n/**\n * Set the default options for pie\n */\ndefaultPlotOptions.pie = merge(defaultSeriesOptions, {\n\tborderColor: '#FFFFFF',\n\tborderWidth: 1,\n\tcenter: [null, null],\n\tclip: false,\n\tcolorByPoint: true, // always true for pies\n\tdataLabels: {\n\t\t// align: null,\n\t\t// connectorWidth: 1,\n\t\t// connectorColor: point.color,\n\t\t// connectorPadding: 5,\n\t\tdistance: 30,\n\t\tenabled: true,\n\t\tformatter: function () {\n\t\t\treturn this.point.name;\n\t\t}\n\t\t// softConnector: true,\n\t\t//y: 0\n\t},\n\tignoreHiddenPoint: true,\n\t//innerSize: 0,\n\tlegendType: 'point',\n\tmarker: null, // point options are specified in the base options\n\tsize: null,\n\tshowInLegend: false,\n\tslicedOffset: 10,\n\tstates: {\n\t\thover: {\n\t\t\tbrightness: 0.1,\n\t\t\tshadow: false\n\t\t}\n\t},\n\tstickyTracking: false,\n\ttooltip: {\n\t\tfollowPointer: true\n\t}\n});\n\n/**\n * Extended point object for pies\n */\nvar PiePoint = extendClass(Point, {\n\t/**\n\t * Initiate the pie slice\n\t */\n\tinit: function () {\n\n\t\tPoint.prototype.init.apply(this, arguments);\n\n\t\tvar point = this,\n\t\t\ttoggleSlice;\n\n\t\t// Disallow negative values (#1530)\n\t\tif (point.y < 0) {\n\t\t\tpoint.y = null;\n\t\t}\n\n\t\t//visible: options.visible !== false,\n\t\textend(point, {\n\t\t\tvisible: point.visible !== false,\n\t\t\tname: pick(point.name, 'Slice')\n\t\t});\n\n\t\t// add event listener for select\n\t\ttoggleSlice = function (e) {\n\t\t\tpoint.slice(e.type === 'select');\n\t\t};\n\t\taddEvent(point, 'select', toggleSlice);\n\t\taddEvent(point, 'unselect', toggleSlice);\n\n\t\treturn point;\n\t},\n\n\t/**\n\t * Toggle the visibility of the pie slice\n\t * @param {Boolean} vis Whether to show the slice or not. If undefined, the\n\t *    visibility is toggled\n\t */\n\tsetVisible: function (vis) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tchart = series.chart,\n\t\t\tmethod;\n\n\t\t// if called without an argument, toggle visibility\n\t\tpoint.visible = point.options.visible = vis = vis === UNDEFINED ? !point.visible : vis;\n\t\tseries.options.data[inArray(point, series.data)] = point.options; // update userOptions.data\n\t\t\n\t\tmethod = vis ? 'show' : 'hide';\n\n\t\t// Show and hide associated elements\n\t\teach(['graphic', 'dataLabel', 'connector', 'shadowGroup'], function (key) {\n\t\t\tif (point[key]) {\n\t\t\t\tpoint[key][method]();\n\t\t\t}\n\t\t});\n\n\t\tif (point.legendItem) {\n\t\t\tchart.legend.colorizeItem(point, vis);\n\t\t}\n\t\t\n\t\t// Handle ignore hidden slices\n\t\tif (!series.isDirty && series.options.ignoreHiddenPoint) {\n\t\t\tseries.isDirty = true;\n\t\t\tchart.redraw();\n\t\t}\n\t},\n\n\t/**\n\t * Set or toggle whether the slice is cut out from the pie\n\t * @param {Boolean} sliced When undefined, the slice state is toggled\n\t * @param {Boolean} redraw Whether to redraw the chart. True by default.\n\t */\n\tslice: function (sliced, redraw, animation) {\n\t\tvar point = this,\n\t\t\tseries = point.series,\n\t\t\tchart = series.chart,\n\t\t\ttranslation;\n\n\t\tsetAnimation(animation, chart);\n\n\t\t// redraw is true by default\n\t\tredraw = pick(redraw, true);\n\n\t\t// if called without an argument, toggle\n\t\tpoint.sliced = point.options.sliced = sliced = defined(sliced) ? sliced : !point.sliced;\n\t\tseries.options.data[inArray(point, series.data)] = point.options; // update userOptions.data\n\n\t\ttranslation = sliced ? point.slicedTranslation : {\n\t\t\ttranslateX: 0,\n\t\t\ttranslateY: 0\n\t\t};\n\n\t\tpoint.graphic.animate(translation);\n\t\t\n\t\tif (point.shadowGroup) {\n\t\t\tpoint.shadowGroup.animate(translation);\n\t\t}\n\n\t}\n});\n\n/**\n * The Pie series class\n */\nvar PieSeries = {\n\ttype: 'pie',\n\tisCartesian: false,\n\tpointClass: PiePoint,\n\trequireSorting: false,\n\tnoSharedTooltip: true,\n\ttrackerGroups: ['group', 'dataLabelsGroup'],\n\tpointAttrToOptions: { // mapping between SVG attributes and the corresponding options\n\t\tstroke: 'borderColor',\n\t\t'stroke-width': 'borderWidth',\n\t\tfill: 'color'\n\t},\n\n\t/**\n\t * Pies have one color each point\n\t */\n\tgetColor: noop,\n\n\t/**\n\t * Animate the pies in\n\t */\n\tanimate: function (init) {\n\t\tvar series = this,\n\t\t\tpoints = series.points,\n\t\t\tstartAngleRad = series.startAngleRad;\n\n\t\tif (!init) {\n\t\t\teach(points, function (point) {\n\t\t\t\tvar graphic = point.graphic,\n\t\t\t\t\targs = point.shapeArgs;\n\n\t\t\t\tif (graphic) {\n\t\t\t\t\t// start values\n\t\t\t\t\tgraphic.attr({\n\t\t\t\t\t\tr: series.center[3] / 2, // animate from inner radius (#779)\n\t\t\t\t\t\tstart: startAngleRad,\n\t\t\t\t\t\tend: startAngleRad\n\t\t\t\t\t});\n\n\t\t\t\t\t// animate\n\t\t\t\t\tgraphic.animate({\n\t\t\t\t\t\tr: args.r,\n\t\t\t\t\t\tstart: args.start,\n\t\t\t\t\t\tend: args.end\n\t\t\t\t\t}, series.options.animation);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// delete this function to allow it only once\n\t\t\tseries.animate = null;\n\t\t}\n\t},\n\n\t/**\n\t * Extend the basic setData method by running processData and generatePoints immediately,\n\t * in order to access the points from the legend.\n\t */\n\tsetData: function (data, redraw) {\n\t\tSeries.prototype.setData.call(this, data, false);\n\t\tthis.processData();\n\t\tthis.generatePoints();\n\t\tif (pick(redraw, true)) {\n\t\t\tthis.chart.redraw();\n\t\t} \n\t},\n\n\t/**\n\t * Extend the generatePoints method by adding total and percentage properties to each point\n\t */\n\tgeneratePoints: function () {\n\t\tvar i,\n\t\t\ttotal = 0,\n\t\t\tpoints,\n\t\t\tlen,\n\t\t\tpoint,\n\t\t\tignoreHiddenPoint = this.options.ignoreHiddenPoint;\n\n\t\tSeries.prototype.generatePoints.call(this);\n\n\t\t// Populate local vars\n\t\tpoints = this.points;\n\t\tlen = points.length;\n\t\t\n\t\t// Get the total sum\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tpoint = points[i];\n\t\t\ttotal += (ignoreHiddenPoint && !point.visible) ? 0 : point.y;\n\t\t}\n\t\tthis.total = total;\n\n\t\t// Set each point's properties\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tpoint = points[i];\n\t\t\tpoint.percentage = total > 0 ? (point.y / total) * 100 : 0;\n\t\t\tpoint.total = total;\n\t\t}\n\t\t\n\t},\n\t\n\t/**\n\t * Get the center of the pie based on the size and center options relative to the  \n\t * plot area. Borrowed by the polar and gauge series types.\n\t */\n\tgetCenter: function () {\n\t\t\n\t\tvar options = this.options,\n\t\t\tchart = this.chart,\n\t\t\tslicingRoom = 2 * (options.slicedOffset || 0),\n\t\t\thandleSlicingRoom,\n\t\t\tplotWidth = chart.plotWidth - 2 * slicingRoom,\n\t\t\tplotHeight = chart.plotHeight - 2 * slicingRoom,\n\t\t\tcenterOption = options.center,\n\t\t\tpositions = [pick(centerOption[0], '50%'), pick(centerOption[1], '50%'), options.size || '100%', options.innerSize || 0],\n\t\t\tsmallestSize = mathMin(plotWidth, plotHeight),\n\t\t\tisPercent;\n\t\t\n\t\treturn map(positions, function (length, i) {\n\t\t\tisPercent = /%$/.test(length);\n\t\t\thandleSlicingRoom = i < 2 || (i === 2 && isPercent);\n\t\t\treturn (isPercent ?\n\t\t\t\t// i == 0: centerX, relative to width\n\t\t\t\t// i == 1: centerY, relative to height\n\t\t\t\t// i == 2: size, relative to smallestSize\n\t\t\t\t// i == 4: innerSize, relative to smallestSize\n\t\t\t\t[plotWidth, plotHeight, smallestSize, smallestSize][i] *\n\t\t\t\t\tpInt(length) / 100 :\n\t\t\t\tlength) + (handleSlicingRoom ? slicingRoom : 0);\n\t\t});\n\t},\n\t\n\t/**\n\t * Do translation for pie slices\n\t */\n\ttranslate: function (positions) {\n\t\tthis.generatePoints();\n\t\t\n\t\tvar series = this,\n\t\t\tcumulative = 0,\n\t\t\tprecision = 1000, // issue #172\n\t\t\toptions = series.options,\n\t\t\tslicedOffset = options.slicedOffset,\n\t\t\tconnectorOffset = slicedOffset + options.borderWidth,\n\t\t\tstart,\n\t\t\tend,\n\t\t\tangle,\n\t\t\tstartAngle = options.startAngle || 0,\n\t\t\tstartAngleRad = series.startAngleRad = mathPI / 180 * (startAngle - 90),\n\t\t\tendAngleRad = series.endAngleRad = mathPI / 180 * ((options.endAngle || (startAngle + 360)) - 90), // docs\n\t\t\tcirc = endAngleRad - startAngleRad, //2 * mathPI,\n\t\t\tpoints = series.points,\n\t\t\tradiusX, // the x component of the radius vector for a given point\n\t\t\tradiusY,\n\t\t\tlabelDistance = options.dataLabels.distance,\n\t\t\tignoreHiddenPoint = options.ignoreHiddenPoint,\n\t\t\ti,\n\t\t\tlen = points.length,\n\t\t\tpoint;\n\n\t\t// Get positions - either an integer or a percentage string must be given.\n\t\t// If positions are passed as a parameter, we're in a recursive loop for adjusting\n\t\t// space for data labels.\n\t\tif (!positions) {\n\t\t\tseries.center = positions = series.getCenter();\n\t\t}\n\n\t\t// utility for getting the x value from a given y, used for anticollision logic in data labels\n\t\tseries.getX = function (y, left) {\n\n\t\t\tangle = math.asin((y - positions[1]) / (positions[2] / 2 + labelDistance));\n\n\t\t\treturn positions[0] +\n\t\t\t\t(left ? -1 : 1) *\n\t\t\t\t(mathCos(angle) * (positions[2] / 2 + labelDistance));\n\t\t};\n\n\t\t// Calculate the geometry for each point\n\t\tfor (i = 0; i < len; i++) {\n\t\t\t\n\t\t\tpoint = points[i];\n\t\t\t\n\t\t\t// set start and end angle\n\t\t\tstart = startAngleRad + (cumulative * circ);\n\t\t\tif (!ignoreHiddenPoint || point.visible) {\n\t\t\t\tcumulative += point.percentage / 100;\n\t\t\t}\n\t\t\tend = startAngleRad + (cumulative * circ);\n\n\t\t\t// set the shape\n\t\t\tpoint.shapeType = 'arc';\n\t\t\tpoint.shapeArgs = {\n\t\t\t\tx: positions[0],\n\t\t\t\ty: positions[1],\n\t\t\t\tr: positions[2] / 2,\n\t\t\t\tinnerR: positions[3] / 2,\n\t\t\t\tstart: mathRound(start * precision) / precision,\n\t\t\t\tend: mathRound(end * precision) / precision\n\t\t\t};\n\n\t\t\t// center for the sliced out slice\n\t\t\tangle = (end + start) / 2;\n\t\t\tif (angle > 0.75 * circ) {\n\t\t\t\tangle -= 2 * mathPI;\n\t\t\t}\n\t\t\tpoint.slicedTranslation = {\n\t\t\t\ttranslateX: mathRound(mathCos(angle) * slicedOffset),\n\t\t\t\ttranslateY: mathRound(mathSin(angle) * slicedOffset)\n\t\t\t};\n\n\t\t\t// set the anchor point for tooltips\n\t\t\tradiusX = mathCos(angle) * positions[2] / 2;\n\t\t\tradiusY = mathSin(angle) * positions[2] / 2;\n\t\t\tpoint.tooltipPos = [\n\t\t\t\tpositions[0] + radiusX * 0.7,\n\t\t\t\tpositions[1] + radiusY * 0.7\n\t\t\t];\n\t\t\t\n\t\t\tpoint.half = angle < -mathPI / 2 || angle > mathPI / 2 ? 1 : 0;\n\t\t\tpoint.angle = angle;\n\n\t\t\t// set the anchor point for data labels\n\t\t\tconnectorOffset = mathMin(connectorOffset, labelDistance / 2); // #1678\n\t\t\tpoint.labelPos = [\n\t\t\t\tpositions[0] + radiusX + mathCos(angle) * labelDistance, // first break of connector\n\t\t\t\tpositions[1] + radiusY + mathSin(angle) * labelDistance, // a/a\n\t\t\t\tpositions[0] + radiusX + mathCos(angle) * connectorOffset, // second break, right outside pie\n\t\t\t\tpositions[1] + radiusY + mathSin(angle) * connectorOffset, // a/a\n\t\t\t\tpositions[0] + radiusX, // landing point for connector\n\t\t\t\tpositions[1] + radiusY, // a/a\n\t\t\t\tlabelDistance < 0 ? // alignment\n\t\t\t\t\t'center' :\n\t\t\t\t\tpoint.half ? 'right' : 'left', // alignment\n\t\t\t\tangle // center angle\n\t\t\t];\n\n\t\t}\n\t},\n\n\tsetTooltipPoints: noop,\n\tdrawGraph: null,\n\n\t/**\n\t * Draw the data points\n\t */\n\tdrawPoints: function () {\n\t\tvar series = this,\n\t\t\tchart = series.chart,\n\t\t\trenderer = chart.renderer,\n\t\t\tgroupTranslation,\n\t\t\t//center,\n\t\t\tgraphic,\n\t\t\t//group,\n\t\t\tshadow = series.options.shadow,\n\t\t\tshadowGroup,\n\t\t\tshapeArgs;\n\n\t\tif (shadow && !series.shadowGroup) {\n\t\t\tseries.shadowGroup = renderer.g('shadow')\n\t\t\t\t.add(series.group);\n\t\t}\n\n\t\t// draw the slices\n\t\teach(series.points, function (point) {\n\t\t\tgraphic = point.graphic;\n\t\t\tshapeArgs = point.shapeArgs;\n\t\t\tshadowGroup = point.shadowGroup;\n\n\t\t\t// put the shadow behind all points\n\t\t\tif (shadow && !shadowGroup) {\n\t\t\t\tshadowGroup = point.shadowGroup = renderer.g('shadow')\n\t\t\t\t\t.add(series.shadowGroup);\n\t\t\t}\n\n\t\t\t// if the point is sliced, use special translation, else use plot area traslation\n\t\t\tgroupTranslation = point.sliced ? point.slicedTranslation : {\n\t\t\t\ttranslateX: 0,\n\t\t\t\ttranslateY: 0\n\t\t\t};\n\n\t\t\t//group.translate(groupTranslation[0], groupTranslation[1]);\n\t\t\tif (shadowGroup) {\n\t\t\t\tshadowGroup.attr(groupTranslation);\n\t\t\t}\n\n\t\t\t// draw the slice\n\t\t\tif (graphic) {\n\t\t\t\tgraphic.animate(extend(shapeArgs, groupTranslation));\n\t\t\t} else {\n\t\t\t\tpoint.graphic = graphic = renderer.arc(shapeArgs)\n\t\t\t\t\t.setRadialReference(series.center)\n\t\t\t\t\t.attr(\n\t\t\t\t\t\tpoint.pointAttr[point.selected ? SELECT_STATE : NORMAL_STATE]\n\t\t\t\t\t)\n\t\t\t\t\t.attr({ 'stroke-linejoin': 'round' })\n\t\t\t\t\t.attr(groupTranslation)\n\t\t\t\t\t.add(series.group)\n\t\t\t\t\t.shadow(shadow, shadowGroup);\t\n\t\t\t}\n\n\t\t\t// detect point specific visibility\n\t\t\tif (point.visible === false) {\n\t\t\t\tpoint.setVisible(false);\n\t\t\t}\n\n\t\t});\n\n\t},\n\n\t/**\n\t * Utility for sorting data labels\n\t */\n\tsortByAngle: function (points, sign) {\n\t\tpoints.sort(function (a, b) {\n\t\t\treturn a.angle !== undefined && (b.angle - a.angle) * sign;\n\t\t});\n\t},\n\n\t/**\n\t * Override the base drawDataLabels method by pie specific functionality\n\t */\n\tdrawDataLabels: function () {\n\t\tvar series = this,\n\t\t\tdata = series.data,\n\t\t\tpoint,\n\t\t\tchart = series.chart,\n\t\t\toptions = series.options.dataLabels,\n\t\t\tconnectorPadding = pick(options.connectorPadding, 10),\n\t\t\tconnectorWidth = pick(options.connectorWidth, 1),\n\t\t\tplotWidth = chart.plotWidth,\n\t\t\tplotHeight = chart.plotHeight,\n\t\t\tconnector,\n\t\t\tconnectorPath,\n\t\t\tsoftConnector = pick(options.softConnector, true),\n\t\t\tdistanceOption = options.distance,\n\t\t\tseriesCenter = series.center,\n\t\t\tradius = seriesCenter[2] / 2,\n\t\t\tcenterY = seriesCenter[1],\n\t\t\toutside = distanceOption > 0,\n\t\t\tdataLabel,\n\t\t\tdataLabelWidth,\n\t\t\tlabelPos,\n\t\t\tlabelHeight,\n\t\t\thalves = [// divide the points into right and left halves for anti collision\n\t\t\t\t[], // right\n\t\t\t\t[]  // left\n\t\t\t],\n\t\t\tx,\n\t\t\ty,\n\t\t\tvisibility,\n\t\t\trankArr,\n\t\t\ti,\n\t\t\tj,\n\t\t\toverflow = [0, 0, 0, 0], // top, right, bottom, left\n\t\t\tsort = function (a, b) {\n\t\t\t\treturn b.y - a.y;\n\t\t\t};\n\n\t\t// get out if not enabled\n\t\tif (!series.visible || (!options.enabled && !series._hasPointLabels)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// run parent method\n\t\tSeries.prototype.drawDataLabels.apply(series);\n\n\t\t// arrange points for detection collision\n\t\teach(data, function (point) {\n\t\t\tif (point.dataLabel) { // it may have been cancelled in the base method (#407)\n\t\t\t\thalves[point.half].push(point);\n\t\t\t}\n\t\t});\n\n\t\t// assume equal label heights\n\t\ti = 0;\n\t\twhile (!labelHeight && data[i]) { // #1569\n\t\t\tlabelHeight = data[i] && data[i].dataLabel && (data[i].dataLabel.getBBox().height || 21); // 21 is for #968\n\t\t\ti++;\n\t\t}\n\n\t\t/* Loop over the points in each half, starting from the top and bottom\n\t\t * of the pie to detect overlapping labels.\n\t\t */\n\t\ti = 2;\n\t\twhile (i--) {\n\n\t\t\tvar slots = [],\n\t\t\t\tslotsLength,\n\t\t\t\tusedSlots = [],\n\t\t\t\tpoints = halves[i],\n\t\t\t\tpos,\n\t\t\t\tlength = points.length,\n\t\t\t\tslotIndex;\n\t\t\t\t\n\t\t\t// Sort by angle\n\t\t\tseries.sortByAngle(points, i - 0.5);\n\n\t\t\t// Only do anti-collision when we are outside the pie and have connectors (#856)\n\t\t\tif (distanceOption > 0) {\n\t\t\t\t\n\t\t\t\t// build the slots\n\t\t\t\tfor (pos = centerY - radius - distanceOption; pos <= centerY + radius + distanceOption; pos += labelHeight) {\n\t\t\t\t\tslots.push(pos);\n\t\t\t\t\t\n\t\t\t\t\t// visualize the slot\n\t\t\t\t\t/*\n\t\t\t\t\tvar slotX = series.getX(pos, i) + chart.plotLeft - (i ? 100 : 0),\n\t\t\t\t\t\tslotY = pos + chart.plotTop;\n\t\t\t\t\tif (!isNaN(slotX)) {\n\t\t\t\t\t\tchart.renderer.rect(slotX, slotY - 7, 100, labelHeight, 1)\n\t\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\t\t'stroke-width': 1,\n\t\t\t\t\t\t\t\tstroke: 'silver'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.add();\n\t\t\t\t\t\tchart.renderer.text('Slot '+ (slots.length - 1), slotX, slotY + 4)\n\t\t\t\t\t\t\t.attr({\n\t\t\t\t\t\t\t\tfill: 'silver'\n\t\t\t\t\t\t\t}).add();\n\t\t\t\t\t}\n\t\t\t\t\t*/\n\t\t\t\t}\n\t\t\t\tslotsLength = slots.length;\n\t\n\t\t\t\t// if there are more values than available slots, remove lowest values\n\t\t\t\tif (length > slotsLength) {\n\t\t\t\t\t// create an array for sorting and ranking the points within each quarter\n\t\t\t\t\trankArr = [].concat(points);\n\t\t\t\t\trankArr.sort(sort);\n\t\t\t\t\tj = length;\n\t\t\t\t\twhile (j--) {\n\t\t\t\t\t\trankArr[j].rank = j;\n\t\t\t\t\t}\n\t\t\t\t\tj = length;\n\t\t\t\t\twhile (j--) {\n\t\t\t\t\t\tif (points[j].rank >= slotsLength) {\n\t\t\t\t\t\t\tpoints.splice(j, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlength = points.length;\n\t\t\t\t}\n\t\n\t\t\t\t// The label goes to the nearest open slot, but not closer to the edge than\n\t\t\t\t// the label's index.\n\t\t\t\tfor (j = 0; j < length; j++) {\n\t\n\t\t\t\t\tpoint = points[j];\n\t\t\t\t\tlabelPos = point.labelPos;\n\t\n\t\t\t\t\tvar closest = 9999,\n\t\t\t\t\t\tdistance,\n\t\t\t\t\t\tslotI;\n\t\n\t\t\t\t\t// find the closest slot index\n\t\t\t\t\tfor (slotI = 0; slotI < slotsLength; slotI++) {\n\t\t\t\t\t\tdistance = mathAbs(slots[slotI] - labelPos[1]);\n\t\t\t\t\t\tif (distance < closest) {\n\t\t\t\t\t\t\tclosest = distance;\n\t\t\t\t\t\t\tslotIndex = slotI;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// if that slot index is closer to the edges of the slots, move it\n\t\t\t\t\t// to the closest appropriate slot\n\t\t\t\t\tif (slotIndex < j && slots[j] !== null) { // cluster at the top\n\t\t\t\t\t\tslotIndex = j;\n\t\t\t\t\t} else if (slotsLength  < length - j + slotIndex && slots[j] !== null) { // cluster at the bottom\n\t\t\t\t\t\tslotIndex = slotsLength - length + j;\n\t\t\t\t\t\twhile (slots[slotIndex] === null) { // make sure it is not taken\n\t\t\t\t\t\t\tslotIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Slot is taken, find next free slot below. In the next run, the next slice will find the\n\t\t\t\t\t\t// slot above these, because it is the closest one\n\t\t\t\t\t\twhile (slots[slotIndex] === null) { // make sure it is not taken\n\t\t\t\t\t\t\tslotIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t\tusedSlots.push({ i: slotIndex, y: slots[slotIndex] });\n\t\t\t\t\tslots[slotIndex] = null; // mark as taken\n\t\t\t\t}\n\t\t\t\t// sort them in order to fill in from the top\n\t\t\t\tusedSlots.sort(sort);\n\t\t\t}\n\n\t\t\t// now the used slots are sorted, fill them up sequentially\n\t\t\tfor (j = 0; j < length; j++) {\n\t\t\t\t\n\t\t\t\tvar slot, naturalY;\n\n\t\t\t\tpoint = points[j];\n\t\t\t\tlabelPos = point.labelPos;\n\t\t\t\tdataLabel = point.dataLabel;\n\t\t\t\tvisibility = point.visible === false ? HIDDEN : VISIBLE;\n\t\t\t\tnaturalY = labelPos[1];\n\t\t\t\t\n\t\t\t\tif (distanceOption > 0) {\n\t\t\t\t\tslot = usedSlots.pop();\n\t\t\t\t\tslotIndex = slot.i;\n\n\t\t\t\t\t// if the slot next to currrent slot is free, the y value is allowed\n\t\t\t\t\t// to fall back to the natural position\n\t\t\t\t\ty = slot.y;\n\t\t\t\t\tif ((naturalY > y && slots[slotIndex + 1] !== null) ||\n\t\t\t\t\t\t\t(naturalY < y &&  slots[slotIndex - 1] !== null)) {\n\t\t\t\t\t\ty = naturalY;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\ty = naturalY;\n\t\t\t\t}\n\n\t\t\t\t// get the x - use the natural x position for first and last slot, to prevent the top\n\t\t\t\t// and botton slice connectors from touching each other on either side\n\t\t\t\tx = options.justify ? \n\t\t\t\t\tseriesCenter[0] + (i ? -1 : 1) * (radius + distanceOption) :\n\t\t\t\t\tseries.getX(slotIndex === 0 || slotIndex === slots.length - 1 ? naturalY : y, i);\n\t\t\t\t\n\t\t\t\n\t\t\t\t// Record the placement and visibility\n\t\t\t\tdataLabel._attr = {\n\t\t\t\t\tvisibility: visibility,\n\t\t\t\t\talign: labelPos[6]\n\t\t\t\t};\n\t\t\t\tdataLabel._pos = {\n\t\t\t\t\tx: x + options.x +\n\t\t\t\t\t\t({ left: connectorPadding, right: -connectorPadding }[labelPos[6]] || 0),\n\t\t\t\t\ty: y + options.y - 10 // 10 is for the baseline (label vs text)\n\t\t\t\t};\n\t\t\t\tdataLabel.connX = x;\n\t\t\t\tdataLabel.connY = y;\n\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t// Detect overflowing data labels\n\t\t\t\tif (this.options.size === null) {\n\t\t\t\t\tdataLabelWidth = dataLabel.width;\n\t\t\t\t\t// Overflow left\n\t\t\t\t\tif (x - dataLabelWidth < connectorPadding) {\n\t\t\t\t\t\toverflow[3] = mathMax(mathRound(dataLabelWidth - x + connectorPadding), overflow[3]);\n\t\t\t\t\t\t\n\t\t\t\t\t// Overflow right\n\t\t\t\t\t} else if (x + dataLabelWidth > plotWidth - connectorPadding) {\n\t\t\t\t\t\toverflow[1] = mathMax(mathRound(x + dataLabelWidth - plotWidth + connectorPadding), overflow[1]);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Overflow top\n\t\t\t\t\tif (y - labelHeight / 2 < 0) {\n\t\t\t\t\t\toverflow[0] = mathMax(mathRound(-y + labelHeight / 2), overflow[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t// Overflow left\n\t\t\t\t\t} else if (y + labelHeight / 2 > plotHeight) {\n\t\t\t\t\t\toverflow[2] = mathMax(mathRound(y + labelHeight / 2 - plotHeight), overflow[2]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // for each point\n\t\t} // for each half\n\t\t\n\t\t// Do not apply the final placement and draw the connectors until we have verified\n\t\t// that labels are not spilling over. \n\t\tif (arrayMax(overflow) === 0 || this.verifyDataLabelOverflow(overflow)) {\n\t\t\t\n\t\t\t// Place the labels in the final position\n\t\t\tthis.placeDataLabels();\n\t\t\t\n\t\t\t// Draw the connectors\n\t\t\tif (outside && connectorWidth) {\n\t\t\t\teach(this.points, function (point) {\n\t\t\t\t\tconnector = point.connector;\n\t\t\t\t\tlabelPos = point.labelPos;\n\t\t\t\t\tdataLabel = point.dataLabel;\n\t\t\t\t\t\n\t\t\t\t\tif (dataLabel && dataLabel._pos) {\n\t\t\t\t\t\tvisibility = dataLabel._attr.visibility;\n\t\t\t\t\t\tx = dataLabel.connX;\n\t\t\t\t\t\ty = dataLabel.connY;\n\t\t\t\t\t\tconnectorPath = softConnector ? [\n\t\t\t\t\t\t\tM,\n\t\t\t\t\t\t\tx + (labelPos[6] === 'left' ? 5 : -5), y, // end of the string at the label\n\t\t\t\t\t\t\t'C',\n\t\t\t\t\t\t\tx, y, // first break, next to the label\n\t\t\t\t\t\t\t2 * labelPos[2] - labelPos[4], 2 * labelPos[3] - labelPos[5],\n\t\t\t\t\t\t\tlabelPos[2], labelPos[3], // second break\n\t\t\t\t\t\t\tL,\n\t\t\t\t\t\t\tlabelPos[4], labelPos[5] // base\n\t\t\t\t\t\t] : [\n\t\t\t\t\t\t\tM,\n\t\t\t\t\t\t\tx + (labelPos[6] === 'left' ? 5 : -5), y, // end of the string at the label\n\t\t\t\t\t\t\tL,\n\t\t\t\t\t\t\tlabelPos[2], labelPos[3], // second break\n\t\t\t\t\t\t\tL,\n\t\t\t\t\t\t\tlabelPos[4], labelPos[5] // base\n\t\t\t\t\t\t];\n\t\t\n\t\t\t\t\t\tif (connector) {\n\t\t\t\t\t\t\tconnector.animate({ d: connectorPath });\n\t\t\t\t\t\t\tconnector.attr('visibility', visibility);\n\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpoint.connector = connector = series.chart.renderer.path(connectorPath).attr({\n\t\t\t\t\t\t\t\t'stroke-width': connectorWidth,\n\t\t\t\t\t\t\t\tstroke: options.connectorColor || point.color || '#606060',\n\t\t\t\t\t\t\t\tvisibility: visibility\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.add(series.group);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (connector) {\n\t\t\t\t\t\tpoint.connector = connector.destroy();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\t\t\t\n\t\t}\n\t},\n\t\n\t/**\n\t * Verify whether the data labels are allowed to draw, or we should run more translation and data\n\t * label positioning to keep them inside the plot area. Returns true when data labels are ready \n\t * to draw.\n\t */\n\tverifyDataLabelOverflow: function (overflow) {\n\t\t\n\t\tvar center = this.center,\n\t\t\toptions = this.options,\n\t\t\tcenterOption = options.center,\n\t\t\tminSize = options.minSize || 80,\n\t\t\tnewSize = minSize,\n\t\t\tret;\n\t\t\t\n\t\t// Handle horizontal size and center\n\t\tif (centerOption[0] !== null) { // Fixed center\n\t\t\tnewSize = mathMax(center[2] - mathMax(overflow[1], overflow[3]), minSize);\n\t\t\t\n\t\t} else { // Auto center\n\t\t\tnewSize = mathMax(\n\t\t\t\tcenter[2] - overflow[1] - overflow[3], // horizontal overflow\t\t\t\t\t\n\t\t\t\tminSize\n\t\t\t);\n\t\t\tcenter[0] += (overflow[3] - overflow[1]) / 2; // horizontal center\n\t\t}\n\t\t\n\t\t// Handle vertical size and center\n\t\tif (centerOption[1] !== null) { // Fixed center\n\t\t\tnewSize = mathMax(mathMin(newSize, center[2] - mathMax(overflow[0], overflow[2])), minSize);\n\t\t\t\n\t\t} else { // Auto center\n\t\t\tnewSize = mathMax(\n\t\t\t\tmathMin(\n\t\t\t\t\tnewSize,\t\t\n\t\t\t\t\tcenter[2] - overflow[0] - overflow[2] // vertical overflow\n\t\t\t\t),\n\t\t\t\tminSize\n\t\t\t);\n\t\t\tcenter[1] += (overflow[0] - overflow[2]) / 2; // vertical center\n\t\t}\n\t\t\n\t\t// If the size must be decreased, we need to run translate and drawDataLabels again\n\t\tif (newSize < center[2]) {\n\t\t\tcenter[2] = newSize;\n\t\t\tthis.translate(center);\n\t\t\teach(this.points, function (point) {\n\t\t\t\tif (point.dataLabel) {\n\t\t\t\t\tpoint.dataLabel._pos = null; // reset\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.drawDataLabels();\n\t\t\t\n\t\t// Else, return true to indicate that the pie and its labels is within the plot area\n\t\t} else {\n\t\t\tret = true;\n\t\t}\n\t\treturn ret;\n\t},\n\t\n\t/**\n\t * Perform the final placement of the data labels after we have verified that they\n\t * fall within the plot area.\n\t */\n\tplaceDataLabels: function () {\n\t\teach(this.points, function (point) {\n\t\t\tvar dataLabel = point.dataLabel,\n\t\t\t\t_pos;\n\t\t\t\n\t\t\tif (dataLabel) {\n\t\t\t\t_pos = dataLabel._pos;\n\t\t\t\tif (_pos) {\n\t\t\t\t\tdataLabel.attr(dataLabel._attr);\t\t\t\n\t\t\t\t\tdataLabel[dataLabel.moved ? 'animate' : 'attr'](_pos);\n\t\t\t\t\tdataLabel.moved = true;\n\t\t\t\t} else if (dataLabel) {\n\t\t\t\t\tdataLabel.attr({ y: -999 });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t\n\talignDataLabel: noop,\n\n\t/**\n\t * Draw point specific tracker objects. Inherit directly from column series.\n\t */\n\tdrawTracker: ColumnSeries.prototype.drawTracker,\n\n\t/**\n\t * Use a simple symbol from column prototype\n\t */\n\tdrawLegendSymbol: AreaSeries.prototype.drawLegendSymbol,\n\n\t/**\n\t * Pies don't have point marker symbols\n\t */\n\tgetSymbol: noop\n\n};\nPieSeries = extendClass(Series, PieSeries);\nseriesTypes.pie = PieSeries;\n\n\n// global variables\nextend(Highcharts, {\n\t\n\t// Constructors\n\tAxis: Axis,\n\tChart: Chart,\n\tColor: Color,\n\tLegend: Legend,\n\tPointer: Pointer,\n\tPoint: Point,\n\tTick: Tick,\n\tTooltip: Tooltip,\n\tRenderer: Renderer,\n\tSeries: Series,\n\tSVGElement: SVGElement,\n\tSVGRenderer: SVGRenderer,\n\t\n\t// Various\n\tarrayMin: arrayMin,\n\tarrayMax: arrayMax,\n\tcharts: charts,\n\tdateFormat: dateFormat,\n\tformat: format,\n\tpathAnim: pathAnim,\n\tgetOptions: getOptions,\n\thasBidiBug: hasBidiBug,\n\tisTouchDevice: isTouchDevice,\n\tnumberFormat: numberFormat,\n\tseriesTypes: seriesTypes,\n\tsetOptions: setOptions,\n\taddEvent: addEvent,\n\tremoveEvent: removeEvent,\n\tcreateElement: createElement,\n\tdiscardElement: discardElement,\n\tcss: css,\n\teach: each,\n\textend: extend,\n\tmap: map,\n\tmerge: merge,\n\tpick: pick,\n\tsplat: splat,\n\textendClass: extendClass,\n\tpInt: pInt,\n\twrap: wrap,\n\tsvg: hasSVG,\n\tcanvas: useCanVG,\n\tvml: !hasSVG && !useCanVG,\n\tproduct: PRODUCT,\n\tversion: VERSION\n});\n}());\n"]}