{"version":3,"sources":["tangram.js"],"names":[],"mappings":"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","file":"tangram-compiled.js","sourcesContent":["// Copyright (c) 2009, Baidu Inc. All rights reserved.\n// \n// Licensed under the BSD License\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n//      http:// tangram.baidu.com/license.html\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n /**\n * @namespace T Tangram七巧板\n * @name T\n * @version 1.6.0\n*/\n\n/**\n * 声明baidu包\n * @author: allstar, erik, meizz, berg\n */\nvar T,\n    baidu = T = baidu || {version: \"1.5.0\"};\nbaidu.guid = \"$BAIDU$\";\nbaidu.$$ = window[baidu.guid] = window[baidu.guid] || {global:{}};\n\n/**\n * 使用flash资源封装的一些功能\n * @namespace baidu.flash\n */\nbaidu.flash = baidu.flash || {};\n\n/**\n * 操作dom的方法\n * @namespace baidu.dom \n */\nbaidu.dom = baidu.dom || {};\n\n\n/**\n * 从文档中获取指定的DOM元素\n * @name baidu.dom.g\n * @function\n * @grammar baidu.dom.g(id)\n * @param {string|HTMLElement} id 元素的id或DOM元素.\n * @shortcut g,T.G\n * @meta standard\n * @see baidu.dom.q\n *\n * @return {HTMLElement|null} 获取的元素，查找不到时返回null,如果参数不合法，直接返回参数.\n */\nbaidu.dom.g = function(id) {\n    if (!id) return null;\n    if ('string' == typeof id || id instanceof String) {\n        return document.getElementById(id);\n    } else if (id.nodeName && (id.nodeType == 1 || id.nodeType == 9)) {\n        return id;\n    }\n    return null;\n};\nbaidu.g = baidu.G = baidu.dom.g;\n\n\n/**\n * 操作数组的方法\n * @namespace baidu.array\n */\n\nbaidu.array = baidu.array || {};\n\n\n/**\n * 遍历数组中所有元素\n * @name baidu.array.each\n * @function\n * @grammar baidu.array.each(source, iterator[, thisObject])\n * @param {Array} source 需要遍历的数组\n * @param {Function} iterator 对每个数组元素进行调用的函数，该函数有两个参数，第一个为数组元素，第二个为数组索引值，function (item, index)。\n * @param {Object} [thisObject] 函数调用时的this指针，如果没有此参数，默认是当前遍历的数组\n * @remark\n * each方法不支持对Object的遍历,对Object的遍历使用baidu.object.each 。\n * @shortcut each\n * @meta standard\n *             \n * @returns {Array} 遍历的数组\n */\n \nbaidu.each = baidu.array.forEach = baidu.array.each = function (source, iterator, thisObject) {\n    var returnValue, item, i, len = source.length;\n    \n    if ('function' == typeof iterator) {\n        for (i = 0; i < len; i++) {\n            item = source[i];\n            returnValue = iterator.call(thisObject || source, item, i);\n    \n            if (returnValue === false) {\n                break;\n            }\n        }\n    }\n    return source;\n};\n\n/**\n * 对语言层面的封装，包括类型判断、模块扩展、继承基类以及对象自定义事件的支持。\n * @namespace baidu.lang\n */\nbaidu.lang = baidu.lang || {};\n\n\n/**\n * 判断目标参数是否为function或Function实例\n * @name baidu.lang.isFunction\n * @function\n * @grammar baidu.lang.isFunction(source)\n * @param {Any} source 目标参数\n * @version 1.2\n * @see baidu.lang.isString,baidu.lang.isObject,baidu.lang.isNumber,baidu.lang.isArray,baidu.lang.isElement,baidu.lang.isBoolean,baidu.lang.isDate\n * @meta standard\n * @returns {boolean} 类型判断结果\n */\nbaidu.lang.isFunction = function (source) {\n    return '[object Function]' == Object.prototype.toString.call(source);\n};\n\n/**\n * 判断目标参数是否string类型或String对象\n * @name baidu.lang.isString\n * @function\n * @grammar baidu.lang.isString(source)\n * @param {Any} source 目标参数\n * @shortcut isString\n * @meta standard\n * @see baidu.lang.isObject,baidu.lang.isNumber,baidu.lang.isArray,baidu.lang.isElement,baidu.lang.isBoolean,baidu.lang.isDate\n *             \n * @returns {boolean} 类型判断结果\n */\nbaidu.lang.isString = function (source) {\n    return '[object String]' == Object.prototype.toString.call(source);\n};\nbaidu.isString = baidu.lang.isString;\n\n\n/**\n * 判断浏览器类型和特性的属性\n * @namespace baidu.browser\n */\nbaidu.browser = baidu.browser || {};\n\n\n/**\n * 判断是否为opera浏览器\n * @property opera opera版本号\n * @grammar baidu.browser.opera\n * @meta standard\n * @see baidu.browser.ie,baidu.browser.firefox,baidu.browser.safari,baidu.browser.chrome\n * @returns {Number} opera版本号\n */\n\n/**\n * opera 从10开始不是用opera后面的字符串进行版本的判断\n * 在Browser identification最后添加Version + 数字进行版本标识\n * opera后面的数字保持在9.80不变\n */\nbaidu.browser.opera = /opera(\\/| )(\\d+(\\.\\d+)?)(.+?(version\\/(\\d+(\\.\\d+)?)))?/i.test(navigator.userAgent) ?  + ( RegExp[\"\\x246\"] || RegExp[\"\\x242\"] ) : undefined;\n\n\n/**\n * 在目标元素的指定位置插入HTML代码\n * @name baidu.dom.insertHTML\n * @function\n * @grammar baidu.dom.insertHTML(element, position, html)\n * @param {HTMLElement|string} element 目标元素或目标元素的id\n * @param {string} position 插入html的位置信息，取值为beforeBegin,afterBegin,beforeEnd,afterEnd\n * @param {string} html 要插入的html\n * @remark\n * \n * 对于position参数，大小写不敏感<br>\n * 参数的意思：beforeBegin&lt;span&gt;afterBegin   this is span! beforeEnd&lt;/span&gt; afterEnd <br />\n * 此外，如果使用本函数插入带有script标签的HTML字符串，script标签对应的脚本将不会被执行。\n * \n * @shortcut insertHTML\n * @meta standard\n *             \n * @returns {HTMLElement} 目标元素\n */\nbaidu.dom.insertHTML = function (element, position, html) {\n    element = baidu.dom.g(element);\n    var range,begin;\n    if (element.insertAdjacentHTML && !baidu.browser.opera) {\n        element.insertAdjacentHTML(position, html);\n    } else {\n        range = element.ownerDocument.createRange();\n        position = position.toUpperCase();\n        if (position == 'AFTERBEGIN' || position == 'BEFOREEND') {\n            range.selectNodeContents(element);\n            range.collapse(position == 'AFTERBEGIN');\n        } else {\n            begin = position == 'BEFOREBEGIN';\n            range[begin ? 'setStartBefore' : 'setEndAfter'](element);\n            range.collapse(begin);\n        }\n        range.insertNode(range.createContextualFragment(html));\n    }\n    return element;\n};\n\nbaidu.insertHTML = baidu.dom.insertHTML;\n\n/**\n * 操作flash对象的方法，包括创建flash对象、获取flash对象以及判断flash插件的版本号\n * @namespace baidu.swf\n */\nbaidu.swf = baidu.swf || {};\n\n\n/**\n * 浏览器支持的flash插件版本\n * @property version 浏览器支持的flash插件版本\n * @grammar baidu.swf.version\n * @return {String} 版本号\n * @meta standard\n */\nbaidu.swf.version = (function () {\n    var n = navigator;\n    if (n.plugins && n.mimeTypes.length) {\n        var plugin = n.plugins[\"Shockwave Flash\"];\n        if (plugin && plugin.description) {\n            return plugin.description\n                    .replace(/([a-zA-Z]|\\s)+/, \"\")\n                    .replace(/(\\s)+r/, \".\") + \".0\";\n        }\n    } else if (window.ActiveXObject && !window.opera) {\n        for (var i = 12; i >= 2; i--) {\n            try {\n                var c = new ActiveXObject('ShockwaveFlash.ShockwaveFlash.' + i);\n                if (c) {\n                    var version = c.GetVariable(\"$version\");\n                    return version.replace(/WIN/g,'').replace(/,/g,'.');\n                }\n            } catch(e) {}\n        }\n    }\n})();\n\n/**\n * 操作字符串的方法\n * @namespace baidu.string\n */\nbaidu.string = baidu.string || {};\n\n\n/**\n * 对目标字符串进行html编码\n * @name baidu.string.encodeHTML\n * @function\n * @grammar baidu.string.encodeHTML(source)\n * @param {string} source 目标字符串\n * @remark\n * 编码字符有5个：&<>\"'\n * @shortcut encodeHTML\n * @meta standard\n * @see baidu.string.decodeHTML\n *             \n * @returns {string} html编码后的字符串\n */\nbaidu.string.encodeHTML = function (source) {\n    return String(source)\n                .replace(/&/g,'&amp;')\n                .replace(/</g,'&lt;')\n                .replace(/>/g,'&gt;')\n                .replace(/\"/g, \"&quot;\")\n                .replace(/'/g, \"&#39;\");\n};\n\nbaidu.encodeHTML = baidu.string.encodeHTML;\n\n/**\n * 创建flash对象的html字符串\n * @name baidu.swf.createHTML\n * @function\n * @grammar baidu.swf.createHTML(options)\n * \n * @param {Object} \toptions \t\t\t\t\t创建flash的选项参数\n * @param {string} \toptions.id \t\t\t\t\t要创建的flash的标识\n * @param {string} \toptions.url \t\t\t\tflash文件的url\n * @param {String} \toptions.errorMessage \t\t未安装flash player或flash player版本号过低时的提示\n * @param {string} \toptions.ver \t\t\t\t最低需要的flash player版本号\n * @param {string} \toptions.width \t\t\t\tflash的宽度\n * @param {string} \toptions.height \t\t\t\tflash的高度\n * @param {string} \toptions.align \t\t\t\tflash的对齐方式，允许值：middle/left/right/top/bottom\n * @param {string} \toptions.base \t\t\t\t设置用于解析swf文件中的所有相对路径语句的基本目录或URL\n * @param {string} \toptions.bgcolor \t\t\tswf文件的背景色\n * @param {string} \toptions.salign \t\t\t\t设置缩放的swf文件在由width和height设置定义的区域内的位置。允许值：l/r/t/b/tl/tr/bl/br\n * @param {boolean} options.menu \t\t\t\t是否显示右键菜单，允许值：true/false\n * @param {boolean} options.loop \t\t\t\t播放到最后一帧时是否重新播放，允许值： true/false\n * @param {boolean} options.play \t\t\t\tflash是否在浏览器加载时就开始播放。允许值：true/false\n * @param {string} \toptions.quality \t\t\t设置flash播放的画质，允许值：low/medium/high/autolow/autohigh/best\n * @param {string} \toptions.scale \t\t\t\t设置flash内容如何缩放来适应设置的宽高。允许值：showall/noborder/exactfit\n * @param {string} \toptions.wmode \t\t\t\t设置flash的显示模式。允许值：window/opaque/transparent\n * @param {string} \toptions.allowscriptaccess \t设置flash与页面的通信权限。允许值：always/never/sameDomain\n * @param {string} \toptions.allownetworking \t设置swf文件中允许使用的网络API。允许值：all/internal/none\n * @param {boolean} options.allowfullscreen \t是否允许flash全屏。允许值：true/false\n * @param {boolean} options.seamlesstabbing \t允许设置执行无缝跳格，从而使用户能跳出flash应用程序。该参数只能在安装Flash7及更高版本的Windows中使用。允许值：true/false\n * @param {boolean} options.devicefont \t\t\t设置静态文本对象是否以设备字体呈现。允许值：true/false\n * @param {boolean} options.swliveconnect \t\t第一次加载flash时浏览器是否应启动Java。允许值：true/false\n * @param {Object} \toptions.vars \t\t\t\t要传递给flash的参数，支持JSON或string类型。\n * \n * @see baidu.swf.create\n * @meta standard\n * @returns {string} flash对象的html字符串\n */\nbaidu.swf.createHTML = function (options) {\n    options = options || {};\n    var version = baidu.swf.version, \n        needVersion = options['ver'] || '6.0.0', \n        vUnit1, vUnit2, i, k, len, item, tmpOpt = {},\n        encodeHTML = baidu.string.encodeHTML;\n    for (k in options) {\n        tmpOpt[k] = options[k];\n    }\n    options = tmpOpt;\n    if (version) {\n        version = version.split('.');\n        needVersion = needVersion.split('.');\n        for (i = 0; i < 3; i++) {\n            vUnit1 = parseInt(version[i], 10);\n            vUnit2 = parseInt(needVersion[i], 10);\n            if (vUnit2 < vUnit1) {\n                break;\n            } else if (vUnit2 > vUnit1) {\n                return '';\n            }\n        }\n    } else {\n        return '';\n    }\n    \n    var vars = options['vars'],\n        objProperties = ['classid', 'codebase', 'id', 'width', 'height', 'align'];\n    options['align'] = options['align'] || 'middle';\n    options['classid'] = 'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000';\n    options['codebase'] = 'http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0';\n    options['movie'] = options['url'] || '';\n    delete options['vars'];\n    delete options['url'];\n    if ('string' == typeof vars) {\n        options['flashvars'] = vars;\n    } else {\n        var fvars = [];\n        for (k in vars) {\n            item = vars[k];\n            fvars.push(k + \"=\" + encodeURIComponent(item));\n        }\n        options['flashvars'] = fvars.join('&');\n    }\n    var str = ['<object '];\n    for (i = 0, len = objProperties.length; i < len; i++) {\n        item = objProperties[i];\n        str.push(' ', item, '=\"', encodeHTML(options[item]), '\"');\n    }\n    str.push('>');\n    var params = {\n        'wmode'             : 1,\n        'scale'             : 1,\n        'quality'           : 1,\n        'play'              : 1,\n        'loop'              : 1,\n        'menu'              : 1,\n        'salign'            : 1,\n        'bgcolor'           : 1,\n        'base'              : 1,\n        'allowscriptaccess' : 1,\n        'allownetworking'   : 1,\n        'allowfullscreen'   : 1,\n        'seamlesstabbing'   : 1,\n        'devicefont'        : 1,\n        'swliveconnect'     : 1,\n        'flashvars'         : 1,\n        'movie'             : 1\n    };\n    \n    for (k in options) {\n        item = options[k];\n        k = k.toLowerCase();\n        if (params[k] && (item || item === false || item === 0)) {\n            str.push('<param name=\"' + k + '\" value=\"' + encodeHTML(item) + '\" />');\n        }\n    }\n    options['src']  = options['movie'];\n    options['name'] = options['id'];\n    delete options['id'];\n    delete options['movie'];\n    delete options['classid'];\n    delete options['codebase'];\n    options['type'] = 'application/x-shockwave-flash';\n    options['pluginspage'] = 'http://www.macromedia.com/go/getflashplayer';\n    str.push('<embed');\n    var salign;\n    for (k in options) {\n        item = options[k];\n        if (item || item === false || item === 0) {\n            if ((new RegExp(\"^salign\\x24\", \"i\")).test(k)) {\n                salign = item;\n                continue;\n            }\n            \n            str.push(' ', k, '=\"', encodeHTML(item), '\"');\n        }\n    }\n    \n    if (salign) {\n        str.push(' salign=\"', encodeHTML(salign), '\"');\n    }\n    str.push('></embed></object>');\n    \n    return str.join('');\n};\n\n\n/**\n * 在页面中创建一个flash对象\n * @name baidu.swf.create\n * @function\n * @grammar baidu.swf.create(options[, container])\n * \n * @param {Object} \toptions \t\t\t\t\t创建flash的选项参数\n * @param {string} \toptions.id \t\t\t\t\t要创建的flash的标识\n * @param {string} \toptions.url \t\t\t\tflash文件的url\n * @param {String} \toptions.errorMessage \t\t未安装flash player或flash player版本号过低时的提示\n * @param {string} \toptions.ver \t\t\t\t最低需要的flash player版本号\n * @param {string} \toptions.width \t\t\t\tflash的宽度\n * @param {string} \toptions.height \t\t\t\tflash的高度\n * @param {string} \toptions.align \t\t\t\tflash的对齐方式，允许值：middle/left/right/top/bottom\n * @param {string} \toptions.base \t\t\t\t设置用于解析swf文件中的所有相对路径语句的基本目录或URL\n * @param {string} \toptions.bgcolor \t\t\tswf文件的背景色\n * @param {string} \toptions.salign \t\t\t\t设置缩放的swf文件在由width和height设置定义的区域内的位置。允许值：l/r/t/b/tl/tr/bl/br\n * @param {boolean} options.menu \t\t\t\t是否显示右键菜单，允许值：true/false\n * @param {boolean} options.loop \t\t\t\t播放到最后一帧时是否重新播放，允许值： true/false\n * @param {boolean} options.play \t\t\t\tflash是否在浏览器加载时就开始播放。允许值：true/false\n * @param {string} \toptions.quality \t\t\t设置flash播放的画质，允许值：low/medium/high/autolow/autohigh/best\n * @param {string} \toptions.scale \t\t\t\t设置flash内容如何缩放来适应设置的宽高。允许值：showall/noborder/exactfit\n * @param {string} \toptions.wmode \t\t\t\t设置flash的显示模式。允许值：window/opaque/transparent\n * @param {string} \toptions.allowscriptaccess \t设置flash与页面的通信权限。允许值：always/never/sameDomain\n * @param {string} \toptions.allownetworking \t设置swf文件中允许使用的网络API。允许值：all/internal/none\n * @param {boolean} options.allowfullscreen \t是否允许flash全屏。允许值：true/false\n * @param {boolean} options.seamlesstabbing \t允许设置执行无缝跳格，从而使用户能跳出flash应用程序。该参数只能在安装Flash7及更高版本的Windows中使用。允许值：true/false\n * @param {boolean} options.devicefont \t\t\t设置静态文本对象是否以设备字体呈现。允许值：true/false\n * @param {boolean} options.swliveconnect \t\t第一次加载flash时浏览器是否应启动Java。允许值：true/false\n * @param {Object} \toptions.vars \t\t\t\t要传递给flash的参数，支持JSON或string类型。\n * \n * @param {HTMLElement|string} [container] \t\tflash对象的父容器元素，不传递该参数时在当前代码位置创建flash对象。\n * @meta standard\n * @see baidu.swf.createHTML,baidu.swf.getMovie\n */\nbaidu.swf.create = function (options, target) {\n    options = options || {};\n    var html = baidu.swf.createHTML(options) \n               || options['errorMessage'] \n               || '';\n                \n    if (target && 'string' == typeof target) {\n        target = document.getElementById(target);\n    }\n    baidu.dom.insertHTML( target || document.body ,'beforeEnd',html );\n};\n/**\n * 判断是否为ie浏览器\n * @name baidu.browser.ie\n * @field\n * @grammar baidu.browser.ie\n * @returns {Number} IE版本号\n */\nbaidu.browser.ie = baidu.ie = /msie (\\d+\\.\\d+)/i.test(navigator.userAgent) ? (document.documentMode || + RegExp['\\x241']) : undefined;\n\n/**\n * 移除数组中的项\n * @name baidu.array.remove\n * @function\n * @grammar baidu.array.remove(source, match)\n * @param {Array} source 需要移除项的数组\n * @param {Any} match 要移除的项\n * @meta standard\n * @see baidu.array.removeAt\n *             \n * @returns {Array} 移除后的数组\n */\nbaidu.array.remove = function (source, match) {\n    var len = source.length;\n        \n    while (len--) {\n        if (len in source && source[len] === match) {\n            source.splice(len, 1);\n        }\n    }\n    return source;\n};\n\n/**\n * 判断目标参数是否Array对象\n * @name baidu.lang.isArray\n * @function\n * @grammar baidu.lang.isArray(source)\n * @param {Any} source 目标参数\n * @meta standard\n * @see baidu.lang.isString,baidu.lang.isObject,baidu.lang.isNumber,baidu.lang.isElement,baidu.lang.isBoolean,baidu.lang.isDate\n *             \n * @returns {boolean} 类型判断结果\n */\nbaidu.lang.isArray = function (source) {\n    return '[object Array]' == Object.prototype.toString.call(source);\n};\n\n\n\n/**\n * 将一个变量转换成array\n * @name baidu.lang.toArray\n * @function\n * @grammar baidu.lang.toArray(source)\n * @param {mix} source 需要转换成array的变量\n * @version 1.3\n * @meta standard\n * @returns {array} 转换后的array\n */\nbaidu.lang.toArray = function (source) {\n    if (source === null || source === undefined)\n        return [];\n    if (baidu.lang.isArray(source))\n        return source;\n    if (typeof source.length !== 'number' || typeof source === 'string' || baidu.lang.isFunction(source)) {\n        return [source];\n    }\n    if (source.item) {\n        var l = source.length, array = new Array(l);\n        while (l--)\n            array[l] = source[l];\n        return array;\n    }\n\n    return [].slice.call(source);\n};\n\n/**\n * 获得flash对象的实例\n * @name baidu.swf.getMovie\n * @function\n * @grammar baidu.swf.getMovie(name)\n * @param {string} name flash对象的名称\n * @see baidu.swf.create\n * @meta standard\n * @returns {HTMLElement} flash对象的实例\n */\nbaidu.swf.getMovie = function (name) {\n\tvar movie = document[name], ret;\n    return baidu.browser.ie == 9 ?\n    \tmovie && movie.length ? \n    \t\t(ret = baidu.array.remove(baidu.lang.toArray(movie),function(item){\n    \t\t\treturn item.tagName.toLowerCase() != \"embed\";\n    \t\t})).length == 1 ? ret[0] : ret\n    \t\t: movie\n    \t: movie || window[name];\n};\n\n\nbaidu.flash._Base = (function(){\n   \n    var prefix = 'bd__flash__';\n\n    /**\n     * 创建一个随机的字符串\n     * @private\n     * @return {String}\n     */\n    function _createString(){\n        return  prefix + Math.floor(Math.random() * 2147483648).toString(36);\n    };\n   \n    /**\n     * 检查flash状态\n     * @private\n     * @param {Object} target flash对象\n     * @return {Boolean}\n     */\n    function _checkReady(target){\n        if(typeof target !== 'undefined' && typeof target.flashInit !== 'undefined' && target.flashInit()){\n            return true;\n        }else{\n            return false;\n        }\n    };\n\n    /**\n     * 调用之前进行压栈的函数\n     * @private\n     * @param {Array} callQueue 调用队列\n     * @param {Object} target flash对象\n     * @return {Null}\n     */\n    function _callFn(callQueue, target){\n        var result = null;\n        \n        callQueue = callQueue.reverse();\n        baidu.each(callQueue, function(item){\n            result = target.call(item.fnName, item.params);\n            item.callBack(result);\n        });\n    };\n\n    /**\n     * 为传入的匿名函数创建函数名\n     * @private\n     * @param {String|Function} fun 传入的匿名函数或者函数名\n     * @return {String}\n     */\n    function _createFunName(fun){\n        var name = '';\n\n        if(baidu.lang.isFunction(fun)){\n            name = _createString();\n            window[name] = function(){\n                fun.apply(window, arguments);\n            };\n\n            return name;\n        }else if(baidu.lang.isString){\n            return fun;\n        }\n    };\n\n    /**\n     * 绘制flash\n     * @private\n     * @param {Object} options 创建参数\n     * @return {Object} \n     */\n    function _render(options){\n        if(!options.id){\n            options.id = _createString();\n        }\n        \n        var container = options.container || '';\n        delete(options.container);\n        \n        baidu.swf.create(options, container);\n        \n        return baidu.swf.getMovie(options.id);\n    };\n\n    return function(options, callBack){\n        var me = this,\n            autoRender = (typeof options.autoRender !== 'undefined' ? options.autoRender : true),\n            createOptions = options.createOptions || {},\n            target = null,\n            isReady = false,\n            callQueue = [],\n            timeHandle = null,\n            callBack = callBack || [];\n\n        /**\n         * 将flash文件绘制到页面上\n         * @public\n         * @return {Null}\n         */\n        me.render = function(){\n            target = _render(createOptions);\n            \n            if(callBack.length > 0){\n                baidu.each(callBack, function(funName, index){\n                    callBack[index] = _createFunName(options[funName] || new Function());\n                });    \n            }\n            me.call('setJSFuncName', [callBack]);\n        };\n\n        /**\n         * 返回flash状态\n         * @return {Boolean}\n         */\n        me.isReady = function(){\n            return isReady;\n        };\n\n        /**\n         * 调用flash接口的统一入口\n         * @param {String} fnName 调用的函数名\n         * @param {Array} params 传入的参数组成的数组,若不许要参数，需传入空数组\n         * @param {Function} [callBack] 异步调用后将返回值作为参数的调用回调函数，如无返回值，可以不传入此参数\n         * @return {Null}\n        */\n        me.call = function(fnName, params, callBack){\n            if(!fnName) return null;\n            callBack = callBack || new Function();\n\n            var result = null;\n    \n            if(isReady){\n                result = target.call(fnName, params);\n                callBack(result);\n            }else{\n                callQueue.push({\n                    fnName: fnName,\n                    params: params,\n                    callBack: callBack\n                });\n    \n                (!timeHandle) && (timeHandle = setInterval(_check, 200));\n            }\n        };\n    \n        /**\n         * 为传入的匿名函数创建函数名\n         * @public\n         * @param {String|Function} fun 传入的匿名函数或者函数名\n         * @return {String}\n         */\n        me.createFunName = function(fun){\n            return _createFunName(fun);    \n        };\n\n        /**\n         * 检查flash是否ready， 并进行调用\n         * @private\n         * @return {Null}\n         */\n        function _check(){\n            if(_checkReady(target)){\n                clearInterval(timeHandle);\n                timeHandle = null;\n                _call();\n\n                isReady = true;\n            }               \n        };\n\n        /**\n         * 调用之前进行压栈的函数\n         * @private\n         * @return {Null}\n         */\n        function _call(){\n            _callFn(callQueue, target);\n            callQueue = [];\n        }\n\n        autoRender && me.render(); \n    };\n})();\n\n\n\n/**\n * 创建flash based imageUploader\n * @class\n * @grammar baidu.flash.imageUploader(options)\n * @param {Object} createOptions 创建flash时需要的参数，请参照baidu.swf.create文档\n * @config {Object} vars 创建imageUploader时所需要的参数\n * @config {Number} vars.gridWidth 每一个预览图片所占的宽度，应该为flash寛的整除\n * @config {Number} vars.gridHeight 每一个预览图片所占的高度，应该为flash高的整除\n * @config {Number} vars.picWidth 单张预览图片的宽度\n * @config {Number} vars.picHeight 单张预览图片的高度\n * @config {String} vars.uploadDataFieldName POST请求中图片数据的key,默认值'picdata'\n * @config {String} vars.picDescFieldName POST请求中图片描述的key,默认值'picDesc'\n * @config {Number} vars.maxSize 文件的最大体积,单位'MB'\n * @config {Number} vars.compressSize 上传前如果图片体积超过该值，会先压缩\n * @config {Number} vars.maxNum:32 最大上传多少个文件\n * @config {Number} vars.compressLength 能接受的最大边长，超过该值会等比压缩\n * @config {String} vars.url 上传的url地址\n * @config {Number} vars.mode mode == 0时，是使用滚动条，mode == 1时，拉伸flash, 默认值为0\n * @see baidu.swf.createHTML\n * @param {String} backgroundUrl 背景图片路径\n * @param {String} listBacgroundkUrl 布局控件背景\n * @param {String} buttonUrl 按钮图片不背景\n * @param {String|Function} selectFileCallback 选择文件的回调\n * @param {String|Function} exceedFileCallback文件超出限制的最大体积时的回调\n * @param {String|Function} deleteFileCallback 删除文件的回调\n * @param {String|Function} startUploadCallback 开始上传某个文件时的回调\n * @param {String|Function} uploadCompleteCallback 某个文件上传完成的回调\n * @param {String|Function} uploadErrorCallback 某个文件上传失败的回调\n * @param {String|Function} allCompleteCallback 全部上传完成时的回调\n * @param {String|Function} changeFlashHeight 改变Flash的高度，mode==1的时候才有用\n */ \nbaidu.flash.imageUploader = baidu.flash.imageUploader || function(options){\n   \n    var me = this,\n        options = options || {},\n        _flash = new baidu.flash._Base(options, [\n            'selectFileCallback', \n            'exceedFileCallback', \n            'deleteFileCallback', \n            'startUploadCallback',\n            'uploadCompleteCallback',\n            'uploadErrorCallback',\n            'allCompleteCallback',\n            'changeFlashHeight'\n        ]);\n    /**\n     * 开始或回复上传图片\n     * @public\n     * @return {Null}\n     */\n    me.upload = function(){\n        _flash.call('upload');\n    };\n\n    /**\n     * 暂停上传图片\n     * @public\n     * @return {Null}\n     */\n    me.pause = function(){\n        _flash.call('pause');\n    };\n    me.addCustomizedParams = function(index,obj){\n        _flash.call('addCustomizedParams',[index,obj]);\n    }\n};\n\n/**\n * 操作原生对象的方法\n * @namespace baidu.object\n */\nbaidu.object = baidu.object || {};\n\n\n/**\n * 将源对象的所有属性拷贝到目标对象中\n * @author erik\n * @name baidu.object.extend\n * @function\n * @grammar baidu.object.extend(target, source)\n * @param {Object} target 目标对象\n * @param {Object} source 源对象\n * @see baidu.array.merge\n * @remark\n * \n1.目标对象中，与源对象key相同的成员将会被覆盖。<br>\n2.源对象的prototype成员不会拷贝。\n\t\t\n * @shortcut extend\n * @meta standard\n *             \n * @returns {Object} 目标对象\n */\nbaidu.extend =\nbaidu.object.extend = function (target, source) {\n    for (var p in source) {\n        if (source.hasOwnProperty(p)) {\n            target[p] = source[p];\n        }\n    }\n    \n    return target;\n};\n\n\n\n\n\n/**\n * 创建flash based fileUploader\n * @class\n * @grammar baidu.flash.fileUploader(options)\n * @param {Object} options\n * @config {Object} createOptions 创建flash时需要的参数，请参照baidu.swf.create文档\n * @config {String} createOptions.width\n * @config {String} createOptions.height\n * @config {Number} maxNum 最大可选文件数\n * @config {Function|String} selectFile\n * @config {Function|String} exceedMaxSize\n * @config {Function|String} deleteFile\n * @config {Function|String} uploadStart\n * @config {Function|String} uploadComplete\n * @config {Function|String} uploadError\n * @config {Function|String} uploadProgress\n */\nbaidu.flash.fileUploader = baidu.flash.fileUploader || function(options){\n    var me = this,\n        options = options || {};\n    \n    options.createOptions = baidu.extend({\n        wmod: 'transparent'\n    },options.createOptions || {});\n    \n    var _flash = new baidu.flash._Base(options, [\n        'selectFile',\n        'exceedMaxSize',\n        'deleteFile',\n        'uploadStart',\n        'uploadComplete',\n        'uploadError', \n        'uploadProgress'\n    ]);\n\n    _flash.call('setMaxNum', options.maxNum ? [options.maxNum] : [1]);\n\n    /**\n     * 设置当鼠标移动到flash上时，是否变成手型\n     * @public\n     * @param {Boolean} isCursor\n     * @return {Null}\n     */\n    me.setHandCursor = function(isCursor){\n        _flash.call('setHandCursor', [isCursor || false]);\n    };\n\n    /**\n     * 设置鼠标相应函数名\n     * @param {String|Function} fun\n     */\n    me.setMSFunName = function(fun){\n        _flash.call('setMSFunName',[_flash.createFunName(fun)]);\n    }; \n\n    /**\n     * 执行上传操作\n     * @param {String} url 上传的url\n     * @param {String} fieldName 上传的表单字段名\n     * @param {Object} postData 键值对，上传的POST数据\n     * @param {Number|Array|null|-1} [index]上传的文件序列\n     *                            Int值上传该文件\n     *                            Array一次串行上传该序列文件\n     *                            -1/null上传所有文件\n     * @return {Null}\n     */\n    me.upload = function(url, fieldName, postData, index){\n\n        if(typeof url !== 'string' || typeof fieldName !== 'string') return null;\n        if(typeof index === 'undefined') index = -1;\n\n        _flash.call('upload', [url, fieldName, postData, index]);\n    };\n\n    /**\n     * 取消上传操作\n     * @public\n     * @param {Number|-1} index\n     */\n    me.cancel = function(index){\n        if(typeof index === 'undefined') index = -1;\n        _flash.call('cancel', [index]);\n    };\n\n    /**\n     * 删除文件\n     * @public\n     * @param {Number|Array} [index] 要删除的index，不传则全部删除\n     * @param {Function} callBack\n     * */\n    me.deleteFile = function(index, callBack){\n\n        var callBackAll = function(list){\n                callBack && callBack(list);\n            };\n\n        if(typeof index === 'undefined'){\n            _flash.call('deleteFilesAll', [], callBackAll);\n            return;\n        };\n        \n        if(typeof index === 'Number') index = [index];\n        index.sort(function(a,b){\n            return b-a;\n        });\n        baidu.each(index, function(item){\n            _flash.call('deleteFileBy', item, callBackAll);\n        });\n    };\n\n    /**\n     * 添加文件类型，支持macType\n     * @public\n     * @param {Object|Array[Object]} type {description:String, extention:String}\n     * @return {Null};\n     */\n    me.addFileType = function(type){\n        var type = type || [[]];\n        \n        if(type instanceof Array) type = [type];\n        else type = [[type]];\n        _flash.call('addFileTypes', type);\n    };\n    \n    /**\n     * 设置文件类型，支持macType\n     * @public\n     * @param {Object|Array[Object]} type {description:String, extention:String}\n     * @return {Null};\n     */\n    me.setFileType = function(type){\n        var type = type || [[]];\n        \n        if(type instanceof Array) type = [type];\n        else type = [[type]];\n        _flash.call('setFileTypes', type);\n    };\n\n    /**\n     * 设置可选文件的数量限制\n     * @public\n     * @param {Number} num\n     * @return {Null}\n     */\n    me.setMaxNum = function(num){\n        _flash.call('setMaxNum', [num]);\n    };\n\n    /**\n     * 设置可选文件大小限制，以兆M为单位\n     * @public\n     * @param {Number} num,0为无限制\n     * @return {Null}\n     */\n    me.setMaxSize = function(num){\n        _flash.call('setMaxSize', [num]);\n    };\n\n    /**\n     * @public\n     */\n    me.getFileAll = function(callBack){\n        _flash.call('getFileAll', [], callBack);\n    };\n\n    /**\n     * @public\n     * @param {Number} index\n     * @param {Function} [callBack]\n     */\n    me.getFileByIndex = function(index, callBack){\n        _flash.call('getFileByIndex', [], callBack);\n    };\n\n    /**\n     * @public\n     * @param {Number} index\n     * @param {function} [callBack]\n     */\n    me.getStatusByIndex = function(index, callBack){\n        _flash.call('getStatusByIndex', [], callBack);\n    };\n};\n\n/**\n * 使用动态script标签请求服务器资源，包括由服务器端的回调和浏览器端的回调\n * @namespace baidu.sio\n */\nbaidu.sio = baidu.sio || {};\n\n/**\n * \n * @param {HTMLElement} src script节点\n * @param {String} url script节点的地址\n * @param {String} [charset] 编码\n */\nbaidu.sio._createScriptTag = function(scr, url, charset){\n    scr.setAttribute('type', 'text/javascript');\n    charset && scr.setAttribute('charset', charset);\n    scr.setAttribute('src', url);\n    document.getElementsByTagName('head')[0].appendChild(scr);\n};\n\n/**\n * 删除script的属性，再删除script标签，以解决修复内存泄漏的问题\n * \n * @param {HTMLElement} src script节点\n */\nbaidu.sio._removeScriptTag = function(scr){\n    if (scr.clearAttributes) {\n        scr.clearAttributes();\n    } else {\n        for (var attr in scr) {\n            if (scr.hasOwnProperty(attr)) {\n                delete scr[attr];\n            }\n        }\n    }\n    if(scr && scr.parentNode){\n        scr.parentNode.removeChild(scr);\n    }\n    scr = null;\n};\n\n\n/**\n * 通过script标签加载数据，加载完成由浏览器端触发回调\n * @name baidu.sio.callByBrowser\n * @function\n * @grammar baidu.sio.callByBrowser(url, opt_callback, opt_options)\n * @param {string} url 加载数据的url\n * @param {Function|string} opt_callback 数据加载结束时调用的函数或函数名\n * @param {Object} opt_options 其他可选项\n * @config {String} [charset] script的字符集\n * @config {Integer} [timeOut] 超时时间，超过这个时间将不再响应本请求，并触发onfailure函数\n * @config {Function} [onfailure] timeOut设定后才生效，到达超时时间时触发本函数\n * @remark\n * 1、与callByServer不同，callback参数只支持Function类型，不支持string。\n * 2、如果请求了一个不存在的页面，callback函数在IE/opera下也会被调用，因此使用者需要在onsuccess函数中判断数据是否正确加载。\n * @meta standard\n * @see baidu.sio.callByServer\n */\nbaidu.sio.callByBrowser = function (url, opt_callback, opt_options) {\n    var scr = document.createElement(\"SCRIPT\"),\n        scriptLoaded = 0,\n        options = opt_options || {},\n        charset = options['charset'],\n        callback = opt_callback || function(){},\n        timeOut = options['timeOut'] || 0,\n        timer;\n    scr.onload = scr.onreadystatechange = function () {\n        if (scriptLoaded) {\n            return;\n        }\n        \n        var readyState = scr.readyState;\n        if ('undefined' == typeof readyState\n            || readyState == \"loaded\"\n            || readyState == \"complete\") {\n            scriptLoaded = 1;\n            try {\n                callback();\n                clearTimeout(timer);\n            } finally {\n                scr.onload = scr.onreadystatechange = null;\n                baidu.sio._removeScriptTag(scr);\n            }\n        }\n    };\n\n    if( timeOut ){\n        timer = setTimeout(function(){\n            scr.onload = scr.onreadystatechange = null;\n            baidu.sio._removeScriptTag(scr);\n            options.onfailure && options.onfailure();\n        }, timeOut);\n    }\n    \n    baidu.sio._createScriptTag(scr, url, charset);\n};\n\n/**\n * 通过script标签加载数据，加载完成由服务器端触发回调\n * @name baidu.sio.callByServer\n * @function\n * @grammar baidu.sio.callByServer(url, callback[, opt_options])\n * @param {string} url 加载数据的url.\n * @param {Function|string} callback 服务器端调用的函数或函数名。如果没有指定本参数，将在URL中寻找options['queryField']做为callback的方法名.\n * @param {Object} opt_options 加载数据时的选项.\n * @config {string} [charset] script的字符集\n * @config {string} [queryField] 服务器端callback请求字段名，默认为callback\n * @config {Integer} [timeOut] 超时时间(单位：ms)，超过这个时间将不再响应本请求，并触发onfailure函数\n * @config {Function} [onfailure] timeOut设定后才生效，到达超时时间时触发本函数\n * @remark\n * 如果url中已经包含key为“options['queryField']”的query项，将会被替换成callback中参数传递或自动生成的函数名。\n * @meta standard\n * @see baidu.sio.callByBrowser\n */\nbaidu.sio.callByServer = /**@function*/function(url, callback, opt_options) {\n    var scr = document.createElement('SCRIPT'),\n        prefix = 'bd__cbs__',\n        callbackName,\n        callbackImpl,\n        options = opt_options || {},\n        charset = options['charset'],\n        queryField = options['queryField'] || 'callback',\n        timeOut = options['timeOut'] || 0,\n        timer,\n        reg = new RegExp('(\\\\?|&)' + queryField + '=([^&]*)'),\n        matches;\n\n    if (baidu.lang.isFunction(callback)) {\n        callbackName = prefix + Math.floor(Math.random() * 2147483648).toString(36);\n        window[callbackName] = getCallBack(0);\n    } else if(baidu.lang.isString(callback)){\n        callbackName = callback;\n    } else {\n        if (matches = reg.exec(url)) {\n            callbackName = matches[2];\n        }\n    }\n\n    if( timeOut ){\n        timer = setTimeout(getCallBack(1), timeOut);\n    }\n    url = url.replace(reg, '\\x241' + queryField + '=' + callbackName);\n    \n    if (url.search(reg) < 0) {\n        url += (url.indexOf('?') < 0 ? '?' : '&') + queryField + '=' + callbackName;\n    }\n    baidu.sio._createScriptTag(scr, url, charset);\n\n    /*\n     * 返回一个函数，用于立即（挂在window上）或者超时（挂在setTimeout中）时执行\n     */\n    function getCallBack(onTimeOut){\n        /*global callbackName, callback, scr, options;*/\n        return function(){\n            try {\n                if( onTimeOut ){\n                    options.onfailure && options.onfailure();\n                }else{\n                    callback.apply(window, arguments);\n                    clearTimeout(timer);\n                }\n                window[callbackName] = null;\n                delete window[callbackName];\n            } catch (exception) {\n            } finally {\n                baidu.sio._removeScriptTag(scr);\n            }\n        }\n    }\n};\n\n/**\n * 通过请求一个图片的方式令服务器存储一条日志\n * @function\n * @grammar baidu.sio.log(url)\n * @param {string} url 要发送的地址.\n * @author: int08h,leeight\n */\nbaidu.sio.log = function(url) {\n  var img = new Image(),\n      key = 'tangram_sio_log_' + Math.floor(Math.random() *\n            2147483648).toString(36);\n  window[key] = img;\n\n  img.onload = img.onerror = img.onabort = function() {\n    img.onload = img.onerror = img.onabort = null;\n\n    window[key] = null;\n    img = null;\n  };\n  img.src = url;\n};\n\n\n\n/*\n * Tangram\n * Copyright 2009 Baidu Inc. All rights reserved.\n * \n * path: baidu/json.js\n * author: erik\n * version: 1.1.0\n * date: 2009/12/02\n */\n\n\n/**\n * 操作json对象的方法\n * @namespace baidu.json\n */\nbaidu.json = baidu.json || {};\n/*\n * Tangram\n * Copyright 2009 Baidu Inc. All rights reserved.\n * \n * path: baidu/json/parse.js\n * author: erik, berg\n * version: 1.2\n * date: 2009/11/23\n */\n\n\n\n/**\n * 将字符串解析成json对象。注：不会自动祛除空格\n * @name baidu.json.parse\n * @function\n * @grammar baidu.json.parse(data)\n * @param {string} source 需要解析的字符串\n * @remark\n * 该方法的实现与ecma-262第五版中规定的JSON.parse不同，暂时只支持传入一个参数。后续会进行功能丰富。\n * @meta standard\n * @see baidu.json.stringify,baidu.json.decode\n *             \n * @returns {JSON} 解析结果json对象\n */\nbaidu.json.parse = function (data) {\n    //2010/12/09：更新至不使用原生parse，不检测用户输入是否正确\n    return (new Function(\"return (\" + data + \")\"))();\n};\n/*\n * Tangram\n * Copyright 2009 Baidu Inc. All rights reserved.\n * \n * path: baidu/json/decode.js\n * author: erik, cat\n * version: 1.3.4\n * date: 2010/12/23\n */\n\n\n\n/**\n * 将字符串解析成json对象，为过时接口，今后会被baidu.json.parse代替\n * @name baidu.json.decode\n * @function\n * @grammar baidu.json.decode(source)\n * @param {string} source 需要解析的字符串\n * @meta out\n * @see baidu.json.encode,baidu.json.parse\n *             \n * @returns {JSON} 解析结果json对象\n */\nbaidu.json.decode = baidu.json.parse;\n/*\n * Tangram\n * Copyright 2009 Baidu Inc. All rights reserved.\n * \n * path: baidu/json/stringify.js\n * author: erik\n * version: 1.1.0\n * date: 2010/01/11\n */\n\n\n\n/**\n * 将json对象序列化\n * @name baidu.json.stringify\n * @function\n * @grammar baidu.json.stringify(value)\n * @param {JSON} value 需要序列化的json对象\n * @remark\n * 该方法的实现与ecma-262第五版中规定的JSON.stringify不同，暂时只支持传入一个参数。后续会进行功能丰富。\n * @meta standard\n * @see baidu.json.parse,baidu.json.encode\n *             \n * @returns {string} 序列化后的字符串\n */\nbaidu.json.stringify = (function () {\n    /**\n     * 字符串处理时需要转义的字符表\n     * @private\n     */\n    var escapeMap = {\n        \"\\b\": '\\\\b',\n        \"\\t\": '\\\\t',\n        \"\\n\": '\\\\n',\n        \"\\f\": '\\\\f',\n        \"\\r\": '\\\\r',\n        '\"' : '\\\\\"',\n        \"\\\\\": '\\\\\\\\'\n    };\n    \n    /**\n     * 字符串序列化\n     * @private\n     */\n    function encodeString(source) {\n        if (/[\"\\\\\\x00-\\x1f]/.test(source)) {\n            source = source.replace(\n                /[\"\\\\\\x00-\\x1f]/g, \n                function (match) {\n                    var c = escapeMap[match];\n                    if (c) {\n                        return c;\n                    }\n                    c = match.charCodeAt();\n                    return \"\\\\u00\" \n                            + Math.floor(c / 16).toString(16) \n                            + (c % 16).toString(16);\n                });\n        }\n        return '\"' + source + '\"';\n    }\n    \n    /**\n     * 数组序列化\n     * @private\n     */\n    function encodeArray(source) {\n        var result = [\"[\"], \n            l = source.length,\n            preComma, i, item;\n            \n        for (i = 0; i < l; i++) {\n            item = source[i];\n            \n            switch (typeof item) {\n            case \"undefined\":\n            case \"function\":\n            case \"unknown\":\n                break;\n            default:\n                if(preComma) {\n                    result.push(',');\n                }\n                result.push(baidu.json.stringify(item));\n                preComma = 1;\n            }\n        }\n        result.push(\"]\");\n        return result.join(\"\");\n    }\n    \n    /**\n     * 处理日期序列化时的补零\n     * @private\n     */\n    function pad(source) {\n        return source < 10 ? '0' + source : source;\n    }\n    \n    /**\n     * 日期序列化\n     * @private\n     */\n    function encodeDate(source){\n        return '\"' + source.getFullYear() + \"-\" \n                + pad(source.getMonth() + 1) + \"-\" \n                + pad(source.getDate()) + \"T\" \n                + pad(source.getHours()) + \":\" \n                + pad(source.getMinutes()) + \":\" \n                + pad(source.getSeconds()) + '\"';\n    }\n    \n    return function (value) {\n        switch (typeof value) {\n        case 'undefined':\n            return 'undefined';\n            \n        case 'number':\n            return isFinite(value) ? String(value) : \"null\";\n            \n        case 'string':\n            return encodeString(value);\n            \n        case 'boolean':\n            return String(value);\n            \n        default:\n            if (value === null) {\n                return 'null';\n            } else if (value instanceof Array) {\n                return encodeArray(value);\n            } else if (value instanceof Date) {\n                return encodeDate(value);\n            } else {\n                var result = ['{'],\n                    encode = baidu.json.stringify,\n                    preComma,\n                    item;\n                    \n                for (var key in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, key)) {\n                        item = value[key];\n                        switch (typeof item) {\n                        case 'undefined':\n                        case 'unknown':\n                        case 'function':\n                            break;\n                        default:\n                            if (preComma) {\n                                result.push(',');\n                            }\n                            preComma = 1;\n                            result.push(encode(key) + ':' + encode(item));\n                        }\n                    }\n                }\n                result.push('}');\n                return result.join('');\n            }\n        }\n    };\n})();\n/*\n * Tangram\n * Copyright 2009 Baidu Inc. All rights reserved.\n * \n * path: baidu/json/encode.js\n * author: erik, cat\n * version: 1.3.4\n * date: 2010/12/23\n */\n\n\n\n/**\n * 将json对象序列化，为过时接口，今后会被baidu.json.stringify代替\n * @name baidu.json.encode\n * @function\n * @grammar baidu.json.encode(value)\n * @param {JSON} value 需要序列化的json对象\n * @meta out\n * @see baidu.json.decode,baidu.json.stringify\n *             \n * @returns {string} 序列化后的字符串\n */\nbaidu.json.encode = baidu.json.stringify;\n"]}