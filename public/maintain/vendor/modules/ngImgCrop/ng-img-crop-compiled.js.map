{"version":3,"sources":["ng-img-crop.js"],"names":[],"mappings":"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","file":"ng-img-crop-compiled.js","sourcesContent":["/*! ngImgCrop v0.2.0 License: MIT */!function(){\"use strict\";var e=angular.module(\"ngImgCrop\",[]);e.factory(\"cropAreaCircle\",[\"cropArea\",function(e){var t=function(){e.apply(this,arguments),this._boxResizeBaseSize=20,this._boxResizeNormalRatio=.9,this._boxResizeHoverRatio=1.2,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._boxResizeNormalSize=this._boxResizeBaseSize*this._boxResizeNormalRatio,this._boxResizeHoverSize=this._boxResizeBaseSize*this._boxResizeHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._boxResizeIsHover=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcCirclePerimeterCoords=function(e){var t=this._size/2,i=e*(Math.PI/180),s=this._x+t*Math.cos(i),r=this._y+t*Math.sin(i);return[s,r]},t.prototype._calcResizeIconCenterCoords=function(){return this._calcCirclePerimeterCoords(-45)},t.prototype._isCoordWithinArea=function(e){return Math.sqrt((e[0]-this._x)*(e[0]-this._x)+(e[1]-this._y)*(e[1]-this._y))<this._size/2},t.prototype._isCoordWithinBoxResize=function(e){var t=this._calcResizeIconCenterCoords(),i=this._boxResizeHoverSize/2;return e[0]>t[0]-i&&e[0]<t[0]+i&&e[1]>t[1]-i&&e[1]<t[1]+i},t.prototype._drawArea=function(e,t,i){e.arc(t[0],t[1],i/2,0,2*Math.PI)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio),this._cropCanvas.drawIconResizeBoxNESW(this._calcResizeIconCenterCoords(),this._boxResizeBaseSize,this._boxResizeIsHover?this._boxResizeHoverRatio:this._boxResizeNormalRatio)},t.prototype.processMouseMove=function(e,t){var i=\"default\",s=!1;if(this._boxResizeIsHover=!1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,i=\"move\",s=!0,this._events.trigger(\"area-move\");else if(this._boxResizeIsDragging){i=\"nesw-resize\";var r,o,a;o=e-this._posResizeStartX,a=this._posResizeStartY-t,r=o>a?this._posResizeStartSize+2*a:this._posResizeStartSize+2*o,this._size=Math.max(this._minSize,r),this._boxResizeIsHover=!0,s=!0,this._events.trigger(\"area-resize\")}else this._isCoordWithinBoxResize([e,t])?(i=\"nesw-resize\",this._areaIsHover=!1,this._boxResizeIsHover=!0,s=!0):this._isCoordWithinArea([e,t])&&(i=\"move\",this._areaIsHover=!0,s=!0);return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:i}),s},t.prototype.processMouseDown=function(e,t){this._isCoordWithinBoxResize([e,t])?(this._areaIsDragging=!1,this._areaIsHover=!1,this._boxResizeIsDragging=!0,this._boxResizeIsHover=!0,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger(\"area-resize-start\")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._boxResizeIsDragging=!1,this._boxResizeIsHover=!1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger(\"area-move-start\"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger(\"area-move-end\")),this._boxResizeIsDragging&&(this._boxResizeIsDragging=!1,this._events.trigger(\"area-resize-end\")),this._areaIsHover=!1,this._boxResizeIsHover=!1,this._posDragStartX=0,this._posDragStartY=0},t}]),e.factory(\"cropAreaSquare\",[\"cropArea\",function(e){var t=function(){e.apply(this,arguments),this._resizeCtrlBaseRadius=10,this._resizeCtrlNormalRatio=.75,this._resizeCtrlHoverRatio=1,this._iconMoveNormalRatio=.9,this._iconMoveHoverRatio=1.2,this._resizeCtrlNormalRadius=this._resizeCtrlBaseRadius*this._resizeCtrlNormalRatio,this._resizeCtrlHoverRadius=this._resizeCtrlBaseRadius*this._resizeCtrlHoverRatio,this._posDragStartX=0,this._posDragStartY=0,this._posResizeStartX=0,this._posResizeStartY=0,this._posResizeStartSize=0,this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._resizeCtrlIsDragging=-1,this._areaIsDragging=!1};return t.prototype=new e,t.prototype._calcSquareCorners=function(){var e=this._size/2;return[[this._x-e,this._y-e],[this._x+e,this._y-e],[this._x-e,this._y+e],[this._x+e,this._y+e]]},t.prototype._calcSquareDimensions=function(){var e=this._size/2;return{left:this._x-e,top:this._y-e,right:this._x+e,bottom:this._y+e}},t.prototype._isCoordWithinArea=function(e){var t=this._calcSquareDimensions();return e[0]>=t.left&&e[0]<=t.right&&e[1]>=t.top&&e[1]<=t.bottom},t.prototype._isCoordWithinResizeCtrl=function(e){for(var t=this._calcSquareCorners(),i=-1,s=0,r=t.length;r>s;s++){var o=t[s];if(e[0]>o[0]-this._resizeCtrlHoverRadius&&e[0]<o[0]+this._resizeCtrlHoverRadius&&e[1]>o[1]-this._resizeCtrlHoverRadius&&e[1]<o[1]+this._resizeCtrlHoverRadius){i=s;break}}return i},t.prototype._drawArea=function(e,t,i){var s=i/2;e.rect(t[0]-s,t[1]-s,i,i)},t.prototype.draw=function(){e.prototype.draw.apply(this,arguments),this._cropCanvas.drawIconMove([this._x,this._y],this._areaIsHover?this._iconMoveHoverRatio:this._iconMoveNormalRatio);for(var t=this._calcSquareCorners(),i=0,s=t.length;s>i;i++){var r=t[i];this._cropCanvas.drawIconResizeCircle(r,this._resizeCtrlBaseRadius,this._resizeCtrlIsHover===i?this._resizeCtrlHoverRatio:this._resizeCtrlNormalRatio)}},t.prototype.processMouseMove=function(e,t){var i=\"default\",s=!1;if(this._resizeCtrlIsHover=-1,this._areaIsHover=!1,this._areaIsDragging)this._x=e-this._posDragStartX,this._y=t-this._posDragStartY,this._areaIsHover=!0,i=\"move\",s=!0,this._events.trigger(\"area-move\");else if(this._resizeCtrlIsDragging>-1){var r,o;switch(this._resizeCtrlIsDragging){case 0:r=-1,o=-1,i=\"nwse-resize\";break;case 1:r=1,o=-1,i=\"nesw-resize\";break;case 2:r=-1,o=1,i=\"nesw-resize\";break;case 3:r=1,o=1,i=\"nwse-resize\"}var a,n=(e-this._posResizeStartX)*r,h=(t-this._posResizeStartY)*o;a=n>h?this._posResizeStartSize+h:this._posResizeStartSize+n;var c=this._size;this._size=Math.max(this._minSize,a);var _=(this._size-c)/2;this._x+=_*r,this._y+=_*o,this._resizeCtrlIsHover=this._resizeCtrlIsDragging,s=!0,this._events.trigger(\"area-resize\")}else{var g=this._isCoordWithinResizeCtrl([e,t]);if(g>-1){switch(g){case 0:i=\"nwse-resize\";break;case 1:i=\"nesw-resize\";break;case 2:i=\"nesw-resize\";break;case 3:i=\"nwse-resize\"}this._areaIsHover=!1,this._resizeCtrlIsHover=g,s=!0}else this._isCoordWithinArea([e,t])&&(i=\"move\",this._areaIsHover=!0,s=!0)}return this._dontDragOutside(),angular.element(this._ctx.canvas).css({cursor:i}),s},t.prototype.processMouseDown=function(e,t){var i=this._isCoordWithinResizeCtrl([e,t]);i>-1?(this._areaIsDragging=!1,this._areaIsHover=!1,this._resizeCtrlIsDragging=i,this._resizeCtrlIsHover=i,this._posResizeStartX=e,this._posResizeStartY=t,this._posResizeStartSize=this._size,this._events.trigger(\"area-resize-start\")):this._isCoordWithinArea([e,t])&&(this._areaIsDragging=!0,this._areaIsHover=!0,this._resizeCtrlIsDragging=-1,this._resizeCtrlIsHover=-1,this._posDragStartX=e-this._x,this._posDragStartY=t-this._y,this._events.trigger(\"area-move-start\"))},t.prototype.processMouseUp=function(){this._areaIsDragging&&(this._areaIsDragging=!1,this._events.trigger(\"area-move-end\")),this._resizeCtrlIsDragging>-1&&(this._resizeCtrlIsDragging=-1,this._events.trigger(\"area-resize-end\")),this._areaIsHover=!1,this._resizeCtrlIsHover=-1,this._posDragStartX=0,this._posDragStartY=0},t}]),e.factory(\"cropArea\",[\"cropCanvas\",function(e){var t=function(t,i){this._ctx=t,this._events=i,this._minSize=80,this._cropCanvas=new e(t),this._image=new Image,this._x=0,this._y=0,this._size=200};return t.prototype.getImage=function(){return this._image},t.prototype.setImage=function(e){this._image=e},t.prototype.getX=function(){return this._x},t.prototype.setX=function(e){this._x=e,this._dontDragOutside()},t.prototype.getY=function(){return this._y},t.prototype.setY=function(e){this._y=e,this._dontDragOutside()},t.prototype.getSize=function(){return this._size},t.prototype.setSize=function(e){this._size=Math.max(this._minSize,e),this._dontDragOutside()},t.prototype.getMinSize=function(){return this._minSize},t.prototype.setMinSize=function(e){this._minSize=e,this._size=Math.max(this._minSize,this._size),this._dontDragOutside()},t.prototype._dontDragOutside=function(){var e=this._ctx.canvas.height,t=this._ctx.canvas.width;this._size>t&&(this._size=t),this._size>e&&(this._size=e),this._x<this._size/2&&(this._x=this._size/2),this._x>t-this._size/2&&(this._x=t-this._size/2),this._y<this._size/2&&(this._y=this._size/2),this._y>e-this._size/2&&(this._y=e-this._size/2)},t.prototype._drawArea=function(){},t.prototype.draw=function(){this._cropCanvas.drawCropArea(this._image,[this._x,this._y],this._size,this._drawArea)},t.prototype.processMouseMove=function(){},t.prototype.processMouseDown=function(){},t.prototype.processMouseUp=function(){},t}]),e.factory(\"cropCanvas\",[function(){var e=[[-.5,-2],[-3,-4.5],[-.5,-7],[-7,-7],[-7,-.5],[-4.5,-3],[-2,-.5]],t=[[.5,-2],[3,-4.5],[.5,-7],[7,-7],[7,-.5],[4.5,-3],[2,-.5]],i=[[-.5,2],[-3,4.5],[-.5,7],[-7,7],[-7,.5],[-4.5,3],[-2,.5]],s=[[.5,2],[3,4.5],[.5,7],[7,7],[7,.5],[4.5,3],[2,.5]],r=[[-1.5,-2.5],[-1.5,-6],[-5,-6],[0,-11],[5,-6],[1.5,-6],[1.5,-2.5]],o=[[-2.5,-1.5],[-6,-1.5],[-6,-5],[-11,0],[-6,5],[-6,1.5],[-2.5,1.5]],a=[[-1.5,2.5],[-1.5,6],[-5,6],[0,11],[5,6],[1.5,6],[1.5,2.5]],n=[[2.5,-1.5],[6,-1.5],[6,-5],[11,0],[6,5],[6,1.5],[2.5,1.5]],h={areaOutline:\"#fff\",resizeBoxStroke:\"#fff\",resizeBoxFill:\"#444\",resizeBoxArrowFill:\"#fff\",resizeCircleStroke:\"#fff\",resizeCircleFill:\"#444\",moveIconFill:\"#fff\"};return function(c){var _=function(e,t,i){return[i*e[0]+t[0],i*e[1]+t[1]]},g=function(e,t,i,s){c.save(),c.fillStyle=t,c.beginPath();var r,o=_(e[0],i,s);c.moveTo(o[0],o[1]);for(var a in e)a>0&&(r=_(e[a],i,s),c.lineTo(r[0],r[1]));c.lineTo(o[0],o[1]),c.fill(),c.closePath(),c.restore()};this.drawIconMove=function(e,t){g(r,h.moveIconFill,e,t),g(o,h.moveIconFill,e,t),g(a,h.moveIconFill,e,t),g(n,h.moveIconFill,e,t)},this.drawIconResizeCircle=function(e,t,i){var s=t*i;c.save(),c.strokeStyle=h.resizeCircleStroke,c.lineWidth=2,c.fillStyle=h.resizeCircleFill,c.beginPath(),c.arc(e[0],e[1],s,0,2*Math.PI),c.fill(),c.stroke(),c.closePath(),c.restore()},this.drawIconResizeBoxBase=function(e,t,i){var s=t*i;c.save(),c.strokeStyle=h.resizeBoxStroke,c.lineWidth=2,c.fillStyle=h.resizeBoxFill,c.fillRect(e[0]-s/2,e[1]-s/2,s,s),c.strokeRect(e[0]-s/2,e[1]-s/2,s,s),c.restore()},this.drawIconResizeBoxNESW=function(e,s,r){this.drawIconResizeBoxBase(e,s,r),g(t,h.resizeBoxArrowFill,e,r),g(i,h.resizeBoxArrowFill,e,r)},this.drawIconResizeBoxNWSE=function(t,i,r){this.drawIconResizeBoxBase(t,i,r),g(e,h.resizeBoxArrowFill,t,r),g(s,h.resizeBoxArrowFill,t,r)},this.drawCropArea=function(e,t,i,s){var r=e.width/c.canvas.width,o=e.height/c.canvas.height,a=t[0]-i/2,n=t[1]-i/2;c.save(),c.strokeStyle=h.areaOutline,c.lineWidth=2,c.beginPath(),s(c,t,i),c.stroke(),c.clip(),i>0&&c.drawImage(e,a*r,n*o,i*r,i*o,a,n,i,i),c.beginPath(),s(c,t,i),c.stroke(),c.clip(),c.restore()}}}]),e.factory(\"cropHost\",[\"$document\",\"cropAreaCircle\",\"cropAreaSquare\",function(e,t,i){var s=function(e){var t=e.getBoundingClientRect(),i=document.body,s=document.documentElement,r=window.pageYOffset||s.scrollTop||i.scrollTop,o=window.pageXOffset||s.scrollLeft||i.scrollLeft,a=s.clientTop||i.clientTop||0,n=s.clientLeft||i.clientLeft||0,h=t.top+r-a,c=t.left+o-n;return{top:Math.round(h),left:Math.round(c)}};return function(r,o,a){function n(){h.clearRect(0,0,h.canvas.width,h.canvas.height),null!==c&&(h.drawImage(c,0,0,h.canvas.width,h.canvas.height),h.save(),h.fillStyle=\"rgba(0, 0, 0, 0.65)\",h.fillRect(0,0,h.canvas.width,h.canvas.height),h.restore(),_.draw())}var h=null,c=null,_=null,g=[100,100],u=[300,300],l=200,p=function(){if(null!==c){_.setImage(c);var e=[c.width,c.height],t=c.width/c.height,i=e;i[0]>u[0]?(i[0]=u[0],i[1]=i[0]/t):i[0]<g[0]&&(i[0]=g[0],i[1]=i[0]/t),i[1]>u[1]?(i[1]=u[1],i[0]=i[1]*t):i[1]<g[1]&&(i[1]=g[1],i[0]=i[1]*t),r.prop(\"width\",i[0]).prop(\"height\",i[1]).css({\"margin-left\":-i[0]/2+\"px\",\"margin-top\":-i[1]/2+\"px\"}),_.setX(h.canvas.width/2),_.setY(h.canvas.height/2),_.setSize(Math.min(200,h.canvas.width/2,h.canvas.height/2))}else r.prop(\"width\",0).prop(\"height\",0).css({\"margin-top\":0});n()},z=function(e){if(null!==c){var t,i,r=s(h.canvas);\"touchmove\"===e.type?(t=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY):(t=e.pageX,i=e.pageY),_.processMouseMove(t-r.left,i-r.top),n()}},v=function(e){if(e.preventDefault(),e.stopPropagation(),null!==c){var t,i,r=s(h.canvas);\"touchstart\"===e.type?(t=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY):(t=e.pageX,i=e.pageY),_.processMouseDown(t-r.left,i-r.top),n()}},f=function(e){if(null!==c){var t,i,r=s(h.canvas);\"touchend\"===e.type?(t=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY):(t=e.pageX,i=e.pageY),_.processMouseUp(t-r.left,i-r.top),n()}};this.getResultImageDataURI=function(){var e,t;return t=angular.element(\"<canvas></canvas>\")[0],e=t.getContext(\"2d\"),t.width=l,t.height=l,null!==c&&e.drawImage(c,(_.getX()-_.getSize()/2)*(c.width/h.canvas.width),(_.getY()-_.getSize()/2)*(c.height/h.canvas.height),_.getSize()*(c.width/h.canvas.width),_.getSize()*(c.height/h.canvas.height),0,0,l,l),t.toDataURL()},this.setNewImageSource=function(e){if(c=null,p(),a.trigger(\"image-updated\"),e){var t=new Image;t.onload=function(){a.trigger(\"load-done\"),c=t,p(),a.trigger(\"image-updated\")},t.onerror=function(){a.trigger(\"load-error\")},a.trigger(\"load-start\"),t.src=e}},this.setMaxDimensions=function(e,t){if(u=[e,t],null!==c){var i=h.canvas.width,s=h.canvas.height,o=[c.width,c.height],a=c.width/c.height,l=o;l[0]>u[0]?(l[0]=u[0],l[1]=l[0]/a):l[0]<g[0]&&(l[0]=g[0],l[1]=l[0]/a),l[1]>u[1]?(l[1]=u[1],l[0]=l[1]*a):l[1]<g[1]&&(l[1]=g[1],l[0]=l[1]*a),r.prop(\"width\",l[0]).prop(\"height\",l[1]).css({\"margin-left\":-l[0]/2+\"px\",\"margin-top\":-l[1]/2+\"px\"});var p=h.canvas.width/i,z=h.canvas.height/s,v=Math.min(p,z);_.setX(_.getX()*p),_.setY(_.getY()*z),_.setSize(_.getSize()*v)}else r.prop(\"width\",0).prop(\"height\",0).css({\"margin-top\":0});n()},this.setAreaMinSize=function(e){e=parseInt(e,10),isNaN(e)||(_.setMinSize(e),n())},this.setResultImageSize=function(e){e=parseInt(e,10),isNaN(e)||(l=e)},this.setAreaType=function(e){var s=_.getSize(),r=_.getMinSize(),o=_.getX(),g=_.getY(),u=t;\"square\"===e&&(u=i),_=new u(h,a),_.setMinSize(r),_.setSize(s),_.setX(o),_.setY(g),null!==c&&_.setImage(c),n()},h=r[0].getContext(\"2d\"),_=new t(h,a),e.on(\"mousemove\",z),r.on(\"mousedown\",v),e.on(\"mouseup\",f),e.on(\"touchmove\",z),r.on(\"touchstart\",v),e.on(\"touchend\",f),this.destroy=function(){e.off(\"mousemove\",z),r.off(\"mousedown\",v),e.off(\"mouseup\",z),e.off(\"touchmove\",z),r.off(\"touchstart\",v),e.off(\"touchend\",z),r.remove()}}}]),e.factory(\"cropPubSub\",[function(){return function(){var e={};this.on=function(t,i){return t.split(\" \").forEach(function(t){e[t]||(e[t]=[]),e[t].push(i)}),this},this.trigger=function(t,i){return angular.forEach(e[t],function(e){e.call(null,i)}),this}}}]),e.directive(\"imgCrop\",[\"$timeout\",\"cropHost\",\"cropPubSub\",function(e,t,i){return{restrict:\"E\",scope:{image:\"=\",resultImage:\"=\",changeOnFly:\"=\",areaType:\"@\",areaMinSize:\"=\",resultImageSize:\"=\",onChange:\"&\",onLoadBegin:\"&\",onLoadDone:\"&\",onLoadError:\"&\"},template:\"<canvas></canvas>\",controller:[\"$scope\",function(e){e.events=new i}],link:function(i,s){var r,o=i.events,a=new t(s.find(\"canvas\"),{},o),n=function(e){var t=a.getResultImageDataURI();r!==t&&(r=t,angular.isDefined(e.resultImage)&&(e.resultImage=t),e.onChange({$dataURI:e.resultImage}))},h=function(t){return function(){e(function(){i.$apply(function(e){t(e)})})}};o.on(\"load-start\",h(function(e){e.onLoadBegin({})})).on(\"load-done\",h(function(e){e.onLoadDone({})})).on(\"load-error\",h(function(e){e.onLoadError({})})).on(\"area-move area-resize\",h(function(e){e.changeOnFly&&n(e)})).on(\"area-move-end area-resize-end image-updated\",h(function(e){n(e)})),i.$watch(\"image\",function(){a.setNewImageSource(i.image)}),i.$watch(\"areaType\",function(){a.setAreaType(i.areaType),n(i)}),i.$watch(\"areaMinSize\",function(){a.setAreaMinSize(i.areaMinSize),n(i)}),i.$watch(\"resultImageSize\",function(){a.setResultImageSize(i.resultImageSize),n(i)}),i.$watch(function(){return[s[0].clientWidth,s[0].clientHeight]},function(e){a.setMaxDimensions(e[0],e[1]),n(i)},!0),i.$on(\"$destroy\",function(){a.destroy()})}}}])}();"]}