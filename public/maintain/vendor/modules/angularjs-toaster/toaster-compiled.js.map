{"version":3,"sources":["toaster.js"],"names":[],"mappings":"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","file":"toaster-compiled.js","sourcesContent":["'use strict';\n\n/*\n * AngularJS Toaster\n * Version: 0.4.8\n *\n * Copyright 2013 Jiri Kavulak.  \n * All Rights Reserved.  \n * Use, reproduction, distribution, and modification of this code is subject to the terms and \n * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php\n *\n * Author: Jiri Kavulak\n * Related to project of John Papa and Hans FjÃ¤llemark\n */\n\nangular.module('toaster', ['ngAnimate'])\n.service('toaster', ['$rootScope', function ($rootScope) {\n    this.pop = function (type, title, body, timeout, bodyOutputType, clickHandler) {\n        this.toast = {\n            type: type,\n            title: title,\n            body: body,\n            timeout: timeout,\n            bodyOutputType: bodyOutputType,\n            clickHandler: clickHandler\n        };\n        $rootScope.$broadcast('toaster-newToast');\n    };\n\n    this.clear = function () {\n        $rootScope.$broadcast('toaster-clearToasts');\n    };\n}])\n.constant('toasterConfig', {\n    'limit': 0,                   // limits max number of toasts \n    'tap-to-dismiss': true,\n    'close-button': false,\n    'newest-on-top': true,\n    //'fade-in': 1000,            // done in css\n    //'on-fade-in': undefined,    // not implemented\n    //'fade-out': 1000,           // done in css\n    // 'on-fade-out': undefined,  // not implemented\n    //'extended-time-out': 1000,    // not implemented\n    'time-out': 5000, // Set timeOut and extendedTimeout to 0 to make it sticky\n    'icon-classes': {\n        error: 'toast-error',\n        info: 'toast-info',\n        wait: 'toast-wait',\n        success: 'toast-success',\n        warning: 'toast-warning'\n    },\n    'body-output-type': '', // Options: '', 'trustedHtml', 'template'\n    'body-template': 'toasterBodyTmpl.html',\n    'icon-class': 'toast-info',\n    'position-class': 'toast-top-right',\n    'title-class': 'toast-title',\n    'message-class': 'toast-message'\n})\n.directive('toasterContainer', ['$compile', '$timeout', '$sce', 'toasterConfig', 'toaster',\nfunction ($compile, $timeout, $sce, toasterConfig, toaster) {\n    return {\n        replace: true,\n        restrict: 'EA',\n        scope: true, // creates an internal scope for this directive\n        link: function (scope, elm, attrs) {\n\n            var id = 0,\n                mergedConfig;\n\n            mergedConfig = angular.extend({}, toasterConfig, scope.$eval(attrs.toasterOptions));\n\n            scope.config = {\n                position: mergedConfig['position-class'],\n                title: mergedConfig['title-class'],\n                message: mergedConfig['message-class'],\n                tap: mergedConfig['tap-to-dismiss'],\n                closeButton: mergedConfig['close-button']\n            };\n\n            scope.configureTimer = function configureTimer(toast) {\n                var timeout = typeof (toast.timeout) == \"number\" ? toast.timeout : mergedConfig['time-out'];\n                if (timeout > 0)\n                    setTimeout(toast, timeout);\n            };\n\n            function addToast(toast) {\n                toast.type = mergedConfig['icon-classes'][toast.type];\n                if (!toast.type)\n                    toast.type = mergedConfig['icon-class'];\n\n                id++;\n                angular.extend(toast, { id: id });\n\n                // Set the toast.bodyOutputType to the default if it isn't set\n                toast.bodyOutputType = toast.bodyOutputType || mergedConfig['body-output-type'];\n                switch (toast.bodyOutputType) {\n                    case 'trustedHtml':\n                        toast.html = $sce.trustAsHtml(toast.body);\n                        break;\n                    case 'template':\n                        toast.bodyTemplate = toast.body || mergedConfig['body-template'];\n                        break;\n                }\n\n                scope.configureTimer(toast);\n\n                if (mergedConfig['newest-on-top'] === true) {\n                    scope.toasters.unshift(toast);\n                    if (mergedConfig['limit'] > 0 && scope.toasters.length > mergedConfig['limit']) {\n                        scope.toasters.pop();\n                    }\n                } else {\n                    scope.toasters.push(toast);\n                    if (mergedConfig['limit'] > 0 && scope.toasters.length > mergedConfig['limit']) {\n                        scope.toasters.shift();\n                    }\n                }\n            }\n\n            function setTimeout(toast, time) {\n                toast.timeout = $timeout(function () {\n                    scope.removeToast(toast.id);\n                }, time);\n            }\n\n            scope.toasters = [];\n            scope.$on('toaster-newToast', function () {\n                addToast(toaster.toast);\n            });\n\n            scope.$on('toaster-clearToasts', function () {\n                scope.toasters.splice(0, scope.toasters.length);\n            });\n        },\n        controller: ['$scope', '$element', '$attrs', function ($scope, $element, $attrs) {\n\n            $scope.stopTimer = function (toast) {\n                if (toast.timeout) {\n                    $timeout.cancel(toast.timeout);\n                    toast.timeout = null;\n                }\n            };\n\n            $scope.restartTimer = function (toast) {\n                if (!toast.timeout)\n                    $scope.configureTimer(toast);\n            };\n\n            $scope.removeToast = function (id) {\n                var i = 0;\n                for (i; i < $scope.toasters.length; i++) {\n                    if ($scope.toasters[i].id === id)\n                        break;\n                }\n                $scope.toasters.splice(i, 1);\n            };\n\n            $scope.click = function (toaster) {\n                if ($scope.config.tap === true) {\n                    if (toaster.clickHandler && angular.isFunction($scope.$parent.$eval(toaster.clickHandler))) {\n                        var result = $scope.$parent.$eval(toaster.clickHandler)(toaster);\n                        if (result === true)\n                            $scope.removeToast(toaster.id);\n                    } else {\n                        if (angular.isString(toaster.clickHandler))\n                            console.log(\"TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.\");\n                        $scope.removeToast(toaster.id);\n                    }\n                }\n            };\n        }],\n        template:\n        '<div  id=\"toast-container\" ng-class=\"config.position\">' +\n            '<div ng-repeat=\"toaster in toasters\" class=\"toast\" ng-class=\"toaster.type\" ng-click=\"click(toaster)\" ng-mouseover=\"stopTimer(toaster)\"  ng-mouseout=\"restartTimer(toaster)\">' +\n              '<button class=\"toast-close-button\" ng-show=\"config.closeButton\">&times;</button>' +\n              '<div ng-class=\"config.title\">{{toaster.title}}</div>' +\n              '<div ng-class=\"config.message\" ng-switch on=\"toaster.bodyOutputType\">' +\n                '<div ng-switch-when=\"trustedHtml\" ng-bind-html=\"toaster.html\"></div>' +\n                '<div ng-switch-when=\"template\"><div ng-include=\"toaster.bodyTemplate\"></div></div>' +\n                '<div ng-switch-default >{{toaster.body}}</div>' +\n              '</div>' +\n            '</div>' +\n        '</div>'\n    };\n}]);\n"]}