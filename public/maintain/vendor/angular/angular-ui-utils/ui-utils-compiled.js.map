{"version":3,"sources":["ui-utils.js"],"names":[],"mappings":"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","file":"ui-utils-compiled.js","sourcesContent":["/**\n * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)\n * @version v0.1.1 - 2014-02-05\n * @link http://angular-ui.github.com\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n'use strict';\n\nangular.module('ui.alias', []).config(['$compileProvider', 'uiAliasConfig', function($compileProvider, uiAliasConfig){\n  uiAliasConfig = uiAliasConfig || {};\n  angular.forEach(uiAliasConfig, function(config, alias){\n    if (angular.isString(config)) {\n      config = {\n        replace: true,\n        template: config\n      };\n    }\n    $compileProvider.directive(alias, function(){\n      return config;\n    });\n  });\n}]);\n\n'use strict';\n\n/**\n * General-purpose Event binding. Bind any event not natively supported by Angular\n * Pass an object with keynames for events to ui-event\n * Allows $event object and $params object to be passed\n *\n * @example <input ui-event=\"{ focus : 'counter++', blur : 'someCallback()' }\">\n * @example <input ui-event=\"{ myCustomEvent : 'myEventHandler($event, $params)'}\">\n *\n * @param ui-event {string|object literal} The event to bind to as a string or a hash of events with their callbacks\n */\nangular.module('ui.event',[]).directive('uiEvent', ['$parse',\n  function ($parse) {\n    return function ($scope, elm, attrs) {\n      var events = $scope.$eval(attrs.uiEvent);\n      angular.forEach(events, function (uiEvent, eventName) {\n        var fn = $parse(uiEvent);\n        elm.bind(eventName, function (evt) {\n          var params = Array.prototype.slice.call(arguments);\n          //Take out first paramater (event object);\n          params = params.splice(1);\n          fn($scope, {$event: evt, $params: params});\n          if (!$scope.$$phase) {\n            $scope.$apply();\n          }\n        });\n      });\n    };\n  }]);\n\n'use strict';\n\n/**\n * A replacement utility for internationalization very similar to sprintf.\n *\n * @param replace {mixed} The tokens to replace depends on type\n *  string: all instances of $0 will be replaced\n *  array: each instance of $0, $1, $2 etc. will be placed with each array item in corresponding order\n *  object: all attributes will be iterated through, with :key being replaced with its corresponding value\n * @return string\n *\n * @example: 'Hello :name, how are you :day'.format({ name:'John', day:'Today' })\n * @example: 'Records $0 to $1 out of $2 total'.format(['10', '20', '3000'])\n * @example: '$0 agrees to all mentions $0 makes in the event that $0 hits a tree while $0 is driving drunk'.format('Bob')\n */\nangular.module('ui.format',[]).filter('format', function(){\n  return function(value, replace) {\n    var target = value;\n    if (angular.isString(target) && replace !== undefined) {\n      if (!angular.isArray(replace) && !angular.isObject(replace)) {\n        replace = [replace];\n      }\n      if (angular.isArray(replace)) {\n        var rlen = replace.length;\n        var rfx = function (str, i) {\n          i = parseInt(i, 10);\n          return (i>=0 && i<rlen) ? replace[i] : str;\n        };\n        target = target.replace(/\\$([0-9]+)/g, rfx);\n      }\n      else {\n        angular.forEach(replace, function(value, key){\n          target = target.split(':'+key).join(value);\n        });\n      }\n    }\n    return target;\n  };\n});\n\n'use strict';\n\n/**\n * Wraps the\n * @param text {string} haystack to search through\n * @param search {string} needle to search for\n * @param [caseSensitive] {boolean} optional boolean to use case-sensitive searching\n */\nangular.module('ui.highlight',[]).filter('highlight', function () {\n  return function (text, search, caseSensitive) {\n    if (search || angular.isNumber(search)) {\n      text = text.toString();\n      search = search.toString();\n      if (caseSensitive) {\n        return text.split(search).join('<span class=\"ui-match\">' + search + '</span>');\n      } else {\n        return text.replace(new RegExp(search, 'gi'), '<span class=\"ui-match\">$&</span>');\n      }\n    } else {\n      return text;\n    }\n  };\n});\n\n'use strict';\n\n// modeled after: angular-1.0.7/src/ng/directive/ngInclude.js\nangular.module('ui.include',[])\n.directive('uiInclude', ['$http', '$templateCache', '$anchorScroll', '$compile',\n                 function($http,   $templateCache,   $anchorScroll,   $compile) {\n  return {\n    restrict: 'ECA',\n    terminal: true,\n    compile: function(element, attr) {\n      var srcExp = attr.uiInclude || attr.src,\n          fragExp = attr.fragment || '',\n          onloadExp = attr.onload || '',\n          autoScrollExp = attr.autoscroll;\n\n      return function(scope, element) {\n        var changeCounter = 0,\n            childScope;\n\n        var clearContent = function() {\n          if (childScope) {\n            childScope.$destroy();\n            childScope = null;\n          }\n\n          element.html('');\n        };\n\n        function ngIncludeWatchAction() {\n          var thisChangeId = ++changeCounter;\n          var src = scope.$eval(srcExp);\n          var fragment = scope.$eval(fragExp);\n\n          if (src) {\n            $http.get(src, {cache: $templateCache}).success(function(response) {\n              if (thisChangeId !== changeCounter) { return; }\n\n              if (childScope) { childScope.$destroy(); }\n              childScope = scope.$new();\n\n              var contents;\n              if (fragment) {\n                contents = angular.element('<div/>').html(response).find(fragment);\n              }\n              else {\n                contents = angular.element('<div/>').html(response).contents();\n              }\n              element.html(contents);\n              $compile(contents)(childScope);\n\n              if (angular.isDefined(autoScrollExp) && (!autoScrollExp || scope.$eval(autoScrollExp))) {\n                $anchorScroll();\n              }\n\n              childScope.$emit('$includeContentLoaded');\n              scope.$eval(onloadExp);\n            }).error(function() {\n              if (thisChangeId === changeCounter) { clearContent(); }\n            });\n          } else { clearContent(); }\n        }\n\n        scope.$watch(fragExp, ngIncludeWatchAction);\n        scope.$watch(srcExp, ngIncludeWatchAction);\n      };\n    }\n  };\n}]);\n\n'use strict';\n\n/**\n * Provides an easy way to toggle a checkboxes indeterminate property\n *\n * @example <input type=\"checkbox\" ui-indeterminate=\"isUnkown\">\n */\nangular.module('ui.indeterminate',[]).directive('uiIndeterminate', [\n  function () {\n    return {\n      compile: function(tElm, tAttrs) {\n        if (!tAttrs.type || tAttrs.type.toLowerCase() !== 'checkbox') {\n          return angular.noop;\n        }\n\n        return function ($scope, elm, attrs) {\n          $scope.$watch(attrs.uiIndeterminate, function(newVal) {\n            elm[0].indeterminate = !!newVal;\n          });\n        };\n      }\n    };\n  }]);\n\n'use strict';\n\n/**\n * Converts variable-esque naming conventions to something presentational, capitalized words separated by space.\n * @param {String} value The value to be parsed and prettified.\n * @param {String} [inflector] The inflector to use. Default: humanize.\n * @return {String}\n * @example {{ 'Here Is my_phoneNumber' | inflector:'humanize' }} => Here Is My Phone Number\n *          {{ 'Here Is my_phoneNumber' | inflector:'underscore' }} => here_is_my_phone_number\n *          {{ 'Here Is my_phoneNumber' | inflector:'variable' }} => hereIsMyPhoneNumber\n */\nangular.module('ui.inflector',[]).filter('inflector', function () {\n  function ucwords(text) {\n    return text.replace(/^([a-z])|\\s+([a-z])/g, function ($1) {\n      return $1.toUpperCase();\n    });\n  }\n\n  function breakup(text, separator) {\n    return text.replace(/[A-Z]/g, function (match) {\n      return separator + match;\n    });\n  }\n\n  var inflectors = {\n    humanize: function (value) {\n      return ucwords(breakup(value, ' ').split('_').join(' '));\n    },\n    underscore: function (value) {\n      return value.substr(0, 1).toLowerCase() + breakup(value.substr(1), '_').toLowerCase().split(' ').join('_');\n    },\n    variable: function (value) {\n      value = value.substr(0, 1).toLowerCase() + ucwords(value.split('_').join(' ')).substr(1).split(' ').join('');\n      return value;\n    }\n  };\n\n  return function (text, inflector) {\n    if (inflector !== false && angular.isString(text)) {\n      inflector = inflector || 'humanize';\n      return inflectors[inflector](text);\n    } else {\n      return text;\n    }\n  };\n});\n\n'use strict';\n\n/**\n * General-purpose jQuery wrapper. Simply pass the plugin name as the expression.\n *\n * It is possible to specify a default set of parameters for each jQuery plugin.\n * Under the jq key, namespace each plugin by that which will be passed to ui-jq.\n * Unfortunately, at this time you can only pre-define the first parameter.\n * @example { jq : { datepicker : { showOn:'click' } } }\n *\n * @param ui-jq {string} The $elm.[pluginName]() to call.\n * @param [ui-options] {mixed} Expression to be evaluated and passed as options to the function\n *     Multiple parameters can be separated by commas\n * @param [ui-refresh] {expression} Watch expression and refire plugin on changes\n *\n * @example <input ui-jq=\"datepicker\" ui-options=\"{showOn:'click'},secondParameter,thirdParameter\" ui-refresh=\"iChange\">\n */\nangular.module('ui.jq',[]).\n  value('uiJqConfig',{}).\n  directive('uiJq', ['uiJqConfig', '$timeout', function uiJqInjectingFunction(uiJqConfig, $timeout) {\n\n  return {\n    restrict: 'A',\n    compile: function uiJqCompilingFunction(tElm, tAttrs) {\n\n      if (!angular.isFunction(tElm[tAttrs.uiJq])) {\n        throw new Error('ui-jq: The \"' + tAttrs.uiJq + '\" function does not exist');\n      }\n      var options = uiJqConfig && uiJqConfig[tAttrs.uiJq];\n\n      return function uiJqLinkingFunction(scope, elm, attrs) {\n\n        var linkOptions = [];\n\n        // If ui-options are passed, merge (or override) them onto global defaults and pass to the jQuery method\n        if (attrs.uiOptions) {\n          linkOptions = scope.$eval('[' + attrs.uiOptions + ']');\n          if (angular.isObject(options) && angular.isObject(linkOptions[0])) {\n            linkOptions[0] = angular.extend({}, options, linkOptions[0]);\n          }\n        } else if (options) {\n          linkOptions = [options];\n        }\n        // If change compatibility is enabled, the form input's \"change\" event will trigger an \"input\" event\n        if (attrs.ngModel && elm.is('select,input,textarea')) {\n          elm.bind('change', function() {\n            elm.trigger('input');\n          });\n        }\n\n        // Call jQuery method and pass relevant options\n        function callPlugin() {\n          $timeout(function() {\n            elm[attrs.uiJq].apply(elm, linkOptions);\n          }, 0, false);\n        }\n\n        // If ui-refresh is used, re-fire the the method upon every change\n        if (attrs.uiRefresh) {\n          scope.$watch(attrs.uiRefresh, function() {\n            callPlugin();\n          });\n        }\n        callPlugin();\n      };\n    }\n  };\n}]);\n\n'use strict';\n\nangular.module('ui.keypress',[]).\nfactory('keypressHelper', ['$parse', function keypress($parse){\n  var keysByCode = {\n    8: 'backspace',\n    9: 'tab',\n    13: 'enter',\n    27: 'esc',\n    32: 'space',\n    33: 'pageup',\n    34: 'pagedown',\n    35: 'end',\n    36: 'home',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    45: 'insert',\n    46: 'delete'\n  };\n\n  var capitaliseFirstLetter = function (string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  return function(mode, scope, elm, attrs) {\n    var params, combinations = [];\n    params = scope.$eval(attrs['ui'+capitaliseFirstLetter(mode)]);\n\n    // Prepare combinations for simple checking\n    angular.forEach(params, function (v, k) {\n      var combination, expression;\n      expression = $parse(v);\n\n      angular.forEach(k.split(' '), function(variation) {\n        combination = {\n          expression: expression,\n          keys: {}\n        };\n        angular.forEach(variation.split('-'), function (value) {\n          combination.keys[value] = true;\n        });\n        combinations.push(combination);\n      });\n    });\n\n    // Check only matching of pressed keys one of the conditions\n    elm.bind(mode, function (event) {\n      // No need to do that inside the cycle\n      var metaPressed = !!(event.metaKey && !event.ctrlKey);\n      var altPressed = !!event.altKey;\n      var ctrlPressed = !!event.ctrlKey;\n      var shiftPressed = !!event.shiftKey;\n      var keyCode = event.keyCode;\n\n      // normalize keycodes\n      if (mode === 'keypress' && !shiftPressed && keyCode >= 97 && keyCode <= 122) {\n        keyCode = keyCode - 32;\n      }\n\n      // Iterate over prepared combinations\n      angular.forEach(combinations, function (combination) {\n\n        var mainKeyPressed = combination.keys[keysByCode[keyCode]] || combination.keys[keyCode.toString()];\n\n        var metaRequired = !!combination.keys.meta;\n        var altRequired = !!combination.keys.alt;\n        var ctrlRequired = !!combination.keys.ctrl;\n        var shiftRequired = !!combination.keys.shift;\n\n        if (\n          mainKeyPressed &&\n          ( metaRequired === metaPressed ) &&\n          ( altRequired === altPressed ) &&\n          ( ctrlRequired === ctrlPressed ) &&\n          ( shiftRequired === shiftPressed )\n        ) {\n          // Run the function\n          scope.$apply(function () {\n            combination.expression(scope, { '$event': event });\n          });\n        }\n      });\n    });\n  };\n}]);\n\n/**\n * Bind one or more handlers to particular keys or their combination\n * @param hash {mixed} keyBindings Can be an object or string where keybinding expression of keys or keys combinations and AngularJS Exspressions are set. Object syntax: \"{ keys1: expression1 [, keys2: expression2 [ , ... ]]}\". String syntax: \"\"expression1 on keys1 [ and expression2 on keys2 [ and ... ]]\"\". Expression is an AngularJS Expression, and key(s) are dash-separated combinations of keys and modifiers (one or many, if any. Order does not matter). Supported modifiers are 'ctrl', 'shift', 'alt' and key can be used either via its keyCode (13 for Return) or name. Named keys are 'backspace', 'tab', 'enter', 'esc', 'space', 'pageup', 'pagedown', 'end', 'home', 'left', 'up', 'right', 'down', 'insert', 'delete'.\n * @example <input ui-keypress=\"{enter:'x = 1', 'ctrl-shift-space':'foo()', 'shift-13':'bar()'}\" /> <input ui-keypress=\"foo = 2 on ctrl-13 and bar('hello') on shift-esc\" />\n **/\nangular.module('ui.keypress').directive('uiKeydown', ['keypressHelper', function(keypressHelper){\n  return {\n    link: function (scope, elm, attrs) {\n      keypressHelper('keydown', scope, elm, attrs);\n    }\n  };\n}]);\n\nangular.module('ui.keypress').directive('uiKeypress', ['keypressHelper', function(keypressHelper){\n  return {\n    link: function (scope, elm, attrs) {\n      keypressHelper('keypress', scope, elm, attrs);\n    }\n  };\n}]);\n\nangular.module('ui.keypress').directive('uiKeyup', ['keypressHelper', function(keypressHelper){\n  return {\n    link: function (scope, elm, attrs) {\n      keypressHelper('keyup', scope, elm, attrs);\n    }\n  };\n}]);\n\n'use strict';\n\n/*\n Attaches input mask onto input element\n */\nangular.module('ui.mask', [])\n  .value('uiMaskConfig', {\n    'maskDefinitions': {\n      '9': /\\d/,\n      'A': /[a-zA-Z]/,\n      '*': /[a-zA-Z0-9]/\n    }\n  })\n  .directive('uiMask', ['uiMaskConfig', function (maskConfig) {\n    return {\n      priority: 100,\n      require: 'ngModel',\n      restrict: 'A',\n      compile: function uiMaskCompilingFunction(){\n        var options = maskConfig;\n\n        return function uiMaskLinkingFunction(scope, iElement, iAttrs, controller){\n          var maskProcessed = false, eventsBound = false,\n            maskCaretMap, maskPatterns, maskPlaceholder, maskComponents,\n          // Minimum required length of the value to be considered valid\n            minRequiredLength,\n            value, valueMasked, isValid,\n          // Vars for initializing/uninitializing\n            originalPlaceholder = iAttrs.placeholder,\n            originalMaxlength = iAttrs.maxlength,\n          // Vars used exclusively in eventHandler()\n            oldValue, oldValueUnmasked, oldCaretPosition, oldSelectionLength;\n\n          function initialize(maskAttr){\n            if (!angular.isDefined(maskAttr)) {\n              return uninitialize();\n            }\n            processRawMask(maskAttr);\n            if (!maskProcessed) {\n              return uninitialize();\n            }\n            initializeElement();\n            bindEventListeners();\n            return true;\n          }\n\n          function initPlaceholder(placeholderAttr) {\n            if(! angular.isDefined(placeholderAttr)) {\n              return;\n            }\n\n            maskPlaceholder = placeholderAttr;\n\n            // If the mask is processed, then we need to update the value\n            if (maskProcessed) {\n              eventHandler();\n            }\n          }\n\n          function formatter(fromModelValue){\n            if (!maskProcessed) {\n              return fromModelValue;\n            }\n            value = unmaskValue(fromModelValue || '');\n            isValid = validateValue(value);\n            controller.$setValidity('mask', isValid);\n            return isValid && value.length ? maskValue(value) : undefined;\n          }\n\n          function parser(fromViewValue){\n            if (!maskProcessed) {\n              return fromViewValue;\n            }\n            value = unmaskValue(fromViewValue || '');\n            isValid = validateValue(value);\n            // We have to set viewValue manually as the reformatting of the input\n            // value performed by eventHandler() doesn't happen until after\n            // this parser is called, which causes what the user sees in the input\n            // to be out-of-sync with what the controller's $viewValue is set to.\n            controller.$viewValue = value.length ? maskValue(value) : '';\n            controller.$setValidity('mask', isValid);\n            if (value === '' && controller.$error.required !== undefined) {\n              controller.$setValidity('required', false);\n            }\n            return isValid ? value : undefined;\n          }\n\n          var linkOptions = {};\n\n          if (iAttrs.uiOptions) {\n            linkOptions = scope.$eval('[' + iAttrs.uiOptions + ']');\n            if (angular.isObject(linkOptions[0])) {\n              // we can't use angular.copy nor angular.extend, they lack the power to do a deep merge\n              linkOptions = (function(original, current){\n                for(var i in original) {\n                  if (Object.prototype.hasOwnProperty.call(original, i)) {\n                    if (!current[i]) {\n                      current[i] = angular.copy(original[i]);\n                    } else {\n                      angular.extend(current[i], original[i]);\n                    }\n                  }\n                }\n                return current;\n              })(options, linkOptions[0]);\n            }\n          } else {\n            linkOptions = options;\n          }\n\n          iAttrs.$observe('uiMask', initialize);\n          iAttrs.$observe('placeholder', initPlaceholder);\n          controller.$formatters.push(formatter);\n          controller.$parsers.push(parser);\n\n          function uninitialize(){\n            maskProcessed = false;\n            unbindEventListeners();\n\n            if (angular.isDefined(originalPlaceholder)) {\n              iElement.attr('placeholder', originalPlaceholder);\n            } else {\n              iElement.removeAttr('placeholder');\n            }\n\n            if (angular.isDefined(originalMaxlength)) {\n              iElement.attr('maxlength', originalMaxlength);\n            } else {\n              iElement.removeAttr('maxlength');\n            }\n\n            iElement.val(controller.$modelValue);\n            controller.$viewValue = controller.$modelValue;\n            return false;\n          }\n\n          function initializeElement(){\n            value = oldValueUnmasked = unmaskValue(controller.$modelValue || '');\n            valueMasked = oldValue = maskValue(value);\n            isValid = validateValue(value);\n            var viewValue = isValid && value.length ? valueMasked : '';\n            if (iAttrs.maxlength) { // Double maxlength to allow pasting new val at end of mask\n              iElement.attr('maxlength', maskCaretMap[maskCaretMap.length - 1] * 2);\n            }\n            iElement.attr('placeholder', maskPlaceholder);\n            iElement.val(viewValue);\n            controller.$viewValue = viewValue;\n            // Not using $setViewValue so we don't clobber the model value and dirty the form\n            // without any kind of user interaction.\n          }\n\n          function bindEventListeners(){\n            if (eventsBound) {\n              return;\n            }\n            iElement.bind('blur', blurHandler);\n            iElement.bind('mousedown mouseup', mouseDownUpHandler);\n            iElement.bind('input keyup click focus', eventHandler);\n            eventsBound = true;\n          }\n\n          function unbindEventListeners(){\n            if (!eventsBound) {\n              return;\n            }\n            iElement.unbind('blur', blurHandler);\n            iElement.unbind('mousedown', mouseDownUpHandler);\n            iElement.unbind('mouseup', mouseDownUpHandler);\n            iElement.unbind('input', eventHandler);\n            iElement.unbind('keyup', eventHandler);\n            iElement.unbind('click', eventHandler);\n            iElement.unbind('focus', eventHandler);\n            eventsBound = false;\n          }\n\n          function validateValue(value){\n            // Zero-length value validity is ngRequired's determination\n            return value.length ? value.length >= minRequiredLength : true;\n          }\n\n          function unmaskValue(value){\n            var valueUnmasked = '',\n              maskPatternsCopy = maskPatterns.slice();\n            // Preprocess by stripping mask components from value\n            value = value.toString();\n            angular.forEach(maskComponents, function (component){\n              value = value.replace(component, '');\n            });\n            angular.forEach(value.split(''), function (chr){\n              if (maskPatternsCopy.length && maskPatternsCopy[0].test(chr)) {\n                valueUnmasked += chr;\n                maskPatternsCopy.shift();\n              }\n            });\n            return valueUnmasked;\n          }\n\n          function maskValue(unmaskedValue){\n            var valueMasked = '',\n                maskCaretMapCopy = maskCaretMap.slice();\n\n            angular.forEach(maskPlaceholder.split(''), function (chr, i){\n              if (unmaskedValue.length && i === maskCaretMapCopy[0]) {\n                valueMasked  += unmaskedValue.charAt(0) || '_';\n                unmaskedValue = unmaskedValue.substr(1);\n                maskCaretMapCopy.shift();\n              }\n              else {\n                valueMasked += chr;\n              }\n            });\n            return valueMasked;\n          }\n\n          function getPlaceholderChar(i) {\n            var placeholder = iAttrs.placeholder;\n\n            if (typeof placeholder !== 'undefined' && placeholder[i]) {\n              return placeholder[i];\n            } else {\n              return '_';\n            }\n          }\n\n          // Generate array of mask components that will be stripped from a masked value\n          // before processing to prevent mask components from being added to the unmasked value.\n          // E.g., a mask pattern of '+7 9999' won't have the 7 bleed into the unmasked value.\n          // If a maskable char is followed by a mask char and has a mask\n          // char behind it, we'll split it into it's own component so if\n          // a user is aggressively deleting in the input and a char ahead\n          // of the maskable char gets deleted, we'll still be able to strip\n          // it in the unmaskValue() preprocessing.\n          function getMaskComponents() {\n            return maskPlaceholder.replace(/[_]+/g, '_').replace(/([^_]+)([a-zA-Z0-9])([^_])/g, '$1$2_$3').split('_');\n          }\n\n          function processRawMask(mask){\n            var characterCount = 0;\n\n            maskCaretMap    = [];\n            maskPatterns    = [];\n            maskPlaceholder = '';\n\n            if (typeof mask === 'string') {\n              minRequiredLength = 0;\n\n              var isOptional = false,\n                  splitMask  = mask.split('');\n\n              angular.forEach(splitMask, function (chr, i){\n                if (linkOptions.maskDefinitions[chr]) {\n\n                  maskCaretMap.push(characterCount);\n\n                  maskPlaceholder += getPlaceholderChar(i);\n                  maskPatterns.push(linkOptions.maskDefinitions[chr]);\n\n                  characterCount++;\n                  if (!isOptional) {\n                    minRequiredLength++;\n                  }\n                }\n                else if (chr === '?') {\n                  isOptional = true;\n                }\n                else {\n                  maskPlaceholder += chr;\n                  characterCount++;\n                }\n              });\n            }\n            // Caret position immediately following last position is valid.\n            maskCaretMap.push(maskCaretMap.slice().pop() + 1);\n\n            maskComponents = getMaskComponents();\n            maskProcessed  = maskCaretMap.length > 1 ? true : false;\n          }\n\n          function blurHandler(){\n            oldCaretPosition = 0;\n            oldSelectionLength = 0;\n            if (!isValid || value.length === 0) {\n              valueMasked = '';\n              iElement.val('');\n              scope.$apply(function (){\n                controller.$setViewValue('');\n              });\n            }\n          }\n\n          function mouseDownUpHandler(e){\n            if (e.type === 'mousedown') {\n              iElement.bind('mouseout', mouseoutHandler);\n            } else {\n              iElement.unbind('mouseout', mouseoutHandler);\n            }\n          }\n\n          iElement.bind('mousedown mouseup', mouseDownUpHandler);\n\n          function mouseoutHandler(){\n            /*jshint validthis: true */\n            oldSelectionLength = getSelectionLength(this);\n            iElement.unbind('mouseout', mouseoutHandler);\n          }\n\n          function eventHandler(e){\n            /*jshint validthis: true */\n            e = e || {};\n            // Allows more efficient minification\n            var eventWhich = e.which,\n              eventType = e.type;\n\n            // Prevent shift and ctrl from mucking with old values\n            if (eventWhich === 16 || eventWhich === 91) { return;}\n\n            var val = iElement.val(),\n              valOld = oldValue,\n              valMasked,\n              valUnmasked = unmaskValue(val),\n              valUnmaskedOld = oldValueUnmasked,\n              valAltered = false,\n\n              caretPos = getCaretPosition(this) || 0,\n              caretPosOld = oldCaretPosition || 0,\n              caretPosDelta = caretPos - caretPosOld,\n              caretPosMin = maskCaretMap[0],\n              caretPosMax = maskCaretMap[valUnmasked.length] || maskCaretMap.slice().shift(),\n\n              selectionLenOld = oldSelectionLength || 0,\n              isSelected = getSelectionLength(this) > 0,\n              wasSelected = selectionLenOld > 0,\n\n            // Case: Typing a character to overwrite a selection\n              isAddition = (val.length > valOld.length) || (selectionLenOld && val.length > valOld.length - selectionLenOld),\n            // Case: Delete and backspace behave identically on a selection\n              isDeletion = (val.length < valOld.length) || (selectionLenOld && val.length === valOld.length - selectionLenOld),\n              isSelection = (eventWhich >= 37 && eventWhich <= 40) && e.shiftKey, // Arrow key codes\n\n              isKeyLeftArrow = eventWhich === 37,\n            // Necessary due to \"input\" event not providing a key code\n              isKeyBackspace = eventWhich === 8 || (eventType !== 'keyup' && isDeletion && (caretPosDelta === -1)),\n              isKeyDelete = eventWhich === 46 || (eventType !== 'keyup' && isDeletion && (caretPosDelta === 0 ) && !wasSelected),\n\n            // Handles cases where caret is moved and placed in front of invalid maskCaretMap position. Logic below\n            // ensures that, on click or leftward caret placement, caret is moved leftward until directly right of\n            // non-mask character. Also applied to click since users are (arguably) more likely to backspace\n            // a character when clicking within a filled input.\n              caretBumpBack = (isKeyLeftArrow || isKeyBackspace || eventType === 'click') && caretPos > caretPosMin;\n\n            oldSelectionLength = getSelectionLength(this);\n\n            // These events don't require any action\n            if (isSelection || (isSelected && (eventType === 'click' || eventType === 'keyup'))) {\n              return;\n            }\n\n            // Value Handling\n            // ==============\n\n            // User attempted to delete but raw value was unaffected--correct this grievous offense\n            if ((eventType === 'input') && isDeletion && !wasSelected && valUnmasked === valUnmaskedOld) {\n              while (isKeyBackspace && caretPos > caretPosMin && !isValidCaretPosition(caretPos)) {\n                caretPos--;\n              }\n              while (isKeyDelete && caretPos < caretPosMax && maskCaretMap.indexOf(caretPos) === -1) {\n                caretPos++;\n              }\n              var charIndex = maskCaretMap.indexOf(caretPos);\n              // Strip out non-mask character that user would have deleted if mask hadn't been in the way.\n              valUnmasked = valUnmasked.substring(0, charIndex) + valUnmasked.substring(charIndex + 1);\n              valAltered = true;\n            }\n\n            // Update values\n            valMasked = maskValue(valUnmasked);\n\n            oldValue = valMasked;\n            oldValueUnmasked = valUnmasked;\n            iElement.val(valMasked);\n            if (valAltered) {\n              // We've altered the raw value after it's been $digest'ed, we need to $apply the new value.\n              scope.$apply(function (){\n                controller.$setViewValue(valUnmasked);\n              });\n            }\n\n            // Caret Repositioning\n            // ===================\n\n            // Ensure that typing always places caret ahead of typed character in cases where the first char of\n            // the input is a mask char and the caret is placed at the 0 position.\n            if (isAddition && (caretPos <= caretPosMin)) {\n              caretPos = caretPosMin + 1;\n            }\n\n            if (caretBumpBack) {\n              caretPos--;\n            }\n\n            // Make sure caret is within min and max position limits\n            caretPos = caretPos > caretPosMax ? caretPosMax : caretPos < caretPosMin ? caretPosMin : caretPos;\n\n            // Scoot the caret back or forth until it's in a non-mask position and within min/max position limits\n            while (!isValidCaretPosition(caretPos) && caretPos > caretPosMin && caretPos < caretPosMax) {\n              caretPos += caretBumpBack ? -1 : 1;\n            }\n\n            if ((caretBumpBack && caretPos < caretPosMax) || (isAddition && !isValidCaretPosition(caretPosOld))) {\n              caretPos++;\n            }\n            oldCaretPosition = caretPos;\n            setCaretPosition(this, caretPos);\n          }\n\n          function isValidCaretPosition(pos){ return maskCaretMap.indexOf(pos) > -1; }\n\n          function getCaretPosition(input){\n            if (!input) return 0;\n            if (input.selectionStart !== undefined) {\n              return input.selectionStart;\n            } else if (document.selection) {\n              // Curse you IE\n              input.focus();\n              var selection = document.selection.createRange();\n              selection.moveStart('character', -input.value.length);\n              return selection.text.length;\n            }\n            return 0;\n          }\n\n          function setCaretPosition(input, pos){\n            if (!input) return 0;\n            if (input.offsetWidth === 0 || input.offsetHeight === 0) {\n              return; // Input's hidden\n            }\n            if (input.setSelectionRange) {\n              input.focus();\n              input.setSelectionRange(pos, pos);\n            }\n            else if (input.createTextRange) {\n              // Curse you IE\n              var range = input.createTextRange();\n              range.collapse(true);\n              range.moveEnd('character', pos);\n              range.moveStart('character', pos);\n              range.select();\n            }\n          }\n\n          function getSelectionLength(input){\n            if (!input) return 0;\n            if (input.selectionStart !== undefined) {\n              return (input.selectionEnd - input.selectionStart);\n            }\n            if (document.selection) {\n              return (document.selection.createRange().text.length);\n            }\n            return 0;\n          }\n\n          // https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/indexOf\n          if (!Array.prototype.indexOf) {\n            Array.prototype.indexOf = function (searchElement /*, fromIndex */){\n              if (this === null) {\n                throw new TypeError();\n              }\n              var t = Object(this);\n              var len = t.length >>> 0;\n              if (len === 0) {\n                return -1;\n              }\n              var n = 0;\n              if (arguments.length > 1) {\n                n = Number(arguments[1]);\n                if (n !== n) { // shortcut for verifying if it's NaN\n                  n = 0;\n                } else if (n !== 0 && n !== Infinity && n !== -Infinity) {\n                  n = (n > 0 || -1) * Math.floor(Math.abs(n));\n                }\n              }\n              if (n >= len) {\n                return -1;\n              }\n              var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n              for (; k < len; k++) {\n                if (k in t && t[k] === searchElement) {\n                  return k;\n                }\n              }\n              return -1;\n            };\n          }\n\n        };\n      }\n    };\n  }\n]);\n\n'use strict';\n\n/**\n * Add a clear button to form inputs to reset their value\n */\nangular.module('ui.reset',[]).value('uiResetConfig',null).directive('uiReset', ['uiResetConfig', function (uiResetConfig) {\n  var resetValue = null;\n  if (uiResetConfig !== undefined){\n      resetValue = uiResetConfig;\n  }\n  return {\n    require: 'ngModel',\n    link: function (scope, elm, attrs, ctrl) {\n      var aElement;\n      aElement = angular.element('<a class=\"ui-reset\" />');\n      elm.wrap('<span class=\"ui-resetwrap\" />').after(aElement);\n      aElement.bind('click', function (e) {\n        e.preventDefault();\n        scope.$apply(function () {\n          if (attrs.uiReset){\n            ctrl.$setViewValue(scope.$eval(attrs.uiReset));\n          }else{\n            ctrl.$setViewValue(resetValue);\n          }\n          ctrl.$render();\n        });\n      });\n    }\n  };\n}]);\n\n'use strict';\n\n/**\n * Set a $uiRoute boolean to see if the current route matches\n */\nangular.module('ui.route', []).directive('uiRoute', ['$location', '$parse', function ($location, $parse) {\n  return {\n    restrict: 'AC',\n    scope: true,\n    compile: function(tElement, tAttrs) {\n      var useProperty;\n      if (tAttrs.uiRoute) {\n        useProperty = 'uiRoute';\n      } else if (tAttrs.ngHref) {\n        useProperty = 'ngHref';\n      } else if (tAttrs.href) {\n        useProperty = 'href';\n      } else {\n        throw new Error('uiRoute missing a route or href property on ' + tElement[0]);\n      }\n      return function ($scope, elm, attrs) {\n        var modelSetter = $parse(attrs.ngModel || attrs.routeModel || '$uiRoute').assign;\n        var watcher = angular.noop;\n\n        // Used by href and ngHref\n        function staticWatcher(newVal) {\n          var hash = newVal.indexOf('#');\n          if (hash > -1){\n            newVal = newVal.substr(hash + 1);\n          }\n          watcher = function watchHref() {\n            modelSetter($scope, ($location.path().indexOf(newVal) > -1));\n          };\n          watcher();\n        }\n        // Used by uiRoute\n        function regexWatcher(newVal) {\n          var hash = newVal.indexOf('#');\n          if (hash > -1){\n            newVal = newVal.substr(hash + 1);\n          }\n          watcher = function watchRegex() {\n            var regexp = new RegExp('^' + newVal + '$', ['i']);\n            modelSetter($scope, regexp.test($location.path()));\n          };\n          watcher();\n        }\n\n        switch (useProperty) {\n          case 'uiRoute':\n            // if uiRoute={{}} this will be undefined, otherwise it will have a value and $observe() never gets triggered\n            if (attrs.uiRoute){\n              regexWatcher(attrs.uiRoute);\n            }else{\n              attrs.$observe('uiRoute', regexWatcher);\n            }\n            break;\n          case 'ngHref':\n            // Setup watcher() every time ngHref changes\n            if (attrs.ngHref){\n              staticWatcher(attrs.ngHref);\n            }else{\n              attrs.$observe('ngHref', staticWatcher);\n            }\n            break;\n          case 'href':\n            // Setup watcher()\n            staticWatcher(attrs.href);\n        }\n\n        $scope.$on('$routeChangeSuccess', function(){\n          watcher();\n        });\n\n        //Added for compatibility with ui-router\n        $scope.$on('$stateChangeSuccess', function(){\n          watcher();\n        });\n      };\n    }\n  };\n}]);\n\n'use strict';\n\nangular.module('ui.scroll.jqlite', ['ui.scroll']).service('jqLiteExtras', [\n  '$log', '$window', function(console, window) {\n    return {\n      registerFor: function(element) {\n        var convertToPx, css, getMeasurements, getStyle, getWidthHeight, isWindow, scrollTo;\n        css = angular.element.prototype.css;\n        element.prototype.css = function(name, value) {\n          var elem, self;\n          self = this;\n          elem = self[0];\n          if (!(!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style)) {\n            return css.call(self, name, value);\n          }\n        };\n        isWindow = function(obj) {\n          return obj && obj.document && obj.location && obj.alert && obj.setInterval;\n        };\n        scrollTo = function(self, direction, value) {\n          var elem, method, preserve, prop, _ref;\n          elem = self[0];\n          _ref = {\n            top: ['scrollTop', 'pageYOffset', 'scrollLeft'],\n            left: ['scrollLeft', 'pageXOffset', 'scrollTop']\n          }[direction], method = _ref[0], prop = _ref[1], preserve = _ref[2];\n          if (isWindow(elem)) {\n            if (angular.isDefined(value)) {\n              return elem.scrollTo(self[preserve].call(self), value);\n            } else {\n              if (prop in elem) {\n                return elem[prop];\n              } else {\n                return elem.document.documentElement[method];\n              }\n            }\n          } else {\n            if (angular.isDefined(value)) {\n              return elem[method] = value;\n            } else {\n              return elem[method];\n            }\n          }\n        };\n        if (window.getComputedStyle) {\n          getStyle = function(elem) {\n            return window.getComputedStyle(elem, null);\n          };\n          convertToPx = function(elem, value) {\n            return parseFloat(value);\n          };\n        } else {\n          getStyle = function(elem) {\n            return elem.currentStyle;\n          };\n          convertToPx = function(elem, value) {\n            var core_pnum, left, result, rnumnonpx, rs, rsLeft, style;\n            core_pnum = /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source;\n            rnumnonpx = new RegExp('^(' + core_pnum + ')(?!px)[a-z%]+$', 'i');\n            if (!rnumnonpx.test(value)) {\n              return parseFloat(value);\n            } else {\n              style = elem.style;\n              left = style.left;\n              rs = elem.runtimeStyle;\n              rsLeft = rs && rs.left;\n              if (rs) {\n                rs.left = style.left;\n              }\n              style.left = value;\n              result = style.pixelLeft;\n              style.left = left;\n              if (rsLeft) {\n                rs.left = rsLeft;\n              }\n              return result;\n            }\n          };\n        }\n        getMeasurements = function(elem, measure) {\n          var base, borderA, borderB, computedMarginA, computedMarginB, computedStyle, dirA, dirB, marginA, marginB, paddingA, paddingB, _ref;\n          if (isWindow(elem)) {\n            base = document.documentElement[{\n              height: 'clientHeight',\n              width: 'clientWidth'\n            }[measure]];\n            return {\n              base: base,\n              padding: 0,\n              border: 0,\n              margin: 0\n            };\n          }\n          _ref = {\n            width: [elem.offsetWidth, 'Left', 'Right'],\n            height: [elem.offsetHeight, 'Top', 'Bottom']\n          }[measure], base = _ref[0], dirA = _ref[1], dirB = _ref[2];\n          computedStyle = getStyle(elem);\n          paddingA = convertToPx(elem, computedStyle['padding' + dirA]) || 0;\n          paddingB = convertToPx(elem, computedStyle['padding' + dirB]) || 0;\n          borderA = convertToPx(elem, computedStyle['border' + dirA + 'Width']) || 0;\n          borderB = convertToPx(elem, computedStyle['border' + dirB + 'Width']) || 0;\n          computedMarginA = computedStyle['margin' + dirA];\n          computedMarginB = computedStyle['margin' + dirB];\n          marginA = convertToPx(elem, computedMarginA) || 0;\n          marginB = convertToPx(elem, computedMarginB) || 0;\n          return {\n            base: base,\n            padding: paddingA + paddingB,\n            border: borderA + borderB,\n            margin: marginA + marginB\n          };\n        };\n        getWidthHeight = function(elem, direction, measure) {\n          var computedStyle, measurements, result;\n          measurements = getMeasurements(elem, direction);\n          if (measurements.base > 0) {\n            return {\n              base: measurements.base - measurements.padding - measurements.border,\n              outer: measurements.base,\n              outerfull: measurements.base + measurements.margin\n            }[measure];\n          } else {\n            computedStyle = getStyle(elem);\n            result = computedStyle[direction];\n            if (result < 0 || result === null) {\n              result = elem.style[direction] || 0;\n            }\n            result = parseFloat(result) || 0;\n            return {\n              base: result - measurements.padding - measurements.border,\n              outer: result,\n              outerfull: result + measurements.padding + measurements.border + measurements.margin\n            }[measure];\n          }\n        };\n        return angular.forEach({\n          before: function(newElem) {\n            var children, elem, i, parent, self, _i, _ref;\n            self = this;\n            elem = self[0];\n            parent = self.parent();\n            children = parent.contents();\n            if (children[0] === elem) {\n              return parent.prepend(newElem);\n            } else {\n              for (i = _i = 1, _ref = children.length - 1; 1 <= _ref ? _i <= _ref : _i >= _ref; i = 1 <= _ref ? ++_i : --_i) {\n                if (children[i] === elem) {\n                  angular.element(children[i - 1]).after(newElem);\n                  return;\n                }\n              }\n              throw new Error('invalid DOM structure ' + elem.outerHTML);\n            }\n          },\n          height: function(value) {\n            var self;\n            self = this;\n            if (angular.isDefined(value)) {\n              if (angular.isNumber(value)) {\n                value = value + 'px';\n              }\n              return css.call(self, 'height', value);\n            } else {\n              return getWidthHeight(this[0], 'height', 'base');\n            }\n          },\n          outerHeight: function(option) {\n            return getWidthHeight(this[0], 'height', option ? 'outerfull' : 'outer');\n          },\n          offset: function(value) {\n            var box, doc, docElem, elem, self, win;\n            self = this;\n            if (arguments.length) {\n              if (value === void 0) {\n                return self;\n              } else {\n                return value;\n\n              }\n            }\n            box = {\n              top: 0,\n              left: 0\n            };\n            elem = self[0];\n            doc = elem && elem.ownerDocument;\n            if (!doc) {\n              return;\n            }\n            docElem = doc.documentElement;\n            if (elem.getBoundingClientRect) {\n              box = elem.getBoundingClientRect();\n            }\n            win = doc.defaultView || doc.parentWindow;\n            return {\n              top: box.top + (win.pageYOffset || docElem.scrollTop) - (docElem.clientTop || 0),\n              left: box.left + (win.pageXOffset || docElem.scrollLeft) - (docElem.clientLeft || 0)\n            };\n          },\n          scrollTop: function(value) {\n            return scrollTo(this, 'top', value);\n          },\n          scrollLeft: function(value) {\n            return scrollTo(this, 'left', value);\n          }\n        }, function(value, key) {\n          if (!element.prototype[key]) {\n            return element.prototype[key] = value;\n          }\n        });\n      }\n    };\n  }\n]).run([\n  '$log', '$window', 'jqLiteExtras', function(console, window, jqLiteExtras) {\n    if (!window.jQuery) {\n      return jqLiteExtras.registerFor(angular.element);\n    }\n  }\n]);\n\n'use strict';\n/*\n\n List of used element methods available in JQuery but not in JQuery Lite\n\n element.before(elem)\n element.height()\n element.outerHeight(true)\n element.height(value) = only for Top/Bottom padding elements\n element.scrollTop()\n element.scrollTop(value)\n */\n\nangular.module('ui.scroll', []).directive('ngScrollViewport', [\n\t\t'$log', function() {\n\t\t\treturn {\n\t\t\t\tcontroller: [\n\t\t\t\t\t'$scope', '$element', function(scope, element) {\n\t\t\t\t\t\treturn element;\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t]).directive('ngScroll', [\n\t\t'$log', '$injector', '$rootScope', '$timeout', function(console, $injector, $rootScope, $timeout) {\n\t\t\treturn {\n\t\t\t\trequire: ['?^ngScrollViewport'],\n\t\t\t\ttransclude: 'element',\n\t\t\t\tpriority: 1000,\n\t\t\t\tterminal: true,\n\t\t\t\tcompile: function(element, attr, linker) {\n\t\t\t\t\treturn function($scope, $element, $attr, controllers) {\n\t\t\t\t\t\tvar adapter, adjustBuffer, adjustRowHeight, bof, bottomVisiblePos, buffer, bufferPadding, bufferSize, clipBottom, clipTop, datasource, datasourceName, enqueueFetch, eof, eventListener, fetch, finalize, first, insert, isDatasource, isLoading, itemName, loading, match, next, pending, reload, removeFromBuffer, resizeHandler, scrollHandler, scrollHeight, shouldLoadBottom, shouldLoadTop, tempScope, topVisiblePos, viewport;\n\t\t\t\t\t\tmatch = $attr.ngScroll.match(/^\\s*(\\w+)\\s+in\\s+(\\w+)\\s*$/);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tthrow new Error('Expected ngScroll in form of \"item_ in _datasource_\" but got \"' + $attr.ngScroll + '\"');\n\t\t\t\t\t\t}\n\t\t\t\t\t\titemName = match[1];\n\t\t\t\t\t\tdatasourceName = match[2];\n\t\t\t\t\t\tisDatasource = function(datasource) {\n\t\t\t\t\t\t\treturn angular.isObject(datasource) && datasource.get && angular.isFunction(datasource.get);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdatasource = $scope[datasourceName];\n\t\t\t\t\t\tif (!isDatasource(datasource)) {\n\t\t\t\t\t\t\tdatasource = $injector.get(datasourceName);\n\t\t\t\t\t\t\tif (!isDatasource(datasource)) {\n\t\t\t\t\t\t\t\tthrow new Error(datasourceName + ' is not a valid datasource');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbufferSize = Math.max(3, +$attr.bufferSize || 10);\n\t\t\t\t\t\tbufferPadding = function() {\n\t\t\t\t\t\t\treturn viewport.height() * Math.max(0.1, +$attr.padding || 0.1);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tscrollHeight = function(elem) {\n\t\t\t\t\t\t\treturn elem[0].scrollHeight || elem[0].document.documentElement.scrollHeight;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tadapter = null;\n\t\t\t\t\t\tlinker(tempScope = $scope.$new(), function(template) {\n\t\t\t\t\t\t\tvar bottomPadding, createPadding, padding, repeaterType, topPadding, viewport;\n\t\t\t\t\t\t\trepeaterType = template[0].localName;\n\t\t\t\t\t\t\tif (repeaterType === 'dl') {\n\t\t\t\t\t\t\t\tthrow new Error('ng-scroll directive does not support <' + template[0].localName + '> as a repeating tag: ' + template[0].outerHTML);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (repeaterType !== 'li' && repeaterType !== 'tr') {\n\t\t\t\t\t\t\t\trepeaterType = 'div';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tviewport = controllers[0] || angular.element(window);\n\t\t\t\t\t\t\tviewport.css({\n\t\t\t\t\t\t\t\t'overflow-y': 'auto',\n\t\t\t\t\t\t\t\t'display': 'block'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tpadding = function(repeaterType) {\n\t\t\t\t\t\t\t\tvar div, result, table;\n\t\t\t\t\t\t\t\tswitch (repeaterType) {\n\t\t\t\t\t\t\t\t\tcase 'tr':\n\t\t\t\t\t\t\t\t\t\ttable = angular.element('<table><tr><td><div></div></td></tr></table>');\n\t\t\t\t\t\t\t\t\t\tdiv = table.find('div');\n\t\t\t\t\t\t\t\t\t\tresult = table.find('tr');\n\t\t\t\t\t\t\t\t\t\tresult.paddingHeight = function() {\n\t\t\t\t\t\t\t\t\t\t\treturn div.height.apply(div, arguments);\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tresult = angular.element('<' + repeaterType + '></' + repeaterType + '>');\n\t\t\t\t\t\t\t\t\t\tresult.paddingHeight = result.height;\n\t\t\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcreatePadding = function(padding, element, direction) {\n\t\t\t\t\t\t\t\telement[{\n\t\t\t\t\t\t\t\t\ttop: 'before',\n\t\t\t\t\t\t\t\t\tbottom: 'after'\n\t\t\t\t\t\t\t\t}[direction]](padding);\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tpaddingHeight: function() {\n\t\t\t\t\t\t\t\t\t\treturn padding.paddingHeight.apply(padding, arguments);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tinsert: function(element) {\n\t\t\t\t\t\t\t\t\t\treturn padding[{\n\t\t\t\t\t\t\t\t\t\t\ttop: 'after',\n\t\t\t\t\t\t\t\t\t\t\tbottom: 'before'\n\t\t\t\t\t\t\t\t\t\t}[direction]](element);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttopPadding = createPadding(padding(repeaterType), element, 'top');\n\t\t\t\t\t\t\tbottomPadding = createPadding(padding(repeaterType), element, 'bottom');\n\t\t\t\t\t\t\ttempScope.$destroy();\n\t\t\t\t\t\t\treturn adapter = {\n\t\t\t\t\t\t\t\tviewport: viewport,\n\t\t\t\t\t\t\t\ttopPadding: topPadding.paddingHeight,\n\t\t\t\t\t\t\t\tbottomPadding: bottomPadding.paddingHeight,\n\t\t\t\t\t\t\t\tappend: bottomPadding.insert,\n\t\t\t\t\t\t\t\tprepend: topPadding.insert,\n\t\t\t\t\t\t\t\tbottomDataPos: function() {\n\t\t\t\t\t\t\t\t\treturn scrollHeight(viewport) - bottomPadding.paddingHeight();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttopDataPos: function() {\n\t\t\t\t\t\t\t\t\treturn topPadding.paddingHeight();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tviewport = adapter.viewport;\n\t\t\t\t\t\tfirst = 1;\n\t\t\t\t\t\tnext = 1;\n\t\t\t\t\t\tbuffer = [];\n\t\t\t\t\t\tpending = [];\n\t\t\t\t\t\teof = false;\n\t\t\t\t\t\tbof = false;\n\t\t\t\t\t\tloading = datasource.loading || function() {};\n\t\t\t\t\t\tisLoading = false;\n\t\t\t\t\t\tremoveFromBuffer = function(start, stop) {\n\t\t\t\t\t\t\tvar i, _i;\n\t\t\t\t\t\t\tfor (i = _i = start; start <= stop ? _i < stop : _i > stop; i = start <= stop ? ++_i : --_i) {\n\t\t\t\t\t\t\t\tbuffer[i].scope.$destroy();\n\t\t\t\t\t\t\t\tbuffer[i].element.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn buffer.splice(start, stop - start);\n\t\t\t\t\t\t};\n\t\t\t\t\t\treload = function() {\n\t\t\t\t\t\t\tfirst = 1;\n\t\t\t\t\t\t\tnext = 1;\n\t\t\t\t\t\t\tremoveFromBuffer(0, buffer.length);\n\t\t\t\t\t\t\tadapter.topPadding(0);\n\t\t\t\t\t\t\tadapter.bottomPadding(0);\n\t\t\t\t\t\t\tpending = [];\n\t\t\t\t\t\t\teof = false;\n\t\t\t\t\t\t\tbof = false;\n\t\t\t\t\t\t\treturn adjustBuffer(false);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbottomVisiblePos = function() {\n\t\t\t\t\t\t\treturn viewport.scrollTop() + viewport.height();\n\t\t\t\t\t\t};\n\t\t\t\t\t\ttopVisiblePos = function() {\n\t\t\t\t\t\t\treturn viewport.scrollTop();\n\t\t\t\t\t\t};\n\t\t\t\t\t\tshouldLoadBottom = function() {\n\t\t\t\t\t\t\treturn !eof && adapter.bottomDataPos() < bottomVisiblePos() + bufferPadding();\n\t\t\t\t\t\t};\n\t\t\t\t\t\tclipBottom = function() {\n\t\t\t\t\t\t\tvar bottomHeight, i, itemHeight, overage, _i, _ref;\n\t\t\t\t\t\t\tbottomHeight = 0;\n\t\t\t\t\t\t\toverage = 0;\n\t\t\t\t\t\t\tfor (i = _i = _ref = buffer.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {\n\t\t\t\t\t\t\t\titemHeight = buffer[i].element.outerHeight(true);\n\t\t\t\t\t\t\t\tif (adapter.bottomDataPos() - bottomHeight - itemHeight > bottomVisiblePos() + bufferPadding()) {\n\t\t\t\t\t\t\t\t\tbottomHeight += itemHeight;\n\t\t\t\t\t\t\t\t\toverage++;\n\t\t\t\t\t\t\t\t\teof = false;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (overage > 0) {\n\t\t\t\t\t\t\t\tadapter.bottomPadding(adapter.bottomPadding() + bottomHeight);\n\t\t\t\t\t\t\t\tremoveFromBuffer(buffer.length - overage, buffer.length);\n\t\t\t\t\t\t\t\tnext -= overage;\n\t\t\t\t\t\t\t\treturn console.log('clipped off bottom ' + overage + ' bottom padding ' + (adapter.bottomPadding()));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tshouldLoadTop = function() {\n\t\t\t\t\t\t\treturn !bof && (adapter.topDataPos() > topVisiblePos() - bufferPadding());\n\t\t\t\t\t\t};\n\t\t\t\t\t\tclipTop = function() {\n\t\t\t\t\t\t\tvar item, itemHeight, overage, topHeight, _i, _len;\n\t\t\t\t\t\t\ttopHeight = 0;\n\t\t\t\t\t\t\toverage = 0;\n\t\t\t\t\t\t\tfor (_i = 0, _len = buffer.length; _i < _len; _i++) {\n\t\t\t\t\t\t\t\titem = buffer[_i];\n\t\t\t\t\t\t\t\titemHeight = item.element.outerHeight(true);\n\t\t\t\t\t\t\t\tif (adapter.topDataPos() + topHeight + itemHeight < topVisiblePos() - bufferPadding()) {\n\t\t\t\t\t\t\t\t\ttopHeight += itemHeight;\n\t\t\t\t\t\t\t\t\toverage++;\n\t\t\t\t\t\t\t\t\tbof = false;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (overage > 0) {\n\t\t\t\t\t\t\t\tadapter.topPadding(adapter.topPadding() + topHeight);\n\t\t\t\t\t\t\t\tremoveFromBuffer(0, overage);\n\t\t\t\t\t\t\t\tfirst += overage;\n\t\t\t\t\t\t\t\treturn console.log('clipped off top ' + overage + ' top padding ' + (adapter.topPadding()));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tenqueueFetch = function(direction, scrolling) {\n\t\t\t\t\t\t\tif (!isLoading) {\n\t\t\t\t\t\t\t\tisLoading = true;\n\t\t\t\t\t\t\t\tloading(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (pending.push(direction) === 1) {\n\t\t\t\t\t\t\t\treturn fetch(scrolling);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tinsert = function(index, item) {\n\t\t\t\t\t\t\tvar itemScope, toBeAppended, wrapper;\n\t\t\t\t\t\t\titemScope = $scope.$new();\n\t\t\t\t\t\t\titemScope[itemName] = item;\n\t\t\t\t\t\t\ttoBeAppended = index > first;\n\t\t\t\t\t\t\titemScope.$index = index;\n\t\t\t\t\t\t\tif (toBeAppended) {\n\t\t\t\t\t\t\t\titemScope.$index--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twrapper = {\n\t\t\t\t\t\t\t\tscope: itemScope\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlinker(itemScope, function(clone) {\n\t\t\t\t\t\t\t\twrapper.element = clone;\n\t\t\t\t\t\t\t\tif (toBeAppended) {\n\t\t\t\t\t\t\t\t\tif (index === next) {\n\t\t\t\t\t\t\t\t\t\tadapter.append(clone);\n\t\t\t\t\t\t\t\t\t\treturn buffer.push(wrapper);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tbuffer[index - first].element.after(clone);\n\t\t\t\t\t\t\t\t\t\treturn buffer.splice(index - first + 1, 0, wrapper);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tadapter.prepend(clone);\n\t\t\t\t\t\t\t\t\treturn buffer.unshift(wrapper);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tappended: toBeAppended,\n\t\t\t\t\t\t\t\twrapper: wrapper\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\tadjustRowHeight = function(appended, wrapper) {\n\t\t\t\t\t\t\tvar newHeight;\n\t\t\t\t\t\t\tif (appended) {\n\t\t\t\t\t\t\t\treturn adapter.bottomPadding(Math.max(0, adapter.bottomPadding() - wrapper.element.outerHeight(true)));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewHeight = adapter.topPadding() - wrapper.element.outerHeight(true);\n\t\t\t\t\t\t\t\tif (newHeight >= 0) {\n\t\t\t\t\t\t\t\t\treturn adapter.topPadding(newHeight);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn viewport.scrollTop(viewport.scrollTop() + wrapper.element.outerHeight(true));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tadjustBuffer = function(scrolling, newItems, finalize) {\n\t\t\t\t\t\t\tvar doAdjustment;\n\t\t\t\t\t\t\tdoAdjustment = function() {\n\t\t\t\t\t\t\t\tconsole.log('top {actual=' + (adapter.topDataPos()) + ' visible from=' + (topVisiblePos()) + ' bottom {visible through=' + (bottomVisiblePos()) + ' actual=' + (adapter.bottomDataPos()) + '}');\n\t\t\t\t\t\t\t\tif (shouldLoadBottom()) {\n\t\t\t\t\t\t\t\t\tenqueueFetch(true, scrolling);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (shouldLoadTop()) {\n\t\t\t\t\t\t\t\t\t\tenqueueFetch(false, scrolling);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (finalize) {\n\t\t\t\t\t\t\t\t\treturn finalize();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (newItems) {\n\t\t\t\t\t\t\t\treturn $timeout(function() {\n\t\t\t\t\t\t\t\t\tvar row, _i, _len;\n\t\t\t\t\t\t\t\t\tfor (_i = 0, _len = newItems.length; _i < _len; _i++) {\n\t\t\t\t\t\t\t\t\t\trow = newItems[_i];\n\t\t\t\t\t\t\t\t\t\tadjustRowHeight(row.appended, row.wrapper);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn doAdjustment();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn doAdjustment();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tfinalize = function(scrolling, newItems) {\n\t\t\t\t\t\t\treturn adjustBuffer(scrolling, newItems, function() {\n\t\t\t\t\t\t\t\tpending.shift();\n\t\t\t\t\t\t\t\tif (pending.length === 0) {\n\t\t\t\t\t\t\t\t\tisLoading = false;\n\t\t\t\t\t\t\t\t\treturn loading(false);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn fetch(scrolling);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tfetch = function(scrolling) {\n\t\t\t\t\t\t\tvar direction;\n\t\t\t\t\t\t\tdirection = pending[0];\n\t\t\t\t\t\t\tif (direction) {\n\t\t\t\t\t\t\t\tif (buffer.length && !shouldLoadBottom()) {\n\t\t\t\t\t\t\t\t\treturn finalize(scrolling);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn datasource.get(next, bufferSize, function(result) {\n\t\t\t\t\t\t\t\t\t\tvar item, newItems, _i, _len;\n\t\t\t\t\t\t\t\t\t\tnewItems = [];\n\t\t\t\t\t\t\t\t\t\tif (result.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\teof = true;\n\t\t\t\t\t\t\t\t\t\t\tadapter.bottomPadding(0);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('appended: requested ' + bufferSize + ' records starting from ' + next + ' recieved: eof');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tclipTop();\n\t\t\t\t\t\t\t\t\t\t\tfor (_i = 0, _len = result.length; _i < _len; _i++) {\n\t\t\t\t\t\t\t\t\t\t\t\titem = result[_i];\n\t\t\t\t\t\t\t\t\t\t\t\tnewItems.push(insert(++next, item));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('appended: requested ' + bufferSize + ' received ' + result.length + ' buffer size ' + buffer.length + ' first ' + first + ' next ' + next);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn finalize(scrolling, newItems);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (buffer.length && !shouldLoadTop()) {\n\t\t\t\t\t\t\t\t\treturn finalize(scrolling);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn datasource.get(first - bufferSize, bufferSize, function(result) {\n\t\t\t\t\t\t\t\t\t\tvar i, newItems, _i, _ref;\n\t\t\t\t\t\t\t\t\t\tnewItems = [];\n\t\t\t\t\t\t\t\t\t\tif (result.length === 0) {\n\t\t\t\t\t\t\t\t\t\t\tbof = true;\n\t\t\t\t\t\t\t\t\t\t\tadapter.topPadding(0);\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('prepended: requested ' + bufferSize + ' records starting from ' + (first - bufferSize) + ' recieved: bof');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tclipBottom();\n\t\t\t\t\t\t\t\t\t\t\tfor (i = _i = _ref = result.length - 1; _ref <= 0 ? _i <= 0 : _i >= 0; i = _ref <= 0 ? ++_i : --_i) {\n\t\t\t\t\t\t\t\t\t\t\t\tnewItems.unshift(insert(--first, result[i]));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('prepended: requested ' + bufferSize + ' received ' + result.length + ' buffer size ' + buffer.length + ' first ' + first + ' next ' + next);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn finalize(scrolling, newItems);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tresizeHandler = function() {\n\t\t\t\t\t\t\tif (!$rootScope.$$phase && !isLoading) {\n\t\t\t\t\t\t\t\tadjustBuffer(false);\n\t\t\t\t\t\t\t\treturn $scope.$apply();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tviewport.bind('resize', resizeHandler);\n\t\t\t\t\t\tscrollHandler = function() {\n\t\t\t\t\t\t\tif (!$rootScope.$$phase && !isLoading) {\n\t\t\t\t\t\t\t\tadjustBuffer(true);\n\t\t\t\t\t\t\t\treturn $scope.$apply();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tviewport.bind('scroll', scrollHandler);\n\t\t\t\t\t\t$scope.$watch(datasource.revision, function() {\n\t\t\t\t\t\t\treturn reload();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (datasource.scope) {\n\t\t\t\t\t\t\teventListener = datasource.scope.$new();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\teventListener = $scope.$new();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\t\t\t\teventListener.$destroy();\n\t\t\t\t\t\t\tviewport.unbind('resize', resizeHandler);\n\t\t\t\t\t\t\treturn viewport.unbind('scroll', scrollHandler);\n\t\t\t\t\t\t});\n\t\t\t\t\t\teventListener.$on('update.items', function(event, locator, newItem) {\n\t\t\t\t\t\t\tvar wrapper, _fn, _i, _len, _ref;\n\t\t\t\t\t\t\tif (angular.isFunction(locator)) {\n\t\t\t\t\t\t\t\t_fn = function(wrapper) {\n\t\t\t\t\t\t\t\t\treturn locator(wrapper.scope);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfor (_i = 0, _len = buffer.length; _i < _len; _i++) {\n\t\t\t\t\t\t\t\t\twrapper = buffer[_i];\n\t\t\t\t\t\t\t\t\t_fn(wrapper);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif ((0 <= (_ref = locator - first - 1) && _ref < buffer.length)) {\n\t\t\t\t\t\t\t\t\tbuffer[locator - first - 1].scope[itemName] = newItem;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t});\n\t\t\t\t\t\teventListener.$on('delete.items', function(event, locator) {\n\t\t\t\t\t\t\tvar i, item, temp, wrapper, _fn, _i, _j, _k, _len, _len1, _len2, _ref;\n\t\t\t\t\t\t\tif (angular.isFunction(locator)) {\n\t\t\t\t\t\t\t\ttemp = [];\n\t\t\t\t\t\t\t\tfor (_i = 0, _len = buffer.length; _i < _len; _i++) {\n\t\t\t\t\t\t\t\t\titem = buffer[_i];\n\t\t\t\t\t\t\t\t\ttemp.unshift(item);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t_fn = function(wrapper) {\n\t\t\t\t\t\t\t\t\tif (locator(wrapper.scope)) {\n\t\t\t\t\t\t\t\t\t\tremoveFromBuffer(temp.length - 1 - i, temp.length - i);\n\t\t\t\t\t\t\t\t\t\treturn next--;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfor (i = _j = 0, _len1 = temp.length; _j < _len1; i = ++_j) {\n\t\t\t\t\t\t\t\t\twrapper = temp[i];\n\t\t\t\t\t\t\t\t\t_fn(wrapper);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif ((0 <= (_ref = locator - first - 1) && _ref < buffer.length)) {\n\t\t\t\t\t\t\t\t\tremoveFromBuffer(locator - first - 1, locator - first);\n\t\t\t\t\t\t\t\t\tnext--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (i = _k = 0, _len2 = buffer.length; _k < _len2; i = ++_k) {\n\t\t\t\t\t\t\t\titem = buffer[i];\n\t\t\t\t\t\t\t\titem.scope.$index = first + i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn adjustBuffer(false);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn eventListener.$on('insert.item', function(event, locator, item) {\n\t\t\t\t\t\t\tvar i, inserted, temp, wrapper, _fn, _i, _j, _k, _len, _len1, _len2, _ref;\n\t\t\t\t\t\t\tinserted = [];\n\t\t\t\t\t\t\tif (angular.isFunction(locator)) {\n\t\t\t\t\t\t\t\ttemp = [];\n\t\t\t\t\t\t\t\tfor (_i = 0, _len = buffer.length; _i < _len; _i++) {\n\t\t\t\t\t\t\t\t\titem = buffer[_i];\n\t\t\t\t\t\t\t\t\ttemp.unshift(item);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t_fn = function(wrapper) {\n\t\t\t\t\t\t\t\t\tvar j, newItems, _k, _len2, _results;\n\t\t\t\t\t\t\t\t\tif (newItems = locator(wrapper.scope)) {\n\t\t\t\t\t\t\t\t\t\tinsert = function(index, newItem) {\n\t\t\t\t\t\t\t\t\t\t\tinsert(index, newItem);\n\t\t\t\t\t\t\t\t\t\t\treturn next++;\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tif (angular.isArray(newItems)) {\n\t\t\t\t\t\t\t\t\t\t\t_results = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (j = _k = 0, _len2 = newItems.length; _k < _len2; j = ++_k) {\n\t\t\t\t\t\t\t\t\t\t\t\titem = newItems[j];\n\t\t\t\t\t\t\t\t\t\t\t\t_results.push(inserted.push(insert(i + j, item)));\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn _results;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\treturn inserted.push(insert(i, newItems));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfor (i = _j = 0, _len1 = temp.length; _j < _len1; i = ++_j) {\n\t\t\t\t\t\t\t\t\twrapper = temp[i];\n\t\t\t\t\t\t\t\t\t_fn(wrapper);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif ((0 <= (_ref = locator - first - 1) && _ref < buffer.length)) {\n\t\t\t\t\t\t\t\t\tinserted.push(insert(locator, item));\n\t\t\t\t\t\t\t\t\tnext++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (i = _k = 0, _len2 = buffer.length; _k < _len2; i = ++_k) {\n\t\t\t\t\t\t\t\titem = buffer[i];\n\t\t\t\t\t\t\t\titem.scope.$index = first + i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn adjustBuffer(false, inserted);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t]);\n\n'use strict';\n\n/**\n * Adds a 'ui-scrollfix' class to the element when the page scrolls past it's position.\n * @param [offset] {int} optional Y-offset to override the detected offset.\n *   Takes 300 (absolute) or -300 or +300 (relative to detected)\n */\nangular.module('ui.scrollfix',[]).directive('uiScrollfix', ['$window', function ($window) {\n  return {\n    require: '^?uiScrollfixTarget',\n    link: function (scope, elm, attrs, uiScrollfixTarget) {\n      var top = elm[0].offsetTop,\n          $target = uiScrollfixTarget && uiScrollfixTarget.$element || angular.element($window);\n\n      if (!attrs.uiScrollfix) {\n        attrs.uiScrollfix = top;\n      } else if (typeof(attrs.uiScrollfix) === 'string') {\n        // charAt is generally faster than indexOf: http://jsperf.com/indexof-vs-charat\n        if (attrs.uiScrollfix.charAt(0) === '-') {\n          attrs.uiScrollfix = top - parseFloat(attrs.uiScrollfix.substr(1));\n        } else if (attrs.uiScrollfix.charAt(0) === '+') {\n          attrs.uiScrollfix = top + parseFloat(attrs.uiScrollfix.substr(1));\n        }\n      }\n\n      function onScroll() {\n        // if pageYOffset is defined use it, otherwise use other crap for IE\n        var offset;\n        if (angular.isDefined($window.pageYOffset)) {\n          offset = $window.pageYOffset;\n        } else {\n          var iebody = (document.compatMode && document.compatMode !== 'BackCompat') ? document.documentElement : document.body;\n          offset = iebody.scrollTop;\n        }\n        if (!elm.hasClass('ui-scrollfix') && offset > attrs.uiScrollfix) {\n          elm.addClass('ui-scrollfix');\n        } else if (elm.hasClass('ui-scrollfix') && offset < attrs.uiScrollfix) {\n          elm.removeClass('ui-scrollfix');\n        }\n      }\n\n      $target.on('scroll', onScroll);\n\n      // Unbind scroll event handler when directive is removed\n      scope.$on('$destroy', function() {\n        $target.off('scroll', onScroll);\n      });\n    }\n  };\n}]).directive('uiScrollfixTarget', [function () {\n  return {\n    controller: ['$element', function($element) {\n      this.$element = $element;\n    }]\n  };\n}]);\n\n'use strict';\n\n/**\n * uiShow Directive\n *\n * Adds a 'ui-show' class to the element instead of display:block\n * Created to allow tighter control  of CSS without bulkier directives\n *\n * @param expression {boolean} evaluated expression to determine if the class should be added\n */\nangular.module('ui.showhide',[])\n.directive('uiShow', [function () {\n  return function (scope, elm, attrs) {\n    scope.$watch(attrs.uiShow, function (newVal) {\n      if (newVal) {\n        elm.addClass('ui-show');\n      } else {\n        elm.removeClass('ui-show');\n      }\n    });\n  };\n}])\n\n/**\n * uiHide Directive\n *\n * Adds a 'ui-hide' class to the element instead of display:block\n * Created to allow tighter control  of CSS without bulkier directives\n *\n * @param expression {boolean} evaluated expression to determine if the class should be added\n */\n.directive('uiHide', [function () {\n  return function (scope, elm, attrs) {\n    scope.$watch(attrs.uiHide, function (newVal) {\n      if (newVal) {\n        elm.addClass('ui-hide');\n      } else {\n        elm.removeClass('ui-hide');\n      }\n    });\n  };\n}])\n\n/**\n * uiToggle Directive\n *\n * Adds a class 'ui-show' if true, and a 'ui-hide' if false to the element instead of display:block/display:none\n * Created to allow tighter control  of CSS without bulkier directives. This also allows you to override the\n * default visibility of the element using either class.\n *\n * @param expression {boolean} evaluated expression to determine if the class should be added\n */\n.directive('uiToggle', [function () {\n  return function (scope, elm, attrs) {\n    scope.$watch(attrs.uiToggle, function (newVal) {\n      if (newVal) {\n        elm.removeClass('ui-hide').addClass('ui-show');\n      } else {\n        elm.removeClass('ui-show').addClass('ui-hide');\n      }\n    });\n  };\n}]);\n\n'use strict';\n\n/**\n * Filters out all duplicate items from an array by checking the specified key\n * @param [key] {string} the name of the attribute of each object to compare for uniqueness\n if the key is empty, the entire object will be compared\n if the key === false then no filtering will be performed\n * @return {array}\n */\nangular.module('ui.unique',[]).filter('unique', ['$parse', function ($parse) {\n\n  return function (items, filterOn) {\n\n    if (filterOn === false) {\n      return items;\n    }\n\n    if ((filterOn || angular.isUndefined(filterOn)) && angular.isArray(items)) {\n      var newItems = [],\n        get = angular.isString(filterOn) ? $parse(filterOn) : function (item) { return item; };\n\n      var extractValueToCompare = function (item) {\n        return angular.isObject(item) ? get(item) : item;\n      };\n\n      angular.forEach(items, function (item) {\n        var isDuplicate = false;\n\n        for (var i = 0; i < newItems.length; i++) {\n          if (angular.equals(extractValueToCompare(newItems[i]), extractValueToCompare(item))) {\n            isDuplicate = true;\n            break;\n          }\n        }\n        if (!isDuplicate) {\n          newItems.push(item);\n        }\n\n      });\n      items = newItems;\n    }\n    return items;\n  };\n}]);\n\n'use strict';\r\n\r\n/**\r\n * General-purpose validator for ngModel.\r\n * angular.js comes with several built-in validation mechanism for input fields (ngRequired, ngPattern etc.) but using\r\n * an arbitrary validation function requires creation of a custom formatters and / or parsers.\r\n * The ui-validate directive makes it easy to use any function(s) defined in scope as a validator function(s).\r\n * A validator function will trigger validation on both model and input changes.\r\n *\r\n * @example <input ui-validate=\" 'myValidatorFunction($value)' \">\r\n * @example <input ui-validate=\"{ foo : '$value > anotherModel', bar : 'validateFoo($value)' }\">\r\n * @example <input ui-validate=\"{ foo : '$value > anotherModel' }\" ui-validate-watch=\" 'anotherModel' \">\r\n * @example <input ui-validate=\"{ foo : '$value > anotherModel', bar : 'validateFoo($value)' }\" ui-validate-watch=\" { foo : 'anotherModel' } \">\r\n *\r\n * @param ui-validate {string|object literal} If strings is passed it should be a scope's function to be used as a validator.\r\n * If an object literal is passed a key denotes a validation error key while a value should be a validator function.\r\n * In both cases validator function should take a value to validate as its argument and should return true/false indicating a validation result.\r\n */\r\nangular.module('ui.validate',[]).directive('uiValidate', function () {\r\n\r\n  return {\r\n    restrict: 'A',\r\n    require: 'ngModel',\r\n    link: function (scope, elm, attrs, ctrl) {\r\n      var validateFn, validators = {},\r\n          validateExpr = scope.$eval(attrs.uiValidate);\r\n\r\n      if (!validateExpr){ return;}\r\n\r\n      if (angular.isString(validateExpr)) {\r\n        validateExpr = { validator: validateExpr };\r\n      }\r\n\r\n      angular.forEach(validateExpr, function (exprssn, key) {\r\n        validateFn = function (valueToValidate) {\r\n          var expression = scope.$eval(exprssn, { '$value' : valueToValidate });\r\n          if (angular.isObject(expression) && angular.isFunction(expression.then)) {\r\n            // expression is a promise\r\n            expression.then(function(){\r\n              ctrl.$setValidity(key, true);\r\n            }, function(){\r\n              ctrl.$setValidity(key, false);\r\n            });\r\n            return valueToValidate;\r\n          } else if (expression) {\r\n            // expression is true\r\n            ctrl.$setValidity(key, true);\r\n            return valueToValidate;\r\n          } else {\r\n            // expression is false\r\n            ctrl.$setValidity(key, false);\r\n            return valueToValidate;\r\n          }\r\n        };\r\n        validators[key] = validateFn;\r\n        ctrl.$formatters.push(validateFn);\r\n        ctrl.$parsers.push(validateFn);\r\n      });\r\n\r\n      function apply_watch(watch)\r\n      {\r\n          //string - update all validators on expression change\r\n          if (angular.isString(watch))\r\n          {\r\n              scope.$watch(watch, function(){\r\n                  angular.forEach(validators, function(validatorFn){\r\n                      validatorFn(ctrl.$modelValue);\r\n                  });\r\n              });\r\n              return;\r\n          }\r\n\r\n          //array - update all validators on change of any expression\r\n          if (angular.isArray(watch))\r\n          {\r\n              angular.forEach(watch, function(expression){\r\n                  scope.$watch(expression, function()\r\n                  {\r\n                      angular.forEach(validators, function(validatorFn){\r\n                          validatorFn(ctrl.$modelValue);\r\n                      });\r\n                  });\r\n              });\r\n              return;\r\n          }\r\n\r\n          //object - update appropriate validator\r\n          if (angular.isObject(watch))\r\n          {\r\n              angular.forEach(watch, function(expression, validatorKey)\r\n              {\r\n                  //value is string - look after one expression\r\n                  if (angular.isString(expression))\r\n                  {\r\n                      scope.$watch(expression, function(){\r\n                          validators[validatorKey](ctrl.$modelValue);\r\n                      });\r\n                  }\r\n\r\n                  //value is array - look after all expressions in array\r\n                  if (angular.isArray(expression))\r\n                  {\r\n                      angular.forEach(expression, function(intExpression)\r\n                      {\r\n                          scope.$watch(intExpression, function(){\r\n                              validators[validatorKey](ctrl.$modelValue);\r\n                          });\r\n                      });\r\n                  }\r\n              });\r\n          }\r\n      }\r\n      // Support for ui-validate-watch\r\n      if (attrs.uiValidateWatch){\r\n          apply_watch( scope.$eval(attrs.uiValidateWatch) );\r\n      }\r\n    }\r\n  };\r\n});\r\n\nangular.module('ui.utils',  [\n  'ui.event',\n  'ui.format',\n  'ui.highlight',\n  'ui.include',\n  'ui.indeterminate',\n  'ui.inflector',\n  'ui.jq',\n  'ui.keypress',\n  'ui.mask',\n  'ui.reset',\n  'ui.route',\n  'ui.scrollfix',\n  'ui.scroll',\n  'ui.scroll.jqlite',\n  'ui.showhide',\n  'ui.unique',\n  'ui.validate'\n]);\n"]}