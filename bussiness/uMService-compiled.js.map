{"version":3,"sources":["uMService.js"],"names":[],"mappings":"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","file":"uMService-compiled.js","sourcesContent":["var co = require('co');\nvar banners = require('../models/banners').banners;\nvar fileService = require('../sys/service/fileService');\nvar bannersService = {\n\t//这里是保存实体\n\tumSplit:function(req,res,param){\n\t\tvar configJson = /* 前后端通信相关的配置,注释只允许使用多行方式 */\n\t\t{\n\t\t\t/* 上传图片配置项 */\n\t\t\t\"imageActionName\": \"uploadimage\", /* 执行上传图片的action名称 */\n\t\t\t\"imageFieldName\": \"file\", /* 提交的图片表单名称 */\n\t\t\t\"imageMaxSize\": 2048000, /* 上传大小限制，单位B */\n\t\t\t\"imageAllowFiles\": [\".png\", \".jpg\", \".jpeg\", \".gif\", \".bmp\"], /* 上传图片格式显示 */\n\t\t\t\"imageCompressEnable\": true, /* 是否压缩图片,默认是true */\n\t\t\t\"imageCompressBorder\": 1600, /* 图片压缩最长边限制 */\n\t\t\t\"imageInsertAlign\": \"none\", /* 插入的图片浮动方式 */\n\t\t\t\"imageUrlPrefix\": \"\", /* 图片访问路径前缀 */\n\t\t\t\"imagePathFormat\": \"/ueditor/jsp/upload/image/{yyyy}{mm}{dd}/{time}{rand:6}\", /* 上传保存路径,可以自定义保存路径和文件名格式 */\n\t\t\t/* {filename} 会替换成原文件名,配置这项需要注意中文乱码问题 */\n\t\t\t/* {rand:6} 会替换成随机数,后面的数字是随机数的位数 */\n\t\t\t/* {time} 会替换成时间戳 */\n\t\t\t/* {yyyy} 会替换成四位年份 */\n\t\t\t/* {yy} 会替换成两位年份 */\n\t\t\t/* {mm} 会替换成两位月份 */\n\t\t\t/* {dd} 会替换成两位日期 */\n\t\t\t/* {hh} 会替换成两位小时 */\n\t\t\t/* {ii} 会替换成两位分钟 */\n\t\t\t/* {ss} 会替换成两位秒 */\n\t\t\t/* 非法字符 \\ : * ? \" < > | */\n\t\t\t/* 具请体看线上文档: fex.baidu.com/ueditor/#use-format_upload_filename */\n\n\t\t\t/* 涂鸦图片上传配置项 */\n\t\t\t\"scrawlActionName\": \"uploadscrawl\", /* 执行上传涂鸦的action名称 */\n\t\t\t\"scrawlFieldName\": \"upfile\", /* 提交的图片表单名称 */\n\t\t\t\"scrawlPathFormat\": \"/ueditor/jsp/upload/image/{yyyy}{mm}{dd}/{time}{rand:6}\", /* 上传保存路径,可以自定义保存路径和文件名格式 */\n\t\t\t\"scrawlMaxSize\": 2048000, /* 上传大小限制，单位B */\n\t\t\t\"scrawlUrlPrefix\": \"\", /* 图片访问路径前缀 */\n\t\t\t\"scrawlInsertAlign\": \"none\",\n\n\t\t\t/* 截图工具上传 */\n\t\t\t\"snapscreenActionName\": \"uploadimage\", /* 执行上传截图的action名称 */\n\t\t\t\"snapscreenPathFormat\": \"/ueditor/jsp/upload/image/{yyyy}{mm}{dd}/{time}{rand:6}\", /* 上传保存路径,可以自定义保存路径和文件名格式 */\n\t\t\t\"snapscreenUrlPrefix\": \"\", /* 图片访问路径前缀 */\n\t\t\t\"snapscreenInsertAlign\": \"none\", /* 插入的图片浮动方式 */\n\n\t\t\t/* 抓取远程图片配置 */\n\t\t\t\"catcherLocalDomain\": [\"127.0.0.1\", \"localhost\", \"img.baidu.com\"],\n\t\t\t\"catcherActionName\": \"catchimage\", /* 执行抓取远程图片的action名称 */\n\t\t\t\"catcherFieldName\": \"source\", /* 提交的图片列表表单名称 */\n\t\t\t\"catcherPathFormat\": \"/ueditor/jsp/upload/image/{yyyy}{mm}{dd}/{time}{rand:6}\", /* 上传保存路径,可以自定义保存路径和文件名格式 */\n\t\t\t\"catcherUrlPrefix\": \"\", /* 图片访问路径前缀 */\n\t\t\t\"catcherMaxSize\": 2048000, /* 上传大小限制，单位B */\n\t\t\t\"catcherAllowFiles\": [\".png\", \".jpg\", \".jpeg\", \".gif\", \".bmp\"], /* 抓取图片格式显示 */\n\n\t\t\t/* 上传视频配置 */\n\t\t\t\"videoActionName\": \"uploadvideo\", /* 执行上传视频的action名称 */\n\t\t\t\"videoFieldName\": \"file\", /* 提交的视频表单名称 */\n\t\t\t\"videoPathFormat\": \"/ueditor/jsp/upload/video/{yyyy}{mm}{dd}/{time}{rand:6}\", /* 上传保存路径,可以自定义保存路径和文件名格式 */\n\t\t\t\"videoUrlPrefix\": \"\", /* 视频访问路径前缀 */\n\t\t\t\"videoMaxSize\": 102400000, /* 上传大小限制，单位B，默认100MB */\n\t\t\t\"videoAllowFiles\": [\n\t\t\t\t\".flv\", \".swf\", \".mkv\", \".avi\", \".rm\", \".rmvb\", \".mpeg\", \".mpg\",\n\t\t\t\t\".ogg\", \".ogv\", \".mov\", \".wmv\", \".mp4\", \".webm\", \".mp3\", \".wav\", \".mid\"], /* 上传视频格式显示 */\n\n\t\t\t/* 上传文件配置 */\n\t\t\t\"fileActionName\": \"uploadfile\", /* controller里,执行上传视频的action名称 */\n\t\t\t\"fileFieldName\": \"upfile\", /* 提交的文件表单名称 */\n\t\t\t\"filePathFormat\": \"/ueditor/jsp/upload/file/{yyyy}{mm}{dd}/{time}{rand:6}\", /* 上传保存路径,可以自定义保存路径和文件名格式 */\n\t\t\t\"fileUrlPrefix\": \"\", /* 文件访问路径前缀 */\n\t\t\t\"fileMaxSize\": 51200000, /* 上传大小限制，单位B，默认50MB */\n\t\t\t\"fileAllowFiles\": [\n\t\t\t\t\".png\", \".jpg\", \".jpeg\", \".gif\", \".bmp\",\n\t\t\t\t\".flv\", \".swf\", \".mkv\", \".avi\", \".rm\", \".rmvb\", \".mpeg\", \".mpg\",\n\t\t\t\t\".ogg\", \".ogv\", \".mov\", \".wmv\", \".mp4\", \".webm\", \".mp3\", \".wav\", \".mid\",\n\t\t\t\t\".rar\", \".zip\", \".tar\", \".gz\", \".7z\", \".bz2\", \".cab\", \".iso\",\n\t\t\t\t\".doc\", \".docx\", \".xls\", \".xlsx\", \".ppt\", \".pptx\", \".pdf\", \".txt\", \".md\", \".xml\"\n\t\t\t], /* 上传文件格式显示 */\n\n\t\t\t/* 列出指定目录下的图片 */\n\t\t\t\"imageManagerActionName\": \"listimage\", /* 执行图片管理的action名称 */\n\t\t\t\"imageManagerListPath\": \"/ueditor/jsp/upload/image/\", /* 指定要列出图片的目录 */\n\t\t\t\"imageManagerListSize\": 20, /* 每次列出文件数量 */\n\t\t\t\"imageManagerUrlPrefix\": \"\", /* 图片访问路径前缀 */\n\t\t\t\"imageManagerInsertAlign\": \"none\", /* 插入的图片浮动方式 */\n\t\t\t\"imageManagerAllowFiles\": [\".png\", \".jpg\", \".jpeg\", \".gif\", \".bmp\"], /* 列出的文件类型 */\n\n\t\t\t/* 列出指定目录下的文件 */\n\t\t\t\"fileManagerActionName\": \"listfile\", /* 执行文件管理的action名称 */\n\t\t\t\"fileManagerListPath\": \"/ueditor/jsp/upload/file/\", /* 指定要列出文件的目录 */\n\t\t\t\"fileManagerUrlPrefix\": \"\", /* 文件访问路径前缀 */\n\t\t\t\"fileManagerListSize\": 20, /* 每次列出文件数量 */\n\t\t\t\"fileManagerAllowFiles\": [\n\t\t\t\t\".png\", \".jpg\", \".jpeg\", \".gif\", \".bmp\",\n\t\t\t\t\".flv\", \".swf\", \".mkv\", \".avi\", \".rm\", \".rmvb\", \".mpeg\", \".mpg\",\n\t\t\t\t\".ogg\", \".ogv\", \".mov\", \".wmv\", \".mp4\", \".webm\", \".mp3\", \".wav\", \".mid\",\n\t\t\t\t\".rar\", \".zip\", \".tar\", \".gz\", \".7z\", \".bz2\", \".cab\", \".iso\",\n\t\t\t\t\".doc\", \".docx\", \".xls\", \".xlsx\", \".ppt\", \".pptx\", \".pdf\", \".txt\", \".md\", \".xml\"\n\t\t\t] /* 列出的文件类型 */\n\n\t\t};\n\t\tif(param.action=='uploadimage'){\n\t\t\tfileService.ueUpload(req,res,param);\n\t\t}else if(param.action=='uploadvideo'){\n\t\t\tfileService.ueUpload(req,res,param);\n\t\t}else{\n\t\t\tres.send(configJson);\n\t\t}\n\t}\n}\n\nmodule.exports = bannersService;\n"]}