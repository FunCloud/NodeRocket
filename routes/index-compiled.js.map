{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,SAAS,QAAQ,MAAR,EAAb;AACA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,WAAW,QAAQ,UAAR,CAAf;AACA,SAAS,OAAT,GAAmB,OAAO,OAA1B,C;AACA,IAAI,OAAO,QAAQ,iBAAR,EAA2B,IAAtC;AACA,SAAS,OAAT,CAAiB,8CAAjB;;;AAGA,IAAI,aAAa,aAAY;AAC3B,MAAI,UAAU,MAAM,KAAK,UAAL,CAAgB,EAAC,MAAK,SAAN,EAAhB,CAApB;AACA,MAAI,UAAU,MAAM,KAAK,MAAL,CAAY,EAAC,KAAI,QAAQ,GAAb,EAAZ,EAA8B,EAAC,MAAK,WAAN,EAA9B,CAApB;AACA,MAAI,UAAU,MAAM,KAAK,SAAL,CAAe,EAAC,KAAI,QAAQ,GAAb,EAAf,CAApB;AACA,SAAO,OAAP;AACD,CALD;;;AASA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;AACvC,KAAG,UAAH,EAAe,IAAf,CAAoB,UAAS,IAAT,EAAc;AAChC,QAAI,IAAJ,CAAS,IAAT,E;AACD,GAFD;AAGD,CAJD;;AAMA,OAAO,OAAP,GAAiB,MAAjB","file":"index-compiled.js","sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar co = require('co');\nvar mongoose = require('mongoose');\nmongoose.Promise = global.Promise;//内置使用的是bluebird,现在换成原生的,后期有空再弄\nvar user = require('../models/user1').user;\nmongoose.connect('mongodb://dapaer:dapaer@localhost:27017/node');\n//var db = mongoose.connection;\n//db.on('error', console.error.bind(console, 'connection error:'));\nvar saveAndGet = function*() {\n  var result1 = yield user.saveEntity({name:'dapaer1'});\n  var result2 = yield user.update({_id:result1._id},{name:\"dapaer001\"});\n  var result3 = yield user.queryById({_id:result1._id});\n  return result3;\n}\n\n\n/* GET home page. */\nrouter.get('/', function(req, res, next) {\n  co(saveAndGet).then(function(data){\n    res.send(data);//render('index', { title: 'Express' });\n  })\n});\n\nmodule.exports = router;\n"]}